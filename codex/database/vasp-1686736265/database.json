{"INCAR": {"PREC": {"datatype": "string", "default": [["Medium", "for VASP.4.X"], ["Normal", "for VASP.5.X"]], "options": {"Low": null, "Medium": null, "High": null, "Normal": null, "Single": null, "Accurate": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a> specifies the \"precision\"-mode.</span>", "id": 9, "info": "<div><p>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a> parameter sets the defaults for four sets of parameters (<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>; <a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>; <a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>, and <a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>):\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a></td>\n<td align=\"center\"><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">Y</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">Z</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">YF</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">ZF</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>\n</td></tr>\n<tr>\n<td>Normal</td>\n<td align=\"center\">max(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>)</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td align=\"center\">2&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a></td>\n<td>-5&#215;10<sup>-4</sup>\n</td></tr>\n<tr>\n<td>Single (VASP.5)</td>\n<td align=\"center\">max(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>)</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td align=\"center\"><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a></td>\n<td>-5&#215;10<sup>-4</sup>\n</td></tr>\n<tr>\n<td>Single (VASP.6)</td>\n<td align=\"center\">max(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>)</td>\n<td>2 &#215;G<sub>cut</sub></td>\n<td align=\"center\"><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a></td>\n<td>-5&#215;10<sup>-4</sup>\n</td></tr>\n<tr>\n<td>SingleN (VASP.6 development)\n</td>\n<td align=\"center\">max(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>)\n</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td>\n<td align=\"center\"><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>\n</td>\n<td>-5&#215;10<sup>-4</sup>\n</td></tr>\n<tr>\n<td>Accurate</td>\n<td align=\"center\">max(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>)</td>\n<td align=\"center\">2&#215;G<sub>cut</sub></td>\n<td align=\"center\">2&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a></td>\n<td>-2.5&#215;10<sup>-4</sup>\n</td></tr>\n<tr>\n<td colspan=\"5\">&#160;<b>old settings:</b>\n</td></tr>\n<tr>\n<td>Low</td>\n<td align=\"center\">max(<a href=\"https://www.vasp.at/wiki/index.php?title=ENMIN&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ENMIN (page does not exist)\">ENMIN</a>)</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td align=\"center\">3&#215;G<sub>aug</sub></td>\n<td>-1&#215;10<sup>-2</sup>\n</td></tr>\n<tr>\n<td>Medium</td>\n<td align=\"center\">max(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>)</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td align=\"center\">4&#215;G<sub>aug</sub></td>\n<td>-2&#215;10<sup>-3</sup>\n</td></tr>\n<tr>\n<td>High</td>\n<td>1.3&#215;max(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>)</td>\n<td align=\"center\">2&#215;G<sub>cut</sub></td>\n<td align=\"center\">16/3&#215;G<sub>aug</sub></td>\n<td>-4&#215;10<sup>-4</sup>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>where max(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>) and max(<a href=\"https://www.vasp.at/wiki/index.php?title=ENMIN&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ENMIN (page does not exist)\">ENMIN</a>) are the maximum <a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a> and <a href=\"https://www.vasp.at/wiki/index.php?title=ENMIN&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ENMIN (page does not exist)\">ENMIN</a> found on the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file, and\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}\\qquad E_{\\rm {aug}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {aug}}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n        <mspace width=\"2em\"></mspace>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">g</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">g</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}\\qquad E_{\\rm {aug}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {aug}}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1430812cba33ba3fd6eddfe8604808ccf4c92713\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:38.613ex; height:6.009ex;\" alt=\"E_{{{\\rm {cut}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {cut}}}}^{2}\\qquad E_{{{\\rm {aug}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {aug}}}}^{2}\"></span></dd></dl>\n<p>with E<sub>cut</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> and E<sub>aug</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>.\n</p><p><b>Mind</b>: the settiLow ||align=\"center\"|max(<a href=\"https://www.vasp.at/wiki/index.php?title=ENMIN&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ENMIN (page does not exist)\">ENMIN</a>) || 3/2&#215;G<sub>cut</sub> ||align=\"center\"|3&#215;G<sub>aug</sub> ||-1&#215;10<sup>-2</sup>ngs <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Normal</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Accurate</span> are only available in VASP.4.5 and newer versions. The setting </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Single</span> is only available as of VASP.5.1, and has been updated in VASP.6.\n</span></p>\n<ul><li>Plane wave kinetic energy cutoff (<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>):</li></ul>\n<dl><dd>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>-tag determines the energy cutoff <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>, if <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> is not specified in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Low</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> will be set to the maximal <a href=\"https://www.vasp.at/wiki/index.php?title=ENMIN&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ENMIN (page does not exist)\">ENMIN</a> value found on the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file. For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Medium</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Accurate</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> will be set to maximal <a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a> value found on the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file. Finally for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">High</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> is set to the maximal <a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a> value on the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file plus 30%. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">High</span> guarantees that the absolute energies are converged to a few meV, and it ensures that the stress tensor is converged within a few kBar. In general, an increased energy cutoff is only required for accurate evaluation of quantities related to the stress tensor (e.g. elastic properties).</span></dd></dl>\n<ul><li>FFT grids (<a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>,<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>):</li></ul>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">High</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Accurate</span>, wrap around errors are avoided, all </span><i>G</i>-vectors that are twice as large as the vectors included in the basis set are taken into account in the FFT's. For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Low</span>, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Medium</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Normal</span>, the FFT grids are reduced, and 3/4 of the required values are used. Usually </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Medium</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Normal</span>, are sufficiently accurate with errors less than 1 meV/atom.</span></dd></dl>\n<dl><dd>In addition, the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a> tag determines the spacing for the grids representing the augmentation charges, charge densities and potentials (<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>). For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Accurate</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Normal</span>, the support grid contains twice as many points in each direction as the grids for the orbitals (</span><a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>=<span class=\"tag-value\">2&#215;</span><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>=<span class=\"tag-value\">2&#215;</span><a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>=<span class=\"tag-value\">2&#215;</span><a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>). In all other cases, <a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a> are determined by some heuristic formula from <a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a> (these settings should be avoided).</dd></dl>\n<dl><dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Single</span> uses the same FFT grids as  </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Normal</span> in VASP.5 and the same FFT grids as </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Accurate</span> in  VASP.6. The double grid technique is not used. This is convenient, if one needs to cut down on storage demands, or if one wants to reduce the size of the files </span><a href=\"https://www.vasp.at/wiki/index.php/CHG\" title=\"CHG\" class=\"tag-link\">CHG</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a>. Furthermore, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Single</span> avoids high-frequency oscillations caused by the double-grid technique and the resulting Fourier interpolation. It is often expedient for scanning tunneling simulations or other calculations where high-frequency wiggles of the charge density in the vacuum region are undesirable.</span></dd></dl>\n<ul><li>Real space projectors (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>):</li></ul>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td colspan=\"2\" align=\"center\"><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span class=\"tag-value\">O</span></td>\n<td></td>\n<td colspan=\"2\" align=\"center\"><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span class=\"tag-value\">A</span>\n</td></tr>\n<tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a></td>\n<td></td>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>\n</td></tr>\n<tr>\n<td>Low</td>\n<td>0.67</td>\n<td></td>\n<td>Low</td>\n<td>-1&#215;10<sup>-2</sup>\n</td></tr>\n<tr>\n<td>Med</td>\n<td>1.0</td>\n<td></td>\n<td>Med</td>\n<td>-2&#215;10<sup>-3</sup>\n</td></tr>\n<tr>\n<td>Normal</td>\n<td>1.0</td>\n<td></td>\n<td>Normal</td>\n<td>-5&#215;10<sup>-4</sup>\n</td></tr>\n<tr>\n<td>Single</td>\n<td>1.0</td>\n<td></td>\n<td>Single</td>\n<td>-5&#215;10<sup>-4</sup>\n</td></tr>\n<tr>\n<td>Accurate</td>\n<td>1.0</td>\n<td></td>\n<td>Accurate</td>\n<td>-2.5&#215;10<sup>-4</sup>\n</td></tr>\n<tr>\n<td>High</td>\n<td>1.5</td>\n<td></td>\n<td>High</td>\n<td>-4&#215;10<sup>-4</sup>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PREC%22_incategory:%22Examples%22\" title='Special:Search/\"PREC\" incategory:\"Examples\"'>Examples that use this tag</a>   \n</p>\n</div>", "last_revised": "2023-06-14T12:31:05Z"}, "ICHARG": {"datatype": "integer", "default": [["2", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span class=\"tag-value\">0</span>"], ["0", "else"]], "options": {"0": null, "1": null, "2": null, "4": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a> determines how VASP constructs the <i>initial</i> charge density.</span>", "id": 10, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>Calculate the charge density from initial wave functions.</dd>\n<dd>If <a href=\"https://www.vasp.at/wiki/index.php/ISTART\" title=\"ISTART\" class=\"tag-link\">ISTART</a> is <i>internally reset</i> due to an invalid <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a> will be set to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span><span class=\"tag-value\">2</span>.</span></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span class=\"tag-value\">1</span></li></ul>\n<dl><dd>Read the charge density from <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file, and extrapolate from the old positions (on <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a>) to the new positions using a linear combination of atomic charge densities.</dd>\n<dd>In the <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a>, there is however one important point to keep in mind: For the on-site densities (that is the densities within the PAW sphere) only l-decomposed charge densities up to <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> are written. Upon restart, the energies might therefore differ slightly from the fully converged energies. The discrepancies can be large for the DFT+U method. In this case, one might need to increase <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> to 4 (d-elements) or even 6 (f-elements).</dd></dl>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> To improve convergence and reduce the number of electronic steps, it is recommended to set ICHARG = 1 when starting calculations repeatedly with small changes in the input parameters.\n</div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span class=\"tag-value\">2</span></li></ul>\n<dl><dd>Take superposition of atomic charge densities.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span class=\"tag-value\">4</span></li></ul>\n<dl><dd>Read potential from file <a href=\"https://www.vasp.at/wiki/index.php?title=POT&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"POT (page does not exist)\">POT</a>. The local potential on the file <a href=\"https://www.vasp.at/wiki/index.php?title=POT&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"POT (page does not exist)\">POT</a> is written by the optimized-effective-potential methods (OEP), if the flag <a href=\"https://www.vasp.at/wiki/index.php/LVTOT\" title=\"LVTOT\" class=\"tag-link\">LVTOT</a>=<span><span class=\"tag-value\">.TRUE.</span> is supplied in the </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. Supported as of VASP.5.1.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span class=\"tag-value\">10</span></li></ul>\n<dl><dd>non-selfconsistent calculations: Adding 10 to the value of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>, e.g., <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span><span class=\"tag-value\">11</span> or 12 (or the less convenient value 10) means that the charge density will be kept constant during the </span><i>entire electronic minimization</i>.</dd></dl>\n<dl><dd>There are several reasons why to keep the charge density constant:\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span class=\"tag-value\">11</span></li></ul>\n<dl><dd>To obtain the eigenvalues (for band-structure plots) or the density of states (DOS) of a given charge density read from <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a>. The self-consistent <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file must be determined beforehand by a fully self-consistent calculation with a k-point grid spanning the entire Brillouin zone.</dd></dl></dd></dl>\n<dl><dd><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>=<span class=\"tag-value\">12</span></li></ul>\n<dl><dd>Non-self-consistent calculations for a superposition of atomic charge densities. This is in the spirit of the non-self-consistent <a href=\"https://www.vasp.at/wiki/index.php/Harris-Foulkes_functional\" title=\"Harris-Foulkes functional\">Harris-Foulkes functional</a>. The stress and the forces calculated by VASP are correct, and it is absolutely possible to perform an ab-initio MD for the non-selfconsistent <a href=\"https://www.vasp.at/wiki/index.php/Harris-Foulkes_functional\" title=\"Harris-Foulkes functional\">Harris-Foulkes functional</a>.</dd></dl></dd></dl>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a> is set to 11 or 12, it is strongly recommended to set <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> to twice the maximum l-quantum number in the pseudopotentials. Thus, for s and p elements <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> should be set to 2, for d elements <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> should be set to 4, and for f elements <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> should be set to 6.\n</div></dd></dl>\n<p>The initial charge density is of importance in the following cases:\n</p>\n<ul><li>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHARG\">ICHARG</a>&#8805;<span><span class=\"tag-value\">10</span> the charge density remains constant during the run.</span></li></ul>\n<ul><li>For all algorithms except <a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">5X</span> the initial charge density is used to set up the initial Hamiltonian that is used in the first few non-selfconsistent steps, c.f., </span><a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a> tag.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ISTART\" title=\"ISTART\" class=\"tag-link\">ISTART</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCHARG\" title=\"LCHARG\" class=\"tag-link\">LCHARG</a>, <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>, <a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a>, <a href=\"https://www.vasp.at/wiki/index.php/INIWAV\" title=\"INIWAV\" class=\"tag-link\">INIWAV</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ICHARG%22_incategory:%22Examples%22\" title='Special:Search/\"ICHARG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-12T11:56:52Z"}, "ISTART": {"datatype": "integer", "default": [["1", "if a <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/WAVECAR\">WAVECAR</a> file exists"], ["0", "else"]], "options": {"0": null, "1": null, "2": null, "3": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a> determines whether or not to read the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/WAVECAR\">WAVECAR</a> file.</span>", "id": 19, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>Start job: \"begin from scratch\". Initialize the orbitals according to the flag <a href=\"https://www.vasp.at/wiki/index.php/INIWAV\" title=\"INIWAV\" class=\"tag-link\">INIWAV</a>.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span class=\"tag-value\">1</span></li></ul>\n<dl><dd>Continuation job: \"restart with constant energy cut-off\". Orbitals are read from the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file (usage is restricted in the parallel version). The set of plane waves will be redefined and re-padded according to the new cell size/shape (<a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a>) and the new plane wave cut-off (<a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>). These values might differ from the old values, that are stored in the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file. If the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file is missing or if the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file contains an inappropriate number of bands and/or k-points the flag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a> will revert to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">0</span> (see above).</span></dd></dl>\n<dl><dd>The usage of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">1</span> is recommended if the size/shape of the supercell (see section on </span><a href=\"https://www.vasp.at/wiki/index.php/Energy_vs_volume_Volume_relaxations_and_Pulay_stress\" title=\"Energy vs volume Volume relaxations and Pulay stress\">volume versus energy</a>) or the cut-off energy changed with respect to the last run and if one wishes to redefine the set of plane waves according to a new setting.</dd></dl>\n<dl><dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">1</span> is the usual setting for convergence tests with respect to the cut-off energy and for all jobs where the volume/cell-shape varies (e.g. to calculate binding energy curves looping over a set of volumes).</span></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span class=\"tag-value\">2</span></li></ul>\n<dl><dd>Continuation job: \"restart with constant basis set\". Orbitals are read from the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file.</dd></dl>\n<dl><dd>The set of plane waves will <b>not</b> be changed even if the cut-off energy or the cell size/shape given on the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> files are different from the values stored on the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file. If the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file is missing or if the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file contains an inappropriate number of bands and/or k-points the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a> will revert to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">0</span> (see above).</span></dd></dl>\n<dl><dd>If the cell shape has not changed then <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">1</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">2</span> lead to the same result.</span></dd></dl>\n<dl><dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">2</span> is usually used if one wishes to restart with the same basis set used in the previous run.</span></dd></dl>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  Due to <a href=\"https://www.vasp.at/wiki/index.php/Energy_vs_volume_Volume_relaxations_and_Pulay_stress\" title=\"Energy vs volume Volume relaxations and Pulay stress\">Pulay stresses</a>, there is a difference between evaluating the equilibrium volume with a constant basis set and a constant energy cut-off (unless absolute convergence with respect to the basis set is achieved!).\n</div></dd></dl>\n<dl><dd>If you are looking for the equilibrium volume, calculations with a constant energy cut-off are preferable to calculations with a constant basis set, therefore always restart with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">1</span> unless you really know what you are looking for (see the section on </span><a href=\"https://www.vasp.at/wiki/index.php/Energy_vs_volume_Volume_relaxations_and_Pulay_stress\" title=\"Energy vs volume Volume relaxations and Pulay stress\">volume versus energy</a>).</dd></dl>\n<dl><dd>There is only one exception to this general rule: all volume/cell shape relaxation algorithms implemented in VASP work with a constant basis set, so continuing such jobs requires to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">2</span> to get a 'consistent restart' with respect to the previous runs (see section </span><a href=\"https://www.vasp.at/wiki/index.php/Energy_vs_volume_Volume_relaxations_and_Pulay_stress\" title=\"Energy vs volume Volume relaxations and Pulay stress\">volume versus energy</a>)!</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span class=\"tag-value\">3</span></li></ul>\n<dl><dd>Continuation job: \"full restart including orbitals and charge prediction\".</dd></dl>\n<dl><dd>Same as <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">2</span> but in addition a valid </span><a href=\"https://www.vasp.at/wiki/index.php/TMPCAR\" title=\"TMPCAR\" class=\"tag-link\">TMPCAR</a> file must exist, containing the positions and orbitals at time steps <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle t(N-1)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>t</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>N</mi>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle t(N-1)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/29dcf11da901bbe5c81dba5985d7c6d708580859\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:8.715ex; height:2.843ex;\" alt=\"t(N-1)\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle t(N-2)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>t</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>N</mi>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>2</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle t(N-2)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8e7dbfeab53b420d3c2c8102b19ccbd63e31eca1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:8.715ex; height:2.843ex;\" alt=\"t(N-2)\"></span>, which are needed for the orbtial and charge prediction scheme (used for MD-runs).</dd></dl>\n<dl><dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">3</span> is generally not recommended unless an operating system imposes a serious restriction on the CPU time per job: if you continue with </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">1</span> or 2, a relatively large number of electronic iterations might be necessary to reach convergence of the orbitals in the second and third molecular-dynamics steps. </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">3</span> therefore saves time and is important if a molecular-dynamics run is split into very small pieces (e.g., </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>&amp;lt;<span><span class=\"tag-value\">10)</span>.</span></dd></dl>\n<dl><dd>Nevertheless, we have found that it is safer to restart the orbital prediction after 100 to 200 steps. If <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>&amp;gt;<span><span class=\"tag-value\">30</span>, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">1</span> or 2 is strongly recommended.</span></dd></dl>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">3</span>, a non-existing </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> or <a href=\"https://www.vasp.at/wiki/index.php/TMPCAR\" title=\"TMPCAR\" class=\"tag-link\">TMPCAR</a> file or any inconsistency of input data will immediately stop execution.\n</div></dd></dl>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ISTART%22_incategory:%22Examples%22\" title='Special:Search/\"ISTART\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:24:06Z"}, "INIWAV": {"datatype": "integer", "default": "1", "options": {"0": null, "1": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIWAV\">INIWAV</a> specifies how to set up the initial orbitals in case <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIWAV\">ISTART</a>=<span><span class=\"tag-value\">0</span>.</span></span>", "id": 20, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIWAV\">INIWAV</a>=<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>Take 'jellium orbitals', i.e., fill the Kohn-Sham&#8211;orbital arrays with plane waves of lowest kinetic energy = lowest eigenvectors for a constant potential ('jellium').</dd></dl>\n<dl><dd><div class=\"alert alert-primary\" role=\"alert\"><h5 class=\"alert-heading\">Important:</h5>  'jellium' calculations require a specific <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file, not included in the standard potential database.\n</div></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIWAV\">INIWAV</a>=<span class=\"tag-value\">1</span></li></ul>\n<dl><dd>Fill the Kohn-Sham&#8211;orbital arrays with random numbers. It is definitely the safest fool-proof switch.</dd></dl>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> Use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIWAV\">INIWAV</a>=<span><span class=\"tag-value\">1</span> whenever possible.\n</span></div></dd></dl>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIWAV\">INIWAV</a> tag is only used for jobs that start from scratch (<a href=\"https://www.vasp.at/wiki/index.php/ISTART\" title=\"ISTART\" class=\"tag-link\">ISTART</a>=<span><span class=\"tag-value\">0)</span> and has no meaning otherwise.\n</span></div><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22INIWAV%22_incategory:%22Examples%22\" title='Special:Search/\"INIWAV\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:23:10Z"}, "NSW": {"datatype": "integer", "default": "0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSW\">NSW</a> sets the maximum number of ionic steps.</span>", "id": 21, "info": "<div><p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>:\n</span></p>\n<dl><dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSW\">NSW</a> gives the number of steps in all ab-initio Molecular Dynamics runs, it <i>has</i> to be supplied therefore, otherwise VASP crashes immediately after having started.</dd></dl>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>!=<span><span class=\"tag-value\">0</span>: \n</span></p>\n<dl><dd>In all minimization algorithms (quasi-Newton, conjugate gradient, and damped molecular dynamics) <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSW\">NSW</a> defines the maximum number of ionic steps.</dd></dl>\n<p><b>Mind</b>: Within each ionic step at most <a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> electronic-SC loops are performed unless the <a href=\"https://www.vasp.at/wiki/index.php/EDIFF\" title=\"EDIFF\" class=\"tag-link\">EDIFF</a> convergence criterium is matched before. Exact Hellmann-Feynman forces and stresses are calculated for each ionic step.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NSW%22_incategory:%22Examples%22\" title='Special:Search/\"NSW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T08:28:02Z"}, "NELM": {"datatype": "integer", "default": "60", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELM\">NELM</a> sets the maximum number of electronic SC (self-consistency) steps.</span>", "id": 22, "info": "<div><p>Normally, there is no need to change the default value: if the self-consistency loop does not converge within 40 steps, it will probably not converge at all. In this case you should reconsider the tags <a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a> or <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>, <a href=\"https://www.vasp.at/wiki/index.php/LSUBROT\" title=\"LSUBROT\" class=\"tag-link\">LSUBROT</a>, and the <a href=\"https://www.vasp.at/wiki/index.php/Category:Density_mixing\" title=\"Category:Density mixing\">mixing parameters</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NELMIN\" title=\"NELMIN\" class=\"tag-link\">NELMIN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NELM%22_incategory:%22Examples%22\" title='Special:Search/\"NELM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:43Z"}, "EDIFF": {"datatype": "real", "default": "1E-4", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">EDIFF</a> specifies the global break condition for the electronic SC-loop. <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">EDIFF</a> is specified in units of eV.</span>", "id": 23, "info": "<div><p>The relaxation of the electronic degrees of freedom stops if the total (free) energy change and the band-structure-energy change ('change of eigenvalues') between two steps are both smaller than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">EDIFF</a> (in eV). For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">EDIFF</a>=<span><span class=\"tag-value\">0</span>, strictly </span><a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> electronic self-consistency steps will be performed.\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> In most cases, the convergence speed is exponential, so often, the cost for the few additional iterations is small. For high precision calculations, we recommend decreasing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">EDIFF</a> to 1E-6. For finite difference calculations (e.g. phonons), even <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">EDIFF</a>=<span><span class=\"tag-value\">1E-7</span> might be required in order to obtain very accurate results.\n</span></div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/EDIFFG\" title=\"EDIFFG\" class=\"tag-link\">EDIFFG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EDIFF%22_incategory:%22Examples%22\" title='Special:Search/\"EDIFF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:11:13Z"}, "ALGO": {"datatype": "string", "default": "Normal", "options": {"Normal": null, "VeryFast": null, "Fast": null, "Conjugate": null, "All": null, "Damped": null, "Subrot": null, "Eigenval": null, "Exact": null, "None": null, "Nothing": null, "CHI": null, "G0W0": null, "GW0": null, "GW": null, "scGW0": null, "scGW": null, "G0W0R": null, "GW0R": null, "GWR": null, "scGW0R": null, "scGWR": null, "ACFDT": null, "RPA": null, "ACFDTR": null, "RPAR": null, "BSE": null, "TDHF": null}, "summary": "the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a> tag is a convenient option to specify the electronic minimization algorithm (as of VASP.4.5) and/or to select the type of <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\">GW calculations</a>.", "id": 24, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Normal</span> selects </span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">38</span> (blocked Davidson iteration scheme).</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">VeryFast</span> selects </span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">48</span> (RMM-DIIS). This algorithm has been updated for vasp.6 to increase robustness. To select the version that was available in vasp.5, select \"Old VeryFast\". </span><a href=\"https://www.vasp.at/wiki/index.php/Category:Hybrid_functionals\" title=\"Category:Hybrid functionals\">hybrid functionals</a> are not supported for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">VeryFast</span>. The algorithm can be combined with </span><a href=\"https://www.vasp.at/wiki/index.php/LDIAG\" title=\"LDIAG\" class=\"tag-link\">LDIAG</a>=<span><span class=\"tag-value\">.FALSE.</span> to conserve the initial orbital order (when orbitals are read from the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file).</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Old</span> VeryFast (or \"ov\" or \"vo\") selects </span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">48</span> (RMM-DIIS). This option is available in vasp.6 and selects the version of the RMM-DIIS algorithm that was available in vasp.5.</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Fast</span> selects a fairly robust mixture of the Davidson and RMM-DIIS algorithms. In this case, Davidson (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">38)</span> is used for the initial phase, and then VASP switches to RMM-DIIS (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">48)</span>. Subsequently, for each ionic update, one </span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">38</span> sweep is performed for each ionic step (except the first one).  This algorithm has been updated for vasp.6 to increase robustness. To select the version that was available in vasp.5, select \"Old Fast\".</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Old</span> Fast (or \"of\" or \"fo\"). This option is available in vasp.6 and selects the </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Fast</span> algorithm that was available in vasp.5.</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Conjugate</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">All</span> selects an \"all band simultaneous update of orbitals\" (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">58</span>, both tags are synonymous).</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Damped</span> selects a damped velocity friction algorithm (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">53)</span>. The algorithm can be combined with </span><a href=\"https://www.vasp.at/wiki/index.php/LDIAG\" title=\"LDIAG\" class=\"tag-link\">LDIAG</a>=<span><span class=\"tag-value\">.FALSE.</span> to conserve the initial orbital order (when orbitals are read from the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file).</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Exact</span> performs an exact diagonalization (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">90)</span>.</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Subrot</span> selects subspace rotation or diagonalization in the sub-space spanned by the orbitals (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">4)</span>.</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Eigenval</span> allows to recalculate one-electron energies, the density of state and perform selected postprocessing using the current orbitals (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">3)</span> e.g. read from the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file.</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">None</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Nothing</span> allows to recalculate the density of states or perform selected postprocessing, using the current orbitals and one electron energies (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">2)</span> e.g. read from the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file.</li></ul>\n<p>More details can be found under the documentation for the tag <a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>.\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> Except for 'None', 'Nothing' and 'Exact'  (which must be spelled out), the first letter determines the applied algorithm.\n</div><p>Conjugate, Subrot, Eigenval, None and Nothing are only supported by vasp.5.2.9 and newer versions.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> For fast convergence, <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> must be set appropriately. E.g. <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>=<span><span class=\"tag-value\">6</span> for systems including f electrons.\n</span></div><p><span id=\"GWALGOS\">\n</span></p>\n<h2><span id=\"ALGO_for_response_functions_and_GW_calculations_and_ACFDT/RPA_calculations\"></span><span class=\"mw-headline\" id=\"ALGO_for_response_functions_and_GW_calculations_and_ACFDT.2FRPA_calculations\">ALGO for response functions and <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a> and <a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations\" title=\"ACFDT/RPA calculations\">ACFDT/RPA calculations</a></span></h2>\n<p>The following tags are available as of VASP.5.X. \n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">CHI</span> calculates the response functions only.</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">TDHF</span> selects TDHF calculations using the VASP internal Cassida code see </span><a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>, (available as of VASP.5.2.12)</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">BSE</span> selects BSE calculations using the VASP internal Cassida code see </span><a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">Timeev</span> performs a delta-pulse in time and then performs </span><a href=\"https://www.vasp.at/wiki/index.php/Timepropagation\" class=\"mw-redirect\" title=\"Timepropagation\">timepropagation</a></li></ul>\n<p><br>\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">ACFDT</span> selects RPA total energy calculations see </span><a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations\" title=\"ACFDT/RPA calculations\">ACFDT/RPA calculations</a></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">RPA</span> synonymous to ACFDT see </span><a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations\" title=\"ACFDT/RPA calculations\">ACFDT/RPA calculations</a> (available as of VASP.5.3.1)</li></ul>\n<p>GW tags have been renamed in VASP as follows\n<span id=\"ALGO_VASP6\">\n</span></p>\n<table class=\"table table-striped table-hover\">\n\n<tbody><tr>\n<th>&lt; 5.2.12\n</th>\n<td>scGW\n</td>\n<td>scGW0\n</td>\n<td>GW\n</td>\n<td>GW0\n</td>\n<td>N/A\n</td>\n<td>N/A\n</td></tr>\n<tr>\n<th>&gt;= 5.2.12, &lt; 6\n</th>\n<td>QPGW\n</td>\n<td>QPGW0\n</td>\n<td>GW\n</td>\n<td>GW0\n</td>\n<td>N/A\n</td>\n<td>N/A\n</td></tr>\n<tr>\n<th>&gt;= 6\n</th>\n<td>QPGW\n</td>\n<td>QPGW0\n</td>\n<td>EVGW\n</td>\n<td>EVGW0\n</td>\n<td>GWR\n</td>\n<td>GW0R\n</td></tr></tbody></table>\n<p class=\"mw-empty-elt\">\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">EVGW0</span> selects single-shot </span><i>G</i><sub>0</sub><i>W</i><sub>0</sub> calculations or partially self-consistent <i>GW</i> calculations. The orbitals (wavefunctions) of the previous groundstate calculations are maintained, and <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#G0W0\" class=\"mw-redirect\" title=\"GW calculations\">G0W0 calculations</a> are performed. If <a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> is set, several iterations are performed, and the QP energies are updated in the calculation of <i>G</i> (for details see <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#gw0\" class=\"mw-redirect\" title=\"GW calculations\">EVGW0 calculations</a>).</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">EVGW</span> selects single-shot </span><i>G</i><sub>0</sub><i>W</i><sub>0</sub> calculations or partially self-consistent <i>GW</i> calculations. The orbitals of the previous groundstate calculations are maintained, and <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#G0W0\" class=\"mw-redirect\" title=\"GW calculations\">G0W0 calculations</a> are performed. If <a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> is set, several iterations are performed, and the QP energies are updated in the calculation of <i>G</i> AND <i>W</i> (for details see <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#qpgw\" class=\"mw-redirect\" title=\"GW calculations\">self-consistent EVGW and QPGW calculations</a>).</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">QPGW0</span> selects self-consistent </span><i>GW</i> calculations including off-diagonal components of the selfenergy. A full update of the QP energies AND one-electron orbitals is performed in the calculation of <i>G</i> only (for details see <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#qpgw0\" class=\"mw-redirect\" title=\"GW calculations\">QPGW0 calculations</a>).</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">QPGW</span> selects self-consistent </span><i>GW</i> calculations, including off-diagonal components of the selfenergy. A full update of the QP energies AND one-electron orbitals is performed in the calculations of <i>G</i> AND <i>W</i> (for details, see <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#qpgw\" class=\"mw-redirect\" title=\"GW calculations\">QPGW calculations</a>).</li></ul>\n<p>Following tags are available as of VASP.6\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">RPAR</span> selects low scaling RPA total energy calculations (for details see </span><a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations#ACFDTR.2FRPAR\" title=\"ACFDT/RPA calculations\">ACFDT/RPA calculations</a>)</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">ACFTDR</span> synonym for RPAR (for details see </span><a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations#ACFDTR.2FRPAR\" title=\"ACFDT/RPA calculations\">ACFDT/RPA calculations</a>)</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">ACFTDRK</span> in combination with LMP2LT = .TRUE. selects the low scaling MP2 total energy calculations (for details see the </span><a href=\"https://www.vasp.at/wiki/index.php/MP2_ground_state_calculation_-_Tutorial\" title=\"MP2 ground state calculation - Tutorial\">MP2 ground state Tutorial</a>)</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">GW0R</span> selects self-consistent GW</span><sub>0</sub> calculations, where only the Green's function <i>G</i> is updated from the corresponding Dyson. The screened potential <i>W</i> remains unchanged after the first iteration. <a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> iteration cycles are performed (see <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#scGW0R\" class=\"mw-redirect\" title=\"GW calculations\">self-consistent GW calculations</a>).</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">GWR</span> selects self-consistent GW calculations, where both, </span><i>G</i> and <i>W</i> are updated from the corresponding Dyson equation. <a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> iteration cycles are performed. (for details see <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#scGWR\" class=\"mw-redirect\" title=\"GW calculations\">self-consistent GW calculations</a>).</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">G0W0R</span> selects single-shot GW calculations, non-interacting </span><i>G</i> and <i>W</i> are determined from Kohn-Sham system and <a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> tag is ignored. Use this tag for single-shot QP energies and first order corrections to density matrix (for details see <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#G0W0R\" class=\"mw-redirect\" title=\"GW calculations\">single-shot GW calculations</a>).</li></ul>\n<div class=\"alert alert-primary\" role=\"alert\"><h5 class=\"alert-heading\">Important:</h5> Changes as of VASP.6.3:\n</div><ul><li><a href=\"https://www.vasp.at/wiki/index.php/NELMGW\" title=\"NELMGW\" class=\"tag-link\">NELMGW</a> replaces <a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> in <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#scGWR\" class=\"mw-redirect\" title=\"GW calculations\">self-consistent GW calculations</a>.</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">CRPA</span> selects </span><a href=\"https://www.vasp.at/wiki/index.php/Constrained%E2%80%93random-phase%E2%80%93approximation_formalism\" title=\"Constrained&#8211;random-phase&#8211;approximation formalism\">constrained RPA alculations</a>.</li></ul>\n<div class=\"alert alert-primary\" role=\"alert\"><h5 class=\"alert-heading\">Important:</h5> available as of VASP.6.4:\n</div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<span><span class=\"tag-value\">EVGW0R</span> selects the low-scaling analogue of EVGW0, that is the low-scaling partially self-consistent GW calculations, where non-interacting </span><i>G</i> and <i>W</i> are determined from Kohn-Sham system and <a href=\"https://www.vasp.at/wiki/index.php/NELMGW\" title=\"NELMGW\" class=\"tag-link\">NELMGW</a> specifies the number of self-consistent loops for <i>G</i>. <i>W</i> is kept on the Kohn-Sham level.</li></ul>\n<p class=\"mw-empty-elt\">\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDIAG\" title=\"LDIAG\" class=\"tag-link\">LDIAG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ALGO%22_incategory:%22Examples%22\" title='Special:Search/\"ALGO\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-11-07T08:45:55Z"}, "LMAXMIX": {"datatype": "integer", "default": "2", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\">LMAXMIX</a> controls up to which <i>l</i>-quantum number the one-center PAW charge densities are passed through the charge density mixer and written to the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CHGCAR\">CHGCAR</a> file.</span>", "id": 25, "info": "<div><p>Higher <i>l</i>-quantum numbers (<i>l</i>&gt;<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\">LMAXMIX</a>) are not handled by the mixer (these components of the one-center charge density are simply set to the value corresponding to the present orbitals). Usually, it is not required to increase <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\">LMAXMIX</a>, but the following two cases are exceptions:\n</p>\n<ul><li>DFT+U calculations require in many cases an increase of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\">LMAXMIX</a> to 4 for <i>d</i>-electrons (or 6 for <i>f</i>-elements) in order to obtain fast convergence to the groundstate.</li></ul>\n<ul><li>The <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file will contain the one-center PAW occupancy matrices up to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\">LMAXMIX</a>. When the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file is read and kept fixed in the course of the calculations (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">11)</span>, the results will be not necessarily identical to a self-consistent run. The deviations will be large for DFT+U calculations. For the calculation of band structures within the DFT+U approach, it is strictly required to increase </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\">LMAXMIX</a> to 4 for <i>d</i>-elements and to 6 for <i>f</i>-elements.</li></ul>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMAXMIX%22_incategory:%22Examples%22\" title='Special:Search/\"LMAXMIX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-11T13:08:41Z"}, "LVTOT": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVTOT\">LVTOT</a> determines whether the total local potential <math>V_{\\text{LOCPOT}}(\\mathbf{r})</math> (in eV) is written to the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPOT\">LOCPOT</a> file</span>", "id": 26, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVTOT\">LVTOT</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>LVTOT</b> = .FALSE.&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVTOT\">LVTOT</a> determines whether the total local potential <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V_{\\text{LOCPOT}}(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>LOCPOT</mtext>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V_{\\text{LOCPOT}}(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/82a5b0351297b5cc5d9594247e34b2e5deff9eb6\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:11.576ex; height:2.843ex;\" alt=\"{\\displaystyle V_{\\text{LOCPOT}}(\\mathbf {r} )}\"></span> (in eV) is written to the <a href=\"https://www.vasp.at/wiki/index.php/LOCPOT\" title=\"LOCPOT\" class=\"tag-link\">LOCPOT</a> file\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V_{\\text{LOCPOT}}(\\mathbf {r} )=V(\\mathbf {r} )+\\int {\\frac {n(\\mathbf {r'} )}{|\\mathbf {r} -\\mathbf {r'} |}}d\\mathbf {r'} +V_{\\text{XC}}(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>LOCPOT</mtext>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mi>V</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>+</mo>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mi>n</mi>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <msup>\n                  <mi mathvariant=\"bold\">r</mi>\n                  <mo>&#8242;</mo>\n                </msup>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <msup>\n                  <mi mathvariant=\"bold\">r</mi>\n                  <mo>&#8242;</mo>\n                </msup>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msup>\n            <mi mathvariant=\"bold\">r</mi>\n            <mo>&#8242;</mo>\n          </msup>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>XC</mtext>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V_{\\text{LOCPOT}}(\\mathbf {r} )=V(\\mathbf {r} )+\\int {\\frac {n(\\mathbf {r'} )}{|\\mathbf {r} -\\mathbf {r'} |}}d\\mathbf {r'} +V_{\\text{XC}}(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4784dd9fd8b2b84121acfd856f7db6ae8769ac45\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.671ex; width:45.414ex; height:6.509ex;\" alt=\"{\\displaystyle V_{\\text{LOCPOT}}(\\mathbf {r} )=V(\\mathbf {r} )+\\int {\\frac {n(\\mathbf {r'} )}{|\\mathbf {r} -\\mathbf {r'} |}}d\\mathbf {r'} +V_{\\text{XC}}(\\mathbf {r} )}\"></span>\n</p><p>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>V</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8e505f45567900bfaf3ceb2f7602c3ff72a982f2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.699ex; height:2.843ex;\" alt=\"{\\displaystyle V(\\mathbf {r} )}\"></span> is the ionic potential,\nthe second term is the Hartree potential and \n<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V_{\\text{XC}}(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>XC</mtext>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V_{\\text{XC}}(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ab1ca787d1605faf51a74dca98c20e93fdabc4b7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.918ex; height:2.843ex;\" alt=\"{\\displaystyle V_{\\text{XC}}(\\mathbf {r} )}\"></span> is the exchange-correlation potential.\n</p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVTOT\">LVTOT</a>=<span><span class=\"tag-value\">.TRUE.</span>, the sum of the ionic, Hartree, and\nexchange-correlation potential is written to the </span><a href=\"https://www.vasp.at/wiki/index.php/LOCPOT\" title=\"LOCPOT\" class=\"tag-link\">LOCPOT</a> file. Please\nalso read the section on the tag <a href=\"https://www.vasp.at/wiki/index.php/LVHAR\" title=\"LVHAR\" class=\"tag-link\">LVHAR</a> for further information.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LVTOT%22_incategory:%22Examples%22\" title='Special:Search/\"LVTOT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:44:32Z"}, "NELMDL": {"datatype": "integer", "default": [["-12", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">ISTART</a>=<span><span class=\"tag-value\">0</span>, </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">INIWAV</a>=<span><span class=\"tag-value\">1</span>, and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">IALGO</a>=<span><span class=\"tag-value\">48</span> or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISTART\">IALGO</a>=<span class=\"tag-value\">50</span>"], ["-5", "else"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a> specifies the number of non-self-consistent steps at the beginning.</span>", "id": 29, "info": "<div><p>If the orbitals are initialized using a random number generator (the default in VASP),  the initial orbitals are usually unreasonable and the iterative matrix diagonalization will require 5-10 steps to obtain reasonable orbitals. The charge density corresponding to the initial orbitals is also, at best, erratic. It is hence advisable to perform a few electronic steps while keeping the initial Hamiltonian fixed. This initial Hamiltonian is usually determined from a superposition of atomic charge densities (see <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>).\n</p><p>Such a 'delay' is absolutely necessary. if the SCF-convergence is slow and problematic (e.g. for surfaces or metallic clusters, low dimensional system). Without a delay, VASP will most likely not converge, or at least the convergence speed is slowed significantly.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a> might be set to a positive or negative value. A negative value means that the delay is only performed in the first ionic step (usually the recommended option). A positive number means that a delay is employed after each ionic movement. This can improve the convergence speed in VASP.6 (see below) but is not recommended in VASP.5.\n</p><p>For calculations using a direct minimization of the Hamiltonian (<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">ALL</span>  or </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">DAMPED)</span>, the Davidson algorithm is used during the delay phase and the Hamiltonian is kept fixed during these steps. \n</span></p><p>Special considerations for VASP.6:\n</p>\n<ul><li>For calculations using a direct minimization of the Hamiltonian (<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">ALL</span> or </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">DAMPED)</span>: if </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a> is set, the Davidson algorithm is used in the first <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a> steps as described above. Using a positive <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a> (i.e. delay in every ionic step) does not work reliably in VASP.5, due to issues in the orbital and charge density prediction. In VASP.6, using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a>=<span><span class=\"tag-value\">1</span> (or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a>=<span><span class=\"tag-value\">2)</span> and direct minimization often improves the stability and efficiency of molecular dynamics simulations or relaxations (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">ALL</span> or </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">DAMPED)</span>. Note, however, that this might require one to prepare a reasonable </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file since <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a>=<span><span class=\"tag-value\">1/2</span> might not suffice to obtain a reasonable set of orbitals from the initial random numbers.</span></li></ul>\n<ul><li>For HF-type calculations, if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a> is larger or equal to 3, VASP will perform  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a> non-selfconsistent steps using the Davidson algorithm, and a local Hamiltonian is calculated using the semi-local DFT functional corresponding to the chosen hybrid functional (i.e. PBE for HSE and PBE0). This is expedient if the ions move by a large distance between the ionic steps. Setting  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a>=<span><span class=\"tag-value\">3</span> can thus improve the stability and performance during relaxations using HF-type Hamiltonians. Try to use </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">All</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMDL\">NELMDL</a>=<span><span class=\"tag-value\">3</span> if you encounter convergence issues during relaxations using HF-type Hamiltonians.</span></li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NELMIN\" title=\"NELMIN\" class=\"tag-link\">NELMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NELMDL%22_incategory:%22Examples%22\" title='Special:Search/\"NELMDL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T15:35:43Z"}, "NELMIN": {"datatype": "integer", "default": "2", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMIN\">NELMIN</a> specifies the minimum number of electronic self-consistency steps. </span>", "id": 30, "info": "<div><p>It is rarely necessary to change the value of the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMIN\">NELMIN</a> tag. In some cases, e.g., in <a href=\"https://www.vasp.at/wiki/index.php/Category:Molecular_dynamics\" title=\"Category:Molecular dynamics\">molecular-dynamics</a> runs, or <a href=\"https://www.vasp.at/wiki/index.php/Category:Ionic_minimization\" title=\"Category:Ionic minimization\">ionic-minimization</a> methods, we recommend increasing the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMIN\">NELMIN</a> tag to a value between 4 and 8.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NELMIN%22_incategory:%22Examples%22\" title='Special:Search/\"NELMIN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:54:10Z"}, "IALGO": {"datatype": "integer", "default": [["8", "for VASP.4.4 and older"], ["38", "else (if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a> is not set)"]], "options": {"-1": null, "2": null, "3": null, "4": null, "5": null, "6": null, "7": null, "8": null, "15": null, "16": null, "17": null, "18": null, "28": null, "38": null, "44": null, "45": null, "46": null, "47": null, "48": null, "53": null, "54": null, "55": null, "56": null, "57": null, "58": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a> selects the algorithm to optimize the orbitals.</span>", "id": 32, "info": "<div><div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> We suggest selecting the algorithms via <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> instead of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>. Algorithms other than those available via <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> are subject to instabilities.\n</div><div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Conjugate_gradient_algorithms\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Conjugate gradient algorithms</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#The_blocked-Davidson_scheme\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">The blocked-Davidson scheme</span></a></li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#RMM-DIIS\" class=\"tag-link\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">RMM-DIIS</span></a></li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Direct_optimization\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Direct optimization</span></a></li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#Miscellaneous\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">Miscellaneous</span></a></li>\n<li class=\"toclevel-1 tocsection-6\"><a href=\"#Related_tags_and_articles\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">Related tags and articles</span></a></li>\n<li class=\"toclevel-1 tocsection-7\"><a href=\"#References\"><span class=\"tocnumber\">7</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Conjugate_gradient_algorithms\">Conjugate gradient algorithms</span></h2>\n<p>The band-by-band conjugate gradient algorithms are no longer maintained or supported.\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">5-8</span>: Conjugate gradient algorithms</span></li></ul>\n<div class=\"alert alert-danger\" role=\"alert\"><h5 class=\"alert-heading\">Deprecated:</h5> Not supported since vasp.5.\n</div><dl><dd>Optimize each band iteratively using a conjugate gradient algorithm. Subspace-diagonalization before conjugate gradient algorithm. The conjugate gradient algorithm is used to optimize the eigenvalue of each band.\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">5</span>\tsteepest descent</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">6</span>\tconjugated gradient</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">7</span>\tpreconditioned steepest descent</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">8</span>\tpreconditioned conjugated gradient</span></li></ul></dd>\n<dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">8</span> is always fastest, whereas </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">5-7</span> are only implemented for test purposes.</span></dd>\n<dd>Please mind, that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">8</span> is not supported as of VASP.4.5, since M. Teter, Corning and M. Payne hold a patent on this algorithm. The algorithms have been replaced by faster and more efficient Davidson-like algorithms.</span></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">15-18</span>: Conjugate gradient algorithms</span></li></ul>\n<div class=\"alert alert-danger\" role=\"alert\"><h5 class=\"alert-heading\">Deprecated:</h5> Not supported since vasp.5.\n</div><dl><dd>Subspace-diagonalization after iterative refinement of the eigenvectors using the conjugate gradient algorithm. These switches are retained for compatibility reasons only and should not be used any longer. Generally <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">5-8</span> is preferable. Sub-switches as above.</span></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">28</span>: Conjugate gradient algorithm</span></li></ul>\n<div class=\"alert alert-danger\" role=\"alert\"><h5 class=\"alert-heading\">Deprecated:</h5> Not supported since vasp.5.\n</div><dl><dd>Subspace-diagonalization before conjugate gradient algorithm. No explicit orthonormalization of the gradients to the trial orbitals is done. This setting saves time, but does fail in most cases (mainly included for test purposes). Try <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">4X</span> (RMM-DIIS) instead.</span></dd></dl>\n<h2><span class=\"mw-headline\" id=\"The_blocked-Davidson_scheme\">The blocked-Davidson scheme</span></h2>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">38</span>: Blocked-Davidson algorithm (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">N)</span>.</span></li></ul>\n<dl><dd>Kosugi algorithm (special blocked-Davidson iteration scheme). This algorithm is the default in VASP.4.6 and VASP.5.X. It optimizes a subset of <a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a> bands simultaneously. The optimized bands are kept orthogonal to all other bands. If problems are encountered with the algorithm, try to decrease <a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>. Such problems are encountered, if linear dependencies develop in the search space. By reducing <a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a> the rank of the search space is decreased.</dd></dl>\n<h2><span class=\"mw-headline\" id=\"RMM-DIIS\">RMM-DIIS</span></h2>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">44-48</span>: Residual minimization method direct inversion in the iterative subspace (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">F)</span>. </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">44-48</span> does not support hybrid functionals.</span></li></ul>\n<dl><dd>The RMM-DIIS algorithm<sup id=\"cite_ref-wood:jpa:1985_1-0\" class=\"reference\"><a href=\"#cite_note-wood:jpa:1985-1\">[1]</a></sup><sup id=\"cite_ref-pulay:cpl:1980_2-0\" class=\"reference\"><a href=\"#cite_note-pulay:cpl:1980-2\">[2]</a></sup> reduces the number of orthonormalization steps (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle O(N^{3})}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>O</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msup>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle O(N^{3})}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/94a8175a94e236a1e3c5da6d1ea2588fdc0a4312\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.76ex; height:3.176ex;\" alt=\"O(N^{3})\"></span>) considerably and is therefore much faster than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">8</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">38</span>, at least for large systems and for workstations with a small memory band width. For optimal performance, we recommend to use this switch together with </span><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">Auto)</span>. The algorithm works in a blocked mode in which several bands are optimized at the same time. This can improve the performance even further on systems with a low memory band width (default is presently </span><a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>=<span><span class=\"tag-value\">4)</span>.</span></dd></dl>\n<dl><dd>The following sub-switches exist:\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">44</span> steepest descent eigenvalue minimization</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">46</span> residuum-minimization + preconditioning</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span> preconditioned residuum-minimization (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span class=\"tag-value\">F)</span></li></ul></dd></dl>\n<dl><dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span> is usually most reliable (</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">44</span> and 46 are mainly for test purposes).</span></dd></dl>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">4X</span>, a subspace-diagonalization is performed before the residual vector minimization, and a Gram-Schmidt orthogonalization is employed after the RMM-DIIS step. In the RMM-DIIS step, each band is optimized individually (without the orthogonality constraint); a maximum of </span><a href=\"https://www.vasp.at/wiki/index.php/NRMM\" title=\"NRMM\" class=\"tag-link\">NRMM</a> iterative steps per band are performed for each band. The default is <a href=\"https://www.vasp.at/wiki/index.php/NRMM\" title=\"NRMM\" class=\"tag-link\">NRMM</a>=<span><span class=\"tag-value\">4</span>, and we recommend leaving this value unchanged.</span></dd></dl>\n<dl><dd>Please mind, that the RMM-DIIS algorithm can fail in rare cases, whereas <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">38</span> did not fail for any system tested up to date. Therefore, if you have problems with </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span> try first to switch to </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">38</span>.</span></dd></dl>\n<dl><dd>However, in some cases the performance gains due to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span> are so significant that </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">38</span> might not be a feasible option. In the following we try to explain what to do if </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span> does not work reliably:</span></dd></dl>\n<dl><dd>In general two major problems can be encountered when using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span>: First, the optimization of unoccupied bands might fail for molecular dynamics and relaxations. This is because our implementation of the RMM-DIIS algorithm treats unoccupied bands more \"sloppy\" then occupied bands during MD's. The problem can be solved rather easily by specifying </span><a href=\"https://www.vasp.at/wiki/index.php/WEIMIN\" title=\"WEIMIN\" class=\"tag-link\">WEIMIN</a>=<span><span class=\"tag-value\">0</span> in the INCAR file. In that case all bands are treated accurately.</span></dd></dl>\n<dl><dd>The other major problem (which occurs also for static calculations) is the initialization of the orbitals. Because the RMM-DIIS algorithm tends to find eigenvectors which are close the the initial set of trial vectors there is no guarantee to converge to the correct ground state! This situation is usually very easy to recognize; whenever one eigenvector is missing in the final solution, the convergence becomes slow at the end (mind, that it is possible that one state with a small fractional occupancy above the Fermi-level is missing). If you suspect that this is the case switch to <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">12</span> (i.e. no update of charge and Hamiltonian) and try to calculate the orbitals with high accuracy (</span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 10^{-6}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mn>10</mn>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>6</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 10^{-6}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/70b5788b8e24bbc50c5c6fc7b5ef4953cb2291e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:4.658ex; height:2.676ex;\" alt=\"10^{{-6}}\"></span>). If the convergence is fairly slow or stucks at some precision, the RMM-DIIS algorithm has problems with the initial set of orbitals (as a rule of thumb not more than 12 electronic iterations should be required to determine the orbital for the default precision for <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">12)</span>. The first thing to do in that case is to increase the number of bands (</span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>) in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. This is usually the simplest and most efficient fix, but it does not work in all cases. This solution is also undesirable for MD's and long relaxations because it increases the computational demand somewhat. A simple alternative - which worked in all tested cases - is to use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">38</span> (Davidson) for a few non selfconsistent iterations and to switch then to the RMM-DIIS algorithm. This setup is automatically selected when </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Fast</span> is specified in the INCAR file (</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a> must not specified in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file in this case).</dd></dl>\n<dl><dd>The final option is somewhat complicated and requires an understanding of how the initialization algorithm of the RMM-DIIS algorithm works: after the random initialization of the orbitals, the initial orbitals for the RMM-DIIS algorithm are determined during a non selfconsistent steepest descent phase (the number of steepest descent sweeps is given by <a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a>, default is <a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a>=<span><span class=\"tag-value\">-12</span> for RMM-DIIS). During this initial phase in each sweep, one steepest descent step per orbital is performed between each sub space rotation. This \"automatic\" simple steepest descent approach during the delay is faced with a rather ill-conditioned minimization problem and can fail to produce reasonable trial orbitals for the RMM-DIIS algorithm. In this case the quantity in the column \"rms\" will not decrease during the initial phase (12 steps), and you must improve the conditioning of the problem by setting the </span><a href=\"https://www.vasp.at/wiki/index.php/ENINI\" title=\"ENINI\" class=\"tag-link\">ENINI</a> parameter in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. <a href=\"https://www.vasp.at/wiki/index.php/ENINI\" title=\"ENINI\" class=\"tag-link\">ENINI</a> controls the cutoff during the initial (steepest descent) phase for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span>. Default for </span><a href=\"https://www.vasp.at/wiki/index.php/ENINI\" title=\"ENINI\" class=\"tag-link\">ENINI</a> is <a href=\"https://www.vasp.at/wiki/index.php/ENINI\" title=\"ENINI\" class=\"tag-link\">ENINI</a>= <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>. If convergence problems are observed, start with a slightly smaller <a href=\"https://www.vasp.at/wiki/index.php/ENINI\" title=\"ENINI\" class=\"tag-link\">ENINI</a>; reduce <a href=\"https://www.vasp.at/wiki/index.php/ENINI\" title=\"ENINI\" class=\"tag-link\">ENINI</a> in steps of 20%, till the norm of the residual vector (column \"rms\") decreases continuously during the first 12 steps.</dd></dl>\n<dl><dd>The algorithm can be combined with <a href=\"https://www.vasp.at/wiki/index.php/LDIAG\" title=\"LDIAG\" class=\"tag-link\">LDIAG</a>=<span><span class=\"tag-value\">.FALSE.</span> to conserve the initial orbital order (when orbitals are read from the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file).</dd></dl>\n<dl><dd>A final note concerns the mixing: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span> dislikes too abrupt mixing. Since the RMM-DIIS algorithm always stays in the space spanned by the initial orbitals, and too strong mixing (large </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>, small <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>) might require discontinuous changes of the orbitals, the initial mixing must not be too sizable for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">48</span>. Try to reduce </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and increase <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> if you suspect such a situation. Increasing <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> also helps in this situation.</dd></dl>\n<h2><span class=\"mw-headline\" id=\"Direct_optimization\">Direct optimization</span></h2>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">53-58</span>: Treat total free energy as variational quantity and minimize the functional completely selfconsistently</span><sup id=\"cite_ref-stich:prb:89_3-0\" class=\"reference\"><a href=\"#cite_note-stich:prb:89-3\">[3]</a></sup><sup id=\"cite_ref-gillan:jpc:89_4-0\" class=\"reference\"><a href=\"#cite_note-gillan:jpc:89-4\">[4]</a></sup><sup id=\"cite_ref-arias:prl:92_5-0\" class=\"reference\"><a href=\"#cite_note-arias:prl:92-5\">[5]</a></sup>.</li></ul>\n<dl><dd>These algorithms have been carefully optimized and should be selected for Hartree-Fock type as well as meta-GGA functionals. The present version is rather stable and robust even for metallic systems.</dd></dl>\n<dl><dd>Important sub-switches:</dd></dl>\n<dl><dd><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">53</span> damped MD with damping term automatically determined by the given time-step (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">D)</span>.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">54</span> damped MD (velocity quenched or quickmin)</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">58</span> preconditioned conjugated gradient (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span class=\"tag-value\">A)</span></li></ul></dd></dl>\n<dl><dd>Furthermore, <a href=\"https://www.vasp.at/wiki/index.php/LSUBROT\" title=\"LSUBROT\" class=\"tag-link\">LSUBROT</a> determines whether the subspace rotation matrix (rotation matrix in the space spanned by the occupied and unoccupied orbitals) is optimized. The current default is <a href=\"https://www.vasp.at/wiki/index.php/LSUBROT\" title=\"LSUBROT\" class=\"tag-link\">LSUBROT</a>=<span><span class=\"tag-value\">.FALSE.</span> This allows for efficient groundstate calculations for insulators. When hybrid functionals are used,  </span><a href=\"https://www.vasp.at/wiki/index.php/LSUBROT\" title=\"LSUBROT\" class=\"tag-link\">LSUBROT</a>=<span><span class=\"tag-value\">.TRUE.</span> can be tried for small gap semiconductors and  metals. This algorithm performs standard SCF steps during the direct optimization steps in order to determine an optimal rotation matrix between occupied and unoccupied orbitals. For hybrid functionals, </span><a href=\"https://www.vasp.at/wiki/index.php/LSUBROT\" title=\"LSUBROT\" class=\"tag-link\">LSUBROT</a>=<span><span class=\"tag-value\">.TRUE.</span> is generally faster, however, in rare cases, it can lead to instabilities</span><sup id=\"cite_ref-kresse:prb:96_6-0\" class=\"reference\"><a href=\"#cite_note-kresse:prb:96-6\">[6]</a></sup>.</dd></dl>\n<dl><dd>The preconditioned conjugate gradient (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">58</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">A)</span> algorithm is recommended for insulators. The best stability is usually obtained if the number of bands equals half the number of electrons (non-spin-polarized case). In this case, the algorithm is fairly robust and foolproof and might even outperform the mixing algorithm.</span></dd></dl>\n<dl><dd>For small gap systems and for metals, it is however usually required (metals) or desirable (semiconductors) to use a larger value for <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>. In this case, we recommend using the damped MD algorithm (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">53</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Damped)</span> instead of the conjugate gradient.</span></dd></dl>\n<dl><dd>The stability of the all bands simultaneously algorithms depends strongly on the setting of <a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a>. For the conjugate gradient case, <a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a> controls the step size in the trial step, which is required in order to perform a line minimization of the energy along the gradient (or conjugated gradient). Too small steps make the line minimization less accurate, whereas too large steps can cause instabilities. The step size is usually automatically scaled by the actual step size minimizing the total energy along the gradient (values can range from 1.0 for insulators to 0.01 for metals with a large density of states at the Fermi-level).</dd></dl>\n<dl><dd>For the damped MD algorithm (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">53</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Damped)</span>, a sensible </span><a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a> step is even more important. In this case <a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a> is not automatically adjusted, and the user is entirely responsible to choose an appropriate value. Too small time steps slow the convergence significantly, whereas too large values will always lead to divergence. It is sensible to optimize this value, in particular, if many different configurations are considered for a particular system. It is recommended to start with a small step size <a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a>, and to increase <a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a> by a factor 1.2 until the calculations diverge. The largest stable step <a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a> should then be used for all calculations.</dd></dl>\n<p>The damped MD algorithm can be combined with <a href=\"https://www.vasp.at/wiki/index.php/LDIAG\" title=\"LDIAG\" class=\"tag-link\">LDIAG</a>=<span><span class=\"tag-value\">.FALSE.</span> to conserve the initial orbital order (when orbitals are read from the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file).\n</p>\n<dl><dd>The final algorithm <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">54</span> also uses a damped molecular dynamics algorithm but quenches the velocities to zero, if they are antiparallel to the present gradient (quick-min). It is usually not as efficient as </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">53</span>, but it is also less sensitive to the </span><a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a> parameter.</dd></dl>\n<dl><dd><b>Mind</b>: it is very important to set an appropriate <a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a> for these algorithms. Furthermore, it might be expedient to set <a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a> to 1 or 2 for molecular dynamics simulations or relaxations in vasp.6. See the corresponding section in the documentation of <a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a>. If the ions move by a very large distance during relaxations, even <a href=\"https://www.vasp.at/wiki/index.php/NELMDL\" title=\"NELMDL\" class=\"tag-link\">NELMDL</a>=<span><span class=\"tag-value\">3</span> can be tried (in particular for HF type Hamiltonians).</span></dd></dl>\n<h2><span class=\"mw-headline\" id=\"Miscellaneous\">Miscellaneous</span></h2>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">-1</span>: Performance test.</span></li></ul>\n<dl><dd>VASP does not perform an actual calculation, only some important parts of the program will be executed and the timing for each part is printed out at the end.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">2</span>: Orbitals and one-electron energies are kept fixed.</span></li></ul>\n<dl><dd>One electron occupancies and electronic density of states (DOS) are, however, recalculated. This option is only useful if a pre-converged <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file is read. The option allows running selected post-processing tasks, such as local DOS, or the interface code to Wannier90.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">3</span>: Orbitals are kept fixed.</span></li></ul>\n<dl><dd>One-electron energies, band structure energies, and the electronic density of states (DOS) are, as well as, the total energy are recalculated for the present Hamiltonian (the one-electron occupancies are kept fixed, however). This option is only useful if a pre-converged <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file is read. The option also allows running selected post-processing tasks, such as local DOS, or the interface code to Wannier90.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">4</span>: Orbitals are updated by applying a sub-space rotation.</span></li></ul>\n<dl><dd>The Hamiltonian is evaluated in the space spanned by the orbitals (read from <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>), and one diagonalization in this space is performed. No optimization outside the subspace spanned by the orbitals is performed. Note: if <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is larger or equal to the total number of plane waves, the resulting one-electron orbitals are exact.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALGO\">IALGO</a>=<span><span class=\"tag-value\">90</span>: Exact Diagonalization. This flag selects an exact diagonalization of the one-electron Hamiltonian. This requires a fairly large amount of memory and should be selected with caution. Specifically, we recommend selecting this algorithm to prepare the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> for RPA or GW calculations, where many unoccupied orbitals are calculated (more than 30-50&#160;% of the states spanned by the full plane-wave basis). To speed up the calculations, we recommend performing a routine ground-state calculation before calculating the unoccupied states.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSUBROT\" title=\"LSUBROT\" class=\"tag-link\">LSUBROT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDIAG\" title=\"LDIAG\" class=\"tag-link\">LDIAG</a> \n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IALGO%22_incategory:%22Examples%22\" title='Special:Search/\"IALGO\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-wood:jpa:1985-1\"><a href=\"#cite_ref-wood:jpa:1985_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1088/0305-4470/18/9/018\">D. M. Wood and A. Zunger, J. Phys. A <b>18</b>, 1343 (1985).</a></span>\n</li>\n<li id=\"cite_note-pulay:cpl:1980-2\"><a href=\"#cite_ref-pulay:cpl:1980_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1016/0009-2614(80)80396-4\">P. Pulay, Chem. Phys. Lett. <b>73</b>, 393 (1980).</a></span>\n</li>\n<li id=\"cite_note-stich:prb:89-3\"><a href=\"#cite_ref-stich:prb:89_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.39.4997\">I. Stich, R. Car, M. Parrinello, and S. Baroni, Phys. Rev. B <b>39</b>, 4997 (1989).</a></span>\n</li>\n<li id=\"cite_note-gillan:jpc:89-4\"><a href=\"#cite_ref-gillan:jpc:89_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1088/0953-8984/1/4/005\">M. J. Gillan, J. Phys.: Condens. Matter <b>1</b>, 689 (1989).</a></span>\n</li>\n<li id=\"cite_note-arias:prl:92-5\"><a href=\"#cite_ref-arias:prl:92_5-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.69.1077\">T.A. Arias, M.C. Payne, and J.D. Joannopoulos, Phys. Rev. Lett. <b>69</b>, 1077 (1992).</a></span>\n</li>\n<li id=\"cite_note-kresse:prb:96-6\"><a href=\"#cite_ref-kresse:prb:96_6-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.54.11169\">G. Kresse and J. Furthm&#252;ller, Phys. Rev. B <b>54</b>, 11169 (1996).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-05-11T10:25:19Z"}, "NBANDS": {"datatype": "integer", "default": "max(<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELECT\">NELECT</a>/2+NIONS/2,<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELECT\">NELECT</a>*0.6)", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a> specifies the total number of KS or QP orbitals in the calculation.</span>", "id": 34, "info": "<div><p>The right choice of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a> strongly depends on the type of the performed calculation and the system. As a minimum, VASP requires all occupied states + one empty band, otherwise, a warning is given. \n</p>\n<div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Electronic_minimization\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Electronic minimization</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#Many-body_perturbation_theory_calculations\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Many-body perturbation theory calculations</span></a></li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#Parallelization\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Parallelization</span></a></li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Spin-polarized_calculation\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Spin-polarized calculation</span></a></li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#Noncollinear_calculation\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">Noncollinear calculation</span></a></li>\n<li class=\"toclevel-1 tocsection-6\"><a href=\"#Related_tags_and_article\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">Related tags and article</span></a></li>\n</ul>\n</div>\n\n<h4><span class=\"mw-headline\" id=\"Electronic_minimization\">Electronic minimization</span></h4>\n<p>In the electronic minimization calculations, empty states do not contribute to the total energy, however, empty states are required to achieve a better convergence. \nIn iterative matrix-diagonalization algorithms (see <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>) eigenvectors close to the top of the calculated number of states converge much slower than the lowest eigenstates, thus it is important to choose a sufficiently large <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a>.  Therefore, we recommend using the default settings for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a>, i.e.,  <i>NELECT/2 + NIONS/2</i>, which is a safe choice in most cases. In some cases, it is also possible to decrease it to <i>NELECT/2+NIONS/4</i>, however, in some transition metals with open <i>f</i> shells a much larger number of empty bands might be required (up to <i>NELECT/2+2*NIONS</i>).  To check this parameter perform several calculations for a fixed potential (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">12)</span> with an increasing number of bands (e.g. starting from </span><i>NELECT/2 + NIONS/2</i>). An accuracy of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 10^{-6}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mn>10</mn>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>6</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 10^{-6}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/70b5788b8e24bbc50c5c6fc7b5ef4953cb2291e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:4.658ex; height:2.676ex;\" alt=\"10^{{-6}}\"></span> should be obtained in 10-15 iterations. \n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> Note that the <a href=\"https://www.vasp.at/wiki/index.php/RMM-DIIS\" title=\"RMM-DIIS\" class=\"tag-link\">RMM-DIIS</a> scheme (<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Fast)</span> is more sensitive to the number of bands than the default Davidson algorithm (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Normal)</span> and can require more bands for fast convergence.\n</span></div><h4><span class=\"mw-headline\" id=\"Many-body_perturbation_theory_calculations\">Many-body perturbation theory calculations</span></h4>\n<p>In the Many-Body Perturbation Theory calculations (<a href=\"https://www.vasp.at/wiki/index.php/Practical_guide_to_GW_calculations\" title=\"Practical guide to GW calculations\"><i>GW</i></a>,<a href=\"https://www.vasp.at/wiki/index.php/RPA/ACFDT:_Correlation_energy_in_the_Random_Phase_Approximation\" title=\"RPA/ACFDT: Correlation energy in the Random Phase Approximation\">RPA</a>, and <a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE</a>), a large number of empty orbitals is usually required, which can be much higher than the number of occupied states.  The convergence of the calculations with a large number of empty states can be very slow. In such cases, we recommend performing an exact diagonalization (<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Exact)</span> of the Hamiltonian with empty bands starting from a converged charge density.\n</span></p>\n<h4><span class=\"mw-headline\" id=\"Parallelization\">Parallelization</span></h4>\n<p>When executed on multiple CPUs, VASP automatically increases the number of bands, so that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a> is divisible by the number of CPU cores.  If <a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>&amp;gt;<span><span class=\"tag-value\">1</span>, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a> is increased until it is divisible by the number of cores in a group (<a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>).  If <a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>&amp;gt;<span><span class=\"tag-value\">1</span>, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a> is increased until it is divisible by the number of cores in a group. \n</p>\n<h4><span class=\"mw-headline\" id=\"Spin-polarized_calculation\">Spin-polarized calculation</span></h4>\n<p>In the case of spin-polarized calculations, the default value for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a> is increased to account for the initial magnetic moments.\n</p>\n<h4><span class=\"mw-headline\" id=\"Noncollinear_calculation\">Noncollinear calculation</span></h4>\n<p>In noncollinear calculations, the default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a> value is doubled to account for the spinors components.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_article\">Related tags and article</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a>, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSGW\" title=\"NBANDSGW\" class=\"tag-link\">NBANDSGW</a>, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSV\" title=\"NBANDSV\" class=\"tag-link\">NBANDSV</a>, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSO\" title=\"NBANDSO\" class=\"tag-link\">NBANDSO</a>, <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a> \n</p>\n</div>", "last_revised": "2022-05-30T13:35:27Z"}, "NELECT": {"datatype": "real", "default": "number of valence electrons", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELECT\">NELECT</a> sets the number of electrons.</span>", "id": 36, "info": "<div><p>Usually you should not set this line. The number of electrons is determined automatically from the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> (ZVAL of the element) and <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file (number of the atoms of the respective atom type).\n</p><p>If the number of electrons is not compatible with the number derived from the valence and the number of atoms a homogeneous background charge is assumed.\n</p><p>If the number of ions specified in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file is 0 and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELECT\">NELECT</a>=<span><span class=\"tag-value\">n</span>, then the energy of a homogeneous LDA-electron gas is calculated.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Monopole_Dipole_and_Quadrupole_corrections\" title=\"Monopole Dipole and Quadrupole corrections\">Monopole Dipole and Quadrupole corrections</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EPSILON\" title=\"EPSILON\" class=\"tag-link\">EPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IDIPOL\" title=\"IDIPOL\" class=\"tag-link\">IDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMONO\" title=\"LMONO\" class=\"tag-link\">LMONO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD\" title=\"EFIELD\" class=\"tag-link\">EFIELD</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NELECT%22_incategory:%22Examples%22\" title='Special:Search/\"NELECT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:59:42Z"}, "LREAL": {"datatype": "string", "default": ".FALSE.", "options": {".FALSE.": null, "Auto (or A)": null, "On (or O)": null, ".TRUE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a> determines whether the projection operators are evaluated in real-space or in reciprocal space.</span>", "id": 39, "info": "<div><table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span class=\"tag-value\">.FALSE.</span></td>\n<td>projection done in reciprocal space\n</td></tr>\n<tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> or A</span></td>\n<td>projection done in real space, fully automatic optimization of projection operators (little to no user interference required)\n</td></tr>\n<tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">On</span> or O</span></td>\n<td>projection done in real space, projection operators are re-optimized (not recommended)\n</td></tr>\n<tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span class=\"tag-value\">.TRUE.</span></td>\n<td>projection done in real space, use projectors on file (not recommended)\n</td></tr></tbody></table>\n<p><br>\nThe non local part of the pseudopotential requires the evaluation of an expression:\n</p><p><br>\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sum _{ij}D_{ij}|\\beta _{j}\\rangle \\langle \\beta _{i}|{\\tilde {\\psi }}_{n\\mathbf {k} }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>D</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#946;<!-- &#946; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>&#946;<!-- &#946; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sum _{ij}D_{ij}|\\beta _{j}\\rangle \\langle \\beta _{i}|{\\tilde {\\psi }}_{n\\mathbf {k} }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/951be204c15d2a068477650b2895af3625b120cf\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:19.304ex; height:5.843ex;\" alt=\"\\sum _{{ij}}D_{{ij}}|\\beta _{j}\\rangle \\langle \\beta _{i}|{\\tilde  {\\psi }}_{{n{\\mathbf  {k}}}}\\rangle \"></span>.</dd></dl></dd></dl>\n<p>where the \"projected wavefunction character\" is defined as:\n</p><p><span id=\"cproj\">\n</span></p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}C_{in\\mathbf {k} }=\\langle \\beta _{i}|{\\tilde {\\psi }}_{n\\mathbf {k} }\\rangle &amp;={\\frac {\\Omega }{N_{\\rm {FFT}}}}\\sum _{\\mathbf {r} }\\langle \\beta _{i}|\\mathbf {r} \\rangle \\langle \\mathbf {r} |{\\tilde {\\psi }}_{n\\mathbf {k} }\\rangle ={\\frac {\\Omega }{N_{\\rm {FFT}}}}\\sum _{\\mathbf {r} }\\beta (\\mathbf {r} ){\\tilde {\\psi }}_{n\\mathbf {k} }(\\mathbf {r} )\\\\&amp;=\\sum _{\\mathbf {G} }\\langle \\beta _{i}|\\mathbf {k} +\\mathbf {G} \\rangle \\langle \\mathbf {k} +\\mathbf {G} |{\\tilde {\\psi }}_{n\\mathbf {k} }\\rangle =\\sum _{\\mathbf {G} }{\\bar {\\beta }}(\\mathbf {k} +\\mathbf {G} )C_{\\mathbf {G} n\\mathbf {k} }\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>C</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo>=</mo>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <msub>\n                  <mi>&#946;<!-- &#946; --></mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mover>\n                        <mi>&#968;<!-- &#968; --></mi>\n                        <mo stretchy=\"false\">~<!-- ~ --></mo>\n                      </mover>\n                    </mrow>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mfrac>\n                    <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n                    <msub>\n                      <mi>N</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi mathvariant=\"normal\">F</mi>\n                          <mi mathvariant=\"normal\">F</mi>\n                          <mi mathvariant=\"normal\">T</mi>\n                        </mrow>\n                      </mrow>\n                    </msub>\n                  </mfrac>\n                </mrow>\n                <munder>\n                  <mo>&#8721;<!-- &#8721; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">r</mi>\n                    </mrow>\n                  </mrow>\n                </munder>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <msub>\n                  <mi>&#946;<!-- &#946; --></mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mover>\n                        <mi>&#968;<!-- &#968; --></mi>\n                        <mo stretchy=\"false\">~<!-- ~ --></mo>\n                      </mover>\n                    </mrow>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n                <mo>=</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mfrac>\n                    <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n                    <msub>\n                      <mi>N</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi mathvariant=\"normal\">F</mi>\n                          <mi mathvariant=\"normal\">F</mi>\n                          <mi mathvariant=\"normal\">T</mi>\n                        </mrow>\n                      </mrow>\n                    </msub>\n                  </mfrac>\n                </mrow>\n                <munder>\n                  <mo>&#8721;<!-- &#8721; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">r</mi>\n                    </mrow>\n                  </mrow>\n                </munder>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mover>\n                        <mi>&#968;<!-- &#968; --></mi>\n                        <mo stretchy=\"false\">~<!-- ~ --></mo>\n                      </mover>\n                    </mrow>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd></mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n                <munder>\n                  <mo>&#8721;<!-- &#8721; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">G</mi>\n                    </mrow>\n                  </mrow>\n                </munder>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <msub>\n                  <mi>&#946;<!-- &#946; --></mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n                <mo>+</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n                <mo>+</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mover>\n                        <mi>&#968;<!-- &#968; --></mi>\n                        <mo stretchy=\"false\">~<!-- ~ --></mo>\n                      </mover>\n                    </mrow>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n                <mo>=</mo>\n                <munder>\n                  <mo>&#8721;<!-- &#8721; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">G</mi>\n                    </mrow>\n                  </mrow>\n                </munder>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mover>\n                      <mi>&#946;<!-- &#946; --></mi>\n                      <mo stretchy=\"false\">&#175;<!-- &#175; --></mo>\n                    </mover>\n                  </mrow>\n                </mrow>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n                <mo>+</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>C</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">G</mi>\n                    </mrow>\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}C_{in\\mathbf {k} }=\\langle \\beta _{i}|{\\tilde {\\psi }}_{n\\mathbf {k} }\\rangle &amp;={\\frac {\\Omega }{N_{\\rm {FFT}}}}\\sum _{\\mathbf {r} }\\langle \\beta _{i}|\\mathbf {r} \\rangle \\langle \\mathbf {r} |{\\tilde {\\psi }}_{n\\mathbf {k} }\\rangle ={\\frac {\\Omega }{N_{\\rm {FFT}}}}\\sum _{\\mathbf {r} }\\beta (\\mathbf {r} ){\\tilde {\\psi }}_{n\\mathbf {k} }(\\mathbf {r} )\\\\&amp;=\\sum _{\\mathbf {G} }\\langle \\beta _{i}|\\mathbf {k} +\\mathbf {G} \\rangle \\langle \\mathbf {k} +\\mathbf {G} |{\\tilde {\\psi }}_{n\\mathbf {k} }\\rangle =\\sum _{\\mathbf {G} }{\\bar {\\beta }}(\\mathbf {k} +\\mathbf {G} )C_{\\mathbf {G} n\\mathbf {k} }\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/12a280b7516552b343fbdc2d39401628f25b5f46\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -5.505ex; width:68.493ex; height:12.176ex;\" alt=\"{\\begin{aligned}C_{{in{\\mathbf  {k}}}}=\\langle \\beta _{i}|{\\tilde  {\\psi }}_{{n{\\mathbf  {k}}}}\\rangle &amp;={\\frac  {\\Omega }{N_{{{\\rm {FFT}}}}}}\\sum _{{{\\mathbf  {r}}}}\\langle \\beta _{i}|{\\mathbf  {r}}\\rangle \\langle {\\mathbf  {r}}|{\\tilde  {\\psi }}_{{n{\\mathbf  {k}}}}\\rangle ={\\frac  {\\Omega }{N_{{{\\rm {FFT}}}}}}\\sum _{{{\\mathbf  {r}}}}\\beta ({\\mathbf  {r}}){\\tilde  {\\psi }}_{{n{\\mathbf  {k}}}}({\\mathbf  {r}})\\\\&amp;=\\sum _{{{\\mathbf  {G}}}}\\langle \\beta _{i}|{\\mathbf  {k}}+{\\mathbf  {G}}\\rangle \\langle {\\mathbf  {k}}+{\\mathbf  {G}}|{\\tilde  {\\psi }}_{{n{\\mathbf  {k}}}}\\rangle =\\sum _{{\\mathbf  {G}}}{\\bar  \\beta }({\\mathbf  {k}}+{\\mathbf  {G}})C_{{{\\mathbf  {G}}n{\\mathbf  {k}}}}\\end{aligned}}\"></span></dd></dl></dd></dl>\n<p class=\"mw-empty-elt\">\n</p><p>This expression can be evaluated in reciprocal or real space: In reciprocal space (second line) the number of operations scales with the size of the basis set (i.e. number of plane waves). In real space (first line) the projection operators are confined to spheres around each atom. Therefore the number of operations necessary to evaluate one C<sub>in<b>k</b></sub> does not increase with the system size (usually the number of grid points within the cut-off-sphere is between 500 and 2000). One of the major obstacles to the method working in real space is that the projection operators must be optimized, i.e. all high Fourier components must be removed from the projection operators. If this is not done \"aliasing\" can happen, i.e., the high Fourier components of the projection operators are downfolded to low Fourier components and random noise is introduced).\n</p><p>Currently, VASP supports three different schemes to remove the high Fourier components from the projectors. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">.TRUE.</span> is the simplest one. For </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">.TRUE.</span>, the real space projectors that have been generated by the pseudopotential generation code are used. This requires no user interference but is potentially very inaccurate. For the outdated </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">On</span>, the real space projectors are optimized by VASP using an algorithm proposed by King-Smith et al.</span><sup id=\"cite_ref-kingsmith:prb:91_1-0\" class=\"reference\"><a href=\"#cite_note-kingsmith:prb:91-1\">[1]</a></sup> For the recommended <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span>, an unpublished scheme</span><sup id=\"cite_ref-kresse:tobepublished_2-0\" class=\"reference\"><a href=\"#cite_note-kresse:tobepublished-2\">[2]</a></sup> is used which  results in simultaneously more accurate and localized projector functions than for the King-Smith et al. method. To fine-tune the optimization procedure the flag <a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a> can and should be used, if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> (or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">On)</span> is used. Specifically, perform first reference calculations using </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=.False. and decrease <a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a> until an acceptable accuracy of say 1 meV/atom is attained. Please also check carefully the documentation for <a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>.\n</p><p>We recommend using the real-space projection scheme for systems containing more than about 30 atoms. We also strongly recommend using only <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span>.\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">A</span> (and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">O)</span> the projection operators are optimized by VASP on the fly (i.e. on startup). Several flags influence the optimization:\n</span></p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> (i.e. the energy cutoff), components beyond the energy cutoff are 'removed' from the projection operators.</li></ul>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a> tag specifies how precise the real space projectors should be and sets the variables <a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a> accordingly to the following values:</li></ul>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span class=\"tag-value\">Auto</span></dd></dl>\n<dl><dd><dl><dd><table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">Fast</span></td>\n<td>accuracy 2&#160;&#183;&#160; 10<sup>-3</sup> (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span><span class=\"tag-value\">0</span>.002)\n</span></td></tr>\n<tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">Normal</span></td>\n<td>accuracy 5&#160;&#183;&#160;10<sup>-4</sup> (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span class=\"tag-value\">5E-4)</span>\n</td></tr>\n<tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">Accurate</span></td>\n<td>accuracy 2.5&#160;&#183;&#160;10<sup>-4</sup> (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span><span class=\"tag-value\">2</span>.5E-4)\n</span></td></tr>\n<tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">Low</span></td>\n<td>accuracy 1&#160;&#183;&#160;10<sup>-2</sup> (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span><span class=\"tag-value\">0</span>.01)\n</span></td></tr>\n<tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">Med</span></td>\n<td>accuracy 2&#160;&#183;&#160;10<sup>-3</sup> (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span><span class=\"tag-value\">0</span>.002)\n</span></td></tr>\n<tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">High</span></td>\n<td>accuracy 2&#160;&#183;&#160;10<sup>-4</sup> (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span class=\"tag-value\">2E-4)</span>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span class=\"tag-value\">On</span></dd></dl>\n<dl><dd><dl><dd><table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">Low</span></td>\n<td>700 points in the real space sphere (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span><span class=\"tag-value\">0</span>.67)\n</span></td></tr>\n<tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">Med</span></td>\n<td>1000 points in the real space sphere (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span><span class=\"tag-value\">1</span>.0)\n</span></td></tr>\n<tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span class=\"tag-value\">High</span></td>\n<td>1500 points in the real space sphere (<a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span><span class=\"tag-value\">1</span>.5)\n</span></td></tr></tbody></table></dd></dl></dd></dl>\n<p><br>\n</p>\n<dl><dd>These defaults can be superseded by specifying the <a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a> tag in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.</dd></dl>\n<p><b>Mind</b>: Real-space optimization (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto)</span> always results in a small (not necessarily negligible) error (the error is usually a constant energy shift for each atom). If you are interested in energy differences of a few meV use only calculations with the same setup (i.e. same </span><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>, <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a> and <a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a> setting) for all calculations. For example, if you want to calculate surface or defect energies recalculate the bulk ground-state energy with exactly the same setting you are using for the surface. Another possibility is to relax the structure using real space projection and to perform one final total energy calculation using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">.FALSE.</span> to get very precise energies. Anyway, for </span><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Normal</span>, the errors introduced by the real space projection are usually of the same order magnitude as those introduced by the wrap-around errors. For </span><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Accurate</span> errors are usually less than 1 meV. </span><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Fast</span> should be used only for, say, fast molecular-dynamics calculations, if compute resources are really an issue.\n</span></p><p>When the energy cutoff [[ENCUT\n]] way above their defaults, the real space projection scheme sometimes becomes unreliable, and it might be necessary to decrease ROPT to values as small as <a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>=<span><span class=\"tag-value\">1E-4</span>. \n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ROPT\" title=\"ROPT\" class=\"tag-link\">ROPT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LREAL%22_incategory:%22Examples%22\" title='Special:Search/\"LREAL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-kingsmith:prb:91-1\"><a href=\"#cite_ref-kingsmith:prb:91_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.44.13063\">R.D. King-Smith, M.C. Payne and J.S. Lin, Phys. Rev B 44, 13063 (1991).</a></span>\n</li>\n<li id=\"cite_note-kresse:tobepublished-2\"><a href=\"#cite_ref-kresse:tobepublished_2-0\">&#8593;</a> <span class=\"reference-text\">G. Kresse, to be published.</span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-04-28T14:06:44Z"}, "ROPT": {"datatype": "real array, one entry for each species on the {{file|potcar}} file", "default": [["-0.002", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">PREC</a>=<span class=\"tag-value\">Fast</span>"], ["-5E-4", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">PREC</a>=<span class=\"tag-value\">Normal</span>"], ["-2.5E-4", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">PREC</a>=<span class=\"tag-value\">Accurate</span>"], ["-0.01", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">PREC</a>=<span class=\"tag-value\">Low</span>"], ["-0.002", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">PREC</a>=<span class=\"tag-value\">Med</span>"], ["-1E-4", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LREAL\">PREC</a>=<span class=\"tag-value\">High</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> determines how accurately the projectors are represented in real space. If <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> is used, </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> will be internally set to negative values. If <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">LREAL</a>=<span><span class=\"tag-value\">On</span> is used, </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> will be internally set to positive values. Whether the user supplies negative or positive values in the INCAR file is irrelevant. <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">LREAL</a>=<span><span class=\"tag-value\">On</span> is outdated and should be only used, if compatibility to old calculations is desired. For </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">LREAL</a>=<span><span class=\"tag-value\">On</span>, the real space projectors are optimized using an algorithm proposed by King-Smith et al.</span><ref name=\"kingsmith:prb:91\"></ref> For the recommended <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">LREAL</a>=<span><span class=\"tag-value\">Auto</span>, an unpublished scheme</span><ref name=\"kresse:tobepublished\"></ref> is used. This scheme is considerably more accurate resulting in more localized projector functions than for the King-Smith et al. method.</span>", "id": 40, "info": "<div><p>Depending on their value, VASP interprets <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> entries in one of two ways:\n</p>\n<ul><li>ABS|<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a>| &#8805; 0.1: \"conventional\"-mode:</li></ul>\n<dl><dd>Sets the number of real space points within the cutoff sphere for a particular species to approximately 1000&#215;<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a>. So for instance, the line</dd></dl>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a>=<span><span class=\"tag-value\">0</span>.7 1.5\n</span></pre>\n<dl><dd>will set the number of real space points within the cutoff sphere for the first species to approximately 700, and that for the second species to 1500.</dd></dl>\n<ul><li>ABS|<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a>| &lt; 0.1&#160;: \"precision\"-mode:</li></ul>\n<dl><dd>In this case, the real-space operators will be optimized for an accuracy of approximately <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> eV/atom.  So, for instance specifying the following line in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file</dd></dl>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a>=<span><span class=\"tag-value\">1E-3</span> 1E-3\n</span></pre>\n<dl><dd>tells VASP to optimize the real-space projector operators for species 1 and 2 for an accuracy of approximately 1 meV/atom (10<sup>-3</sup>). The estimate is, however, fairly rough: this means that even if an error of say 0.5 meV/atom is selected, the actual error might well approach 5 meV/atom for transition metals with many electrons. It is recommended to first perform reference calculations using <a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">.FALSE.</span>, then switch to </span><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">Auto</span> and decrease </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> until the desired accuracy is reached.</dd></dl>\n<p>The \"precision\" and \"conventional\" modes may be intermixed, i.e., it is possible to specify\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a>=<span><span class=\"tag-value\">0</span>.7 -1E-3\n</span></pre>\n<p>In this case, the number of real space points within the cutoff sphere for the first species will be approximately 700, whereas the real space projector functions for the second species are optimized for an accuracy of approximately 1 meV. We recommend to use the \"precision\" mode with a target accuracy of around 2x10<sup>-4</sup> - 10<sup>-3</sup> eV/atom.\n</p><p>If you use the \"conventional\" mode, in which the number of grid points in the real space projection sphere is specified, you have to select <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> carefully, especially if a hard species is mixed with a soft species. In that case the following lines in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file must be checked (here is the output for <a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">Auto</span>, however, the one for </span><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">On</span> is quite similar)\n</span></p>\n<pre>Optimization of the real space projectors\nmaximal supplied QI-value         = 13.98\noptimisation between [QCUT,QGAM] = [  8.81, 17.62] = [ 21.73, 86.94] Ry\nOptimized for a Real-space Cutoff    1.41 Angstroem\n  l    n(q)    QCUT    max X(q) W(low)/X(q) W(high)/X(q)  e(spline)\n  2      6     8.810    59.645    0.61E-03    0.18E-02    0.11E-06\n  2      6     8.810    58.460    0.65E-03    0.19E-02    0.12E-06\n  0      7     8.810    97.683    0.18E-02    0.15E-03    0.13E-06\n  0      7     8.810    53.223    0.17E-02    0.15E-03    0.12E-06\n  1      7     8.810    13.596    0.47E-02    0.65E-02    0.33E-06\n  1      7     8.810     7.885    0.35E-02    0.48E-02    0.25E-06\n</pre>\n<p><a href=\"https://www.vasp.at/wiki/index.php?title=QCUT&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"QCUT (page does not exist)\">QCUT</a> and <a href=\"https://www.vasp.at/wiki/index.php?title=QGAM&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"QGAM (page does not exist)\">QGAM</a> are parameters chosen for the generation of this particular PAW dataset (or ultrasoft pseudopotential). The most important information is given in the columns <tt>W(low)/X(q)</tt> and <tt>W(high)/X(q)</tt> for <a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">Auto)</span>. In these columns, the values  must be as small as possible. If these values are too large increase the </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> value from the default value (or decrease it if it smaller than 0.1). As a rule of thumb, the maximum allowed value in this column is 10<sup>-3</sup> for <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Normal</span>. (For </span><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Fast</span> or Low errors might be around 10</span><sup>-2</sup>. If W(q)/X(q) is larger than 10<sup>-2</sup> the errors introduced by the real space projections can be substantial. In this case <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ROPT\">ROPT</a> must be specified in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file to avoid incorrect results. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ROPT%22_incategory:%22Examples%22\" title='Special:Search/\"ROPT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-kingsmith:prb:91-1\"><a href=\"#cite_ref-kingsmith:prb:91_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.44.13063\">R.D. King-Smith, M.C. Payne and J.S. Lin, Phys. Rev B 44, 13063 (1991).</a></span>\n</li>\n<li id=\"cite_note-kresse:tobepublished-2\"><a href=\"#cite_ref-kresse:tobepublished_2-0\">&#8593;</a> <span class=\"reference-text\">G. Kresse, to be published.</span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-06T15:47:06Z"}, "AEXX": {"datatype": "real", "default": [["0.25", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>"], ["0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.FALSE.</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AEXX\">AEXX</a> specifies the fraction of exact exchange in a Hartree-Fock-type/hybrid-functional calculation.</span>", "id": 42, "info": "<div><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> For versions of VASP prior to 6.4.0, <a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a> was constrained to be equal to 1.0-<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AEXX\">AEXX</a>. This constraint is lifted since VASP.6.4.0.\n</div><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AEXX\">AEXX</a>=<span><span class=\"tag-value\">1</span>.0, VASP switches off correlation by default (</span><a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>=<span><span class=\"tag-value\">0</span>.0, </span><a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>=<span><span class=\"tag-value\">0</span>.0, and </span><a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>=<span><span class=\"tag-value\">0</span>.0) and thus runs a full Hartree-Fock calculation.\n</span></div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22AEXX%22_incategory:%22Examples%22\" title='Special:Search/\"AEXX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<p><br>\n</p>\n</div>", "last_revised": "2023-02-16T19:55:32Z"}, "AGGAX": {"datatype": "real", "default": [["1.0-<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AEXX\">AEXX</a>", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>"], ["1.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.FALSE.</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AGGAX\">AGGAX</a> is a parameter that multiplies the gradient correction in the GGA exchange functional.</span>", "id": 43, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AGGAX\">AGGAX</a> can be used as the fraction of gradient correction in the GGA exchange in a Hartree-Fock/GGA hybrid functional. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22AGGAX%22_incategory:%22Examples%22\" title='Special:Search/\"AGGAX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-15T21:26:45Z"}, "AGGAC": {"datatype": "real", "default": [["1.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a><math>=</math><span><span class=\"tag-value\">.FALSE.</span> or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">AEXX</a><math>\\neq</math>1.0"], ["0.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a><math>=</math><span><span class=\"tag-value\">.TRUE.</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">AEXX</a><math>=</math><span><span class=\"tag-value\">1</span>.0</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AGGAC\">AGGAC</a> is a parameter that multiplies the gradient correction in the GGA correlation functional.</span>", "id": 44, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AGGAC\">AGGAC</a> can be used as the fraction of gradient correction in the GGA correlation in a Hartree-Fock/DFT hybrid functional. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22AGGAC%22_incategory:%22Examples%22\" title='Special:Search/\"AGGAC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-16T10:22:34Z"}, "ALDAC": {"datatype": "real", "default": [["1.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a><math>=</math><span><span class=\"tag-value\">.FALSE.</span> or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">AEXX</a><math>\\neq</math>1.0"], ["0.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a><math>=</math><span><span class=\"tag-value\">.TRUE.</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">AEXX</a><math>=</math><span><span class=\"tag-value\">1</span>.0</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALDAC\">ALDAC</a> is a parameter that multiplies the LDA correlation functional or the LDA part of the GGA correlation functional. </span>", "id": 45, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALDAC\">ALDAC</a> can be used as the fraction of LDA correlation in a Hartree-Fock/DFT hybrid functional. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ALDAC%22_incategory:%22Examples%22\" title='Special:Search/\"ALDAC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-15T21:33:49Z"}, "LHFCALC": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a> specifies whether a Hartree-Fock/DFT hybrid functional type calculation is performed.</span>", "id": 47, "info": "<div><p>If one does not specifically request a particular hybrid functional (see <a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>, <a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>, and the section on <a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">settings for specific hybrid functionals</a>) VASP will default to the <a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals#PBE0\" title=\"List of hybrid functionals\">PBE0 hybrid functional</a>.\n</p><p>It is recommended to select a \"direct optimization\" algorithm for HF/DFT hybrid functonal type calculations, i.e., <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Damped</span> (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">53)</span> or </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">All</span> (</span><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">58)</span> in the </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.\n</p><p>The blocked-Davidson algorithm <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Normal</span> is, with certain caveat, also supported, whereas calculations for the other algorithms (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Fast)</span> are not properly supported (note: no warning is printed). The blocked-Davidson algorithm (</span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Normal)</span> is generally rather slow, and in many cases the Pulay mixer will be unable to determine the proper ground-state. We hence recommend to select the blocked-Davidson algorithm only in combination with straight mixing or a Kerker like mixing (see the </span><a href=\"https://www.vasp.at/wiki/index.php/Density_mixing\" class=\"mw-redirect\" title=\"Density mixing\">section on mixing</a>). The following combination have been successfully applied for small and medium sized systems\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span><span class=\"tag-value\">.TRUE.</span>&#160;; </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Normal</span>&#160;; </span><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>=<span><span class=\"tag-value\">1</span>&#160;; </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>=<span class=\"tag-value\">a</span>\n</pre>\n<p>Decrease the parameter a until convergence is reached.\n</p><p>In most cases, however, it is recommended to use the \"Damped\" algorithm with suitably chosen timestep. The following setup for the electronic optimization works reliably in most cases:\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span><span class=\"tag-value\">.TRUE.</span>&#160;; </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Damped</span>&#160;; </span><a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a>=<span><span class=\"tag-value\">0</span>.5\n</span></pre>\n<p>If convergence is not obtained, it is recommended to reduce the timestep <a href=\"https://www.vasp.at/wiki/index.php/TIME\" title=\"TIME\" class=\"tag-link\">TIME</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">settings for specific hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LHFCALC%22_incategory:%22Examples%22\" title='Special:Search/\"LHFCALC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-16T10:12:21Z"}, "TIME": {"datatype": "real", "default": "0.4", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TIME\">TIME</a> controls the time step for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TIME\">IALGO</a>=<span><span class=\"tag-value\">5X</span> and for the initial (steepest descent) phase of </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TIME\">IALGO</a>=<span><span class=\"tag-value\">4X</span>.</span></span>", "id": 48, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22TIME%22_incategory:%22Examples%22\" title='Special:Search/\"TIME\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:55:08Z"}, "LMAXFOCK": {"datatype": "integer", "default": "4", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\">LMAXFOCK</a> sets the maximum angular momentum quantum number <i>L</i> for the augmentation of charge densities in Hartree-Fock type routines.</span>", "id": 50, "info": "<div><p>In the <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a>, the difference between the charge density of the all-electron partial waves <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\phi _{\\beta }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\phi _{\\beta }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8beae3af4f52166fa996066900cc52ddbba48157\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:2.56ex; height:2.843ex;\" alt=\"\\phi _{\\beta }\"></span> and\nthe pseudo partial waves <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {\\phi }}_{\\beta }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {\\phi }}_{\\beta }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ec04fe52e1d042844ad81834eae76e010d2d1cd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:2.642ex; height:3.509ex;\" alt=\"{\\tilde  \\phi }_{\\beta }\"></span>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })=\\phi _{\\alpha }^{*}({\\mathbf {r} })\\phi _{\\beta }({\\mathbf {r} })-{\\tilde {\\phi }}_{\\alpha }^{*}({\\mathbf {r} }){\\tilde {\\phi }}_{\\beta }({\\mathbf {r} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msubsup>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })=\\phi _{\\alpha }^{*}({\\mathbf {r} })\\phi _{\\beta }({\\mathbf {r} })-{\\tilde {\\phi }}_{\\alpha }^{*}({\\mathbf {r} }){\\tilde {\\phi }}_{\\beta }({\\mathbf {r} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cf55250eb0fa292468779d03a1ba8316ef3277d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:35.182ex; height:3.676ex;\" alt=\"Q_{{\\alpha \\beta }}({{\\mathbf  r}})=\\phi _{\\alpha }^{*}({{\\mathbf  r}})\\phi _{\\beta }({{\\mathbf  r}})-{\\tilde  \\phi }_{\\alpha }^{*}({{\\mathbf  r}}){\\tilde  \\phi }_{\\beta }({{\\mathbf  r}})\"></span>\n</p><p>is usually treated on spherical grids centered at each atom\n(one-center terms inside the PAW spheres, see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a>). To describe long range electrostatic effects, the <i>moments</i> of the differences of the all-electron and pseudo charge density \nalso need to be added on the plane wave grid (compensation density, see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a>).\nThese compensation charges exactly restore the moments of the all-electron density on the plane wave\ngrid. For the charge densities used in the Hartree and DFT term, \nthe augmentation is done exactly up to the maximum <i>L</i> quantum number required by the POTCAR files, \nwhereas for the Fock exchange, for reasons of efficiency, \nthe augmentation on the plane wave grid is controlled by <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\">LMAXFOCK</a>.\n</p><p>Specifically, when the  exchange energy is evaluated\n</p><p><span id=\"ExFock\">\n</span></p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\mathrm {x} }=-{\\frac {e^{2}}{2}}\\sum _{n\\mathbf {k} ,m\\mathbf {q} }f_{n\\mathbf {k} }f_{m\\mathbf {q} }\\times \\int \\int d^{3}\\mathbf {r} d^{3}\\mathbf {r} '{\\frac {\\psi _{n\\mathbf {k} }^{*}(\\mathbf {r} )\\psi _{m\\mathbf {q} }^{*}(\\mathbf {r} ')\\psi _{n\\mathbf {k} }(\\mathbf {r} ')\\psi _{m\\mathbf {q} }(\\mathbf {r} )}{\\vert \\mathbf {r} -\\mathbf {r} '\\vert }}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi>e</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mn>2</mn>\n          </mfrac>\n        </mrow>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n            <mo>,</mo>\n            <mi>m</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <msup>\n          <mi>d</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <msup>\n          <mi>d</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msubsup>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">k</mi>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>&#8727;<!-- &#8727; --></mo>\n                </mrow>\n              </msubsup>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n              <msubsup>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">q</mi>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>&#8727;<!-- &#8727; --></mo>\n                </mrow>\n              </msubsup>\n              <mo stretchy=\"false\">(</mo>\n              <msup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo>&#8242;</mo>\n              </msup>\n              <mo stretchy=\"false\">)</mo>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">k</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">(</mo>\n              <msup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo>&#8242;</mo>\n              </msup>\n              <mo stretchy=\"false\">)</mo>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">q</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <mrow>\n              <mo fence=\"false\" stretchy=\"false\">|</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo>&#8242;</mo>\n              </msup>\n              <mo fence=\"false\" stretchy=\"false\">|</mo>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\mathrm {x} }=-{\\frac {e^{2}}{2}}\\sum _{n\\mathbf {k} ,m\\mathbf {q} }f_{n\\mathbf {k} }f_{m\\mathbf {q} }\\times \\int \\int d^{3}\\mathbf {r} d^{3}\\mathbf {r} '{\\frac {\\psi _{n\\mathbf {k} }^{*}(\\mathbf {r} )\\psi _{m\\mathbf {q} }^{*}(\\mathbf {r} ')\\psi _{n\\mathbf {k} }(\\mathbf {r} ')\\psi _{m\\mathbf {q} }(\\mathbf {r} )}{\\vert \\mathbf {r} -\\mathbf {r} '\\vert }}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/95afebb8f4ea811e2e474789ec51de35515e7179\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:68.649ex; height:7.343ex;\" alt=\"E_{{{\\mathrm  {x}}}}=-{\\frac  {e^{2}}{2}}\\sum _{{n{\\mathbf  {k}},m{\\mathbf  {q}}}}f_{{n{\\mathbf  {k}}}}f_{{m{\\mathbf  {q}}}}\\times \\int \\int d^{3}{\\mathbf  {r}}d^{3}{\\mathbf  {r}}'{\\frac  {\\psi _{{n{\\mathbf  {k}}}}^{{*}}({\\mathbf  {r}})\\psi _{{m{\\mathbf  {q}}}}^{{*}}({\\mathbf  {r}}')\\psi _{{n{\\mathbf  {k}}}}({\\mathbf  {r}}')\\psi _{{m{\\mathbf  {q}}}}({\\mathbf  {r}})}{\\vert {\\mathbf  {r}}-{\\mathbf  {r}}'\\vert }}\"></span></dd></dl>\n<p class=\"mw-empty-elt\">\n</p><p>the overlap density <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\psi _{n\\mathbf {k} }^{*}(\\mathbf {r} )\\psi _{m\\mathbf {q} }(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\psi _{n\\mathbf {k} }^{*}(\\mathbf {r} )\\psi _{m\\mathbf {q} }(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1b9bb5b6545a5fd14967348c93818425cf547fb9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:13.741ex; height:3.009ex;\" alt=\"\\psi _{{n{\\mathbf  {k}}}}^{{*}}({\\mathbf  {r}})\\psi _{{m{\\mathbf  {q}}}}({\\mathbf  {r}})\"></span>\nbetween two Bloch orbitals needs to be calculated on the plane wave grid (see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a>). The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\">LMAXFOCK</a>\ncontrols up to which <i>L</i> quantum number, the compensation charge <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\widehat {n}}(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>n</mi>\n              <mo>^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\widehat {n}}(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/59ca11779dbac35dfdd094367bc8f955c977084d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.306ex; height:2.843ex;\" alt=\"\\widehat {n}({\\mathbf  {r}})\"></span> is calculated on the plane wave grid (compared <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a> compensation charge):\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\widehat {n}}(\\mathbf {r} )=\\sum _{\\alpha ,\\beta ,LM}{\\widehat {Q}}_{\\alpha ,\\beta }^{LM}(\\mathbf {r} )\\,\\langle {\\widetilde {\\psi }}_{nk}|{\\widetilde {p}}_{\\alpha }\\rangle \\langle {\\widetilde {p}}_{\\beta }|{\\widetilde {\\psi }}_{mk}\\rangle .}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>n</mi>\n              <mo>^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mo>,</mo>\n            <mi>&#946;<!-- &#946; --></mi>\n            <mo>,</mo>\n            <mi>L</mi>\n            <mi>M</mi>\n          </mrow>\n        </munder>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>Q</mi>\n                <mo>^<!-- ^ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mo>,</mo>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>L</mi>\n            <mi>M</mi>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mspace width=\"thinmathspace\"></mspace>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>k</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>p</mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>p</mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mi>k</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\widehat {n}}(\\mathbf {r} )=\\sum _{\\alpha ,\\beta ,LM}{\\widehat {Q}}_{\\alpha ,\\beta }^{LM}(\\mathbf {r} )\\,\\langle {\\widetilde {\\psi }}_{nk}|{\\widetilde {p}}_{\\alpha }\\rangle \\langle {\\widetilde {p}}_{\\beta }|{\\widetilde {\\psi }}_{mk}\\rangle .}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b212e24b3fc9761dbd4ae92b7c0bf67064872e4b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:40.425ex; height:6.343ex;\" alt=\"\\widehat {n}({\\mathbf  {r}})=\\sum _{{\\alpha ,\\beta ,LM}}\\widehat {Q}_{{\\alpha ,\\beta }}^{{LM}}({\\mathbf  {r}})\\,\\langle \\widetilde {\\psi }_{{nk}}|\\widetilde {p}_{{\\alpha }}\\rangle \\langle \\widetilde {p}_{{\\beta }}|\\widetilde {\\psi }_{{mk}}\\rangle .\"></span>\n</p><p>To accelerate convergence with respect to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\">LMAXFOCK</a>, VASP uses a small trick: the contributions from the Hartree-Fock one-center terms are evaluated for the pseudo orbitals also only up to <i>L</i>=<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\">LMAXFOCK</a>, whereas the one-center terms for the exact all-electron orbitals are evaluated up to the maximum required <i>L</i> (twice the angular quantum number of the partial wave with the highest <i>l</i>). The default is <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\">LMAXFOCK</a>=<span><span class=\"tag-value\">4</span>, and it might be necessary to increase this parameter, if the system contains f-electrons. Since this increases the computational load considerably (about factor 2), it is recommended to perform tests, whether the results are already reasonably converged using the default </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\">LMAXFOCK</a>=<span><span class=\"tag-value\">4</span>.\n</span></p><p>To be compatible w.r.t. old releases, VASP also reads the flag <a href=\"https://www.vasp.at/wiki/index.php/HFLMAX\" title=\"HFLMAX\" class=\"tag-link\">HFLMAX</a> to the same effect as <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\">LMAXFOCK</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/HFLMAX\" title=\"HFLMAX\" class=\"tag-link\">HFLMAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"LMAXFOCKAE\">LMAXFOCKAE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMAXFOCK%22_incategory:%22Examples%22\" title='Special:Search/\"LMAXFOCK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-18T12:44:31Z"}, "LMAXFOCKAE": {"datatype": "integer", "default": [["-1", "for Hartree-Fock and hybrid functionals"], ["4", "for post DFT methods"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NMAXFOCKAE\">NMAXFOCKAE</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NMAXFOCKAE\">LMAXFOCKAE</a> determine whether </span>", "id": 51, "info": "<div><h2><span class=\"mw-headline\" id=\"Detailed_Discussion\">Detailed Discussion</span></h2>\n<p>In the PAW method, the difference between the charge density of the all-electron partial waves <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\phi _{\\beta }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\phi _{\\beta }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8beae3af4f52166fa996066900cc52ddbba48157\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:2.56ex; height:2.843ex;\" alt=\"\\phi _{\\beta }\"></span> and\nthe pseudo partial waves <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {\\phi }}_{\\beta }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {\\phi }}_{\\beta }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ec04fe52e1d042844ad81834eae76e010d2d1cd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:2.642ex; height:3.509ex;\" alt=\"{\\tilde  \\phi }_{\\beta }\"></span>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })=\\phi _{\\alpha }^{*}({\\mathbf {r} })\\phi _{\\beta }({\\mathbf {r} })-{\\tilde {\\phi }}_{\\alpha }^{*}({\\mathbf {r} }){\\tilde {\\phi }}_{\\beta }({\\mathbf {r} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msubsup>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })=\\phi _{\\alpha }^{*}({\\mathbf {r} })\\phi _{\\beta }({\\mathbf {r} })-{\\tilde {\\phi }}_{\\alpha }^{*}({\\mathbf {r} }){\\tilde {\\phi }}_{\\beta }({\\mathbf {r} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cf55250eb0fa292468779d03a1ba8316ef3277d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:35.182ex; height:3.676ex;\" alt=\"Q_{{\\alpha \\beta }}({{\\mathbf  r}})=\\phi _{\\alpha }^{*}({{\\mathbf  r}})\\phi _{\\beta }({{\\mathbf  r}})-{\\tilde  \\phi }_{\\alpha }^{*}({{\\mathbf  r}}){\\tilde  \\phi }_{\\beta }({{\\mathbf  r}})\"></span>\n</p><p>is usually treated on spherical grids centered at each atom\n(one-center terms inside the PAW spheres, see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a> and more detailed description for <a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>).  To describe long range electrostatic effects, the <i>moments</i> of the differences of the all-electron and pseudo charge density \nalso need to be added on the plane wave grid (compensation density, see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a>).\nThese compensation charges exactly restore the moments of the all-electron density on the plane wave\ngrid. For the Fock exchange the maximum <i>L</i> quantum number up to which  \nthe augmentation is done is controlled by <a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>.\n</p><p>For the RPA, GW, and most post DFT methods, the one-center terms are, however, presently\nnot implemented. Depending on the material, this can cause sizable errors\nin particular for 3d and (to a lesser extent) 2p, 4d and 5d elements.\nTo correct for this error, an alternative treatment is implemented\non the plane wave grid for the exchange and correlation contributions. \nThis  allows to restore the all-electron densities accurately already on the plane wave grid\nby specifying the flags <b>LMAXFOCKAE</b> and <b>NMAXFOCKAE</b>. This improved\ntreatment&#8212; termed shape restoration &#8212;is available for exchange as well as many body correlation contributions.\nFor exchange, the exact one-center terms are also implemented. This means shape restoration is not required and should not change the results.\n</p><p>To achieve the improved treatment on the plane wave grid, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/96dcfa4f35fd419c4b9ee691deb1d9a27dc68f95\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.976ex; height:3.009ex;\" alt=\"Q_{{\\alpha \\beta }}({{\\mathbf  r}})\"></span> is Fourier transformed  to reciprocal space <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }(q)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>q</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }(q)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7bfd4a2093607c65ef92ed8d640b4dce3ddbd006\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.943ex; height:3.009ex;\" alt=\"Q_{{\\alpha \\beta }}(q)\"></span> and then expanded\nin a set of orthogonal functions localized at each atomic site. These augmentation charges\nare then added to the pseudo charge densities on the plane wave grid. Shape restoration is only accurate up to a certain plane wave cutoff, typically about 150 eV for <b>NMAXFOCKAE</b> =1, and 400 eV for <b>NMAXFOCKAE</b> = 2. Experience shows that <b>NMAXFOCKAE</b> =1 is sufficient to predict very accurate energy differences and quite accurate quasiparticle energies.  \n</p><p><br>\n</p><p>For <b>LMAXFOCKAE</b>=-1 (the default for DFT and Hartree-Fock calculations), only the moments of the all-electron charge densities are restored on the plane wave grid. This is the default for Hartree-Fock calculations, and the setting is very precise since for Hartree-Fock the one-center terms are implemented in radial grids as for DFT. \n</p><p>If <b>LMAXFOCKAE</b> is set to values larger than -1 (and <b>NMAXFOCKAE</b>=1), not only the moments of the all-electron charge density are restored on the plane wave grid, but also the all-electron charge density is restored up to a typical plane wave energy of 150 eV (controlled by <a href=\"https://www.vasp.at/wiki/index.php/QMAXFOCKAE\" title=\"QMAXFOCKAE\" class=\"tag-link\">QMAXFOCKAE</a>). This setting yields very accurate results for post DFT methods (MP2, RPA, GW, etc.) for most sp bonded materials.  <b>LMAXFOCKAE</b> is used to specify the maximum spherical (<i>L</i>) quantum number up \nto which this more accurate treatment is used. The default is <b>LMAXFOCKAE</b>=4 for post DFT methods.\nIf no accurate augmentation is desired by the user, simply set <b>LMAXFOCKAE</b>=-1 in the INCAR file.\n</p><p>If <b>LMAXFOCKAE</b> is set to values larger than -1 and <b>NMAXFOCKAE</b>=2, the charge density is restored accurately on the plane wave grid up to a typical plane wave energy of 400 eV. As before,  <b>LMAXFOCKAE</b> can be used to specify the maximum spherical (<i>L</i>) quantum number up \nto which this more accurate treatment is used.  <b>NMAXFOCKAE</b>=2 yields very accurate results for \npost DFT methods (MP2, RPA, GW) even for difficult 3d elements. For RPA and MP2 total energy calculations, differences between <b>NMAXFOCKAE</b>=1 and <b>NMAXFOCKAE</b>=2 are usually tiny for total energy differences. Since the absolute correlation energies might change, it is, however, vital to use the same setting for\n<b>NMAXFOCKAE</b> and <b>LMAXFOCKAE</b>, if energy differences are calculated. \nFor GW calculations, increasing  <b>NMAXFOCKAE</b> from 1 to 2 might change QP energies by 100-200 meV for 3d and late 4d and 5d elements. Despite the improve precision, <b>NMAXFOCKAE</b>=2 should be used with great caution. Specifically, noise and egg-box effects are introduced as <b>NMAXFOCKAE</b> is increased. So use\nthis flag only after extensive tests.\n</p><p>The setting for <b>LMAXFOCKAE</b> should be also considered carefully. Generally, it suffices to set <b>LMAXFOCKAE</b> to twice the maximum <i>l</i> quantum number found in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file.\nFor instance for sp elements, <b>LMAXFOCKAE</b>= 2 suffices. For d elements, <b>LMAXFOCKAE</b>= 4 suffices\n(a d electron can create charge densities with <i>L</i>-quantum numbers up to 4), whereas for f elements, users\nshould test whether <b>LMAXFOCKAE</b>= 6 is required.\n</p><p>More details on shape restoration are explained in Ref.<sup id=\"cite_ref-shishkin:prb:2006_1-0\" class=\"reference\"><a href=\"#cite_note-shishkin:prb:2006-1\">[1]</a></sup> and <sup id=\"cite_ref-unzog:prb:2022_2-0\" class=\"reference\"><a href=\"#cite_note-unzog:prb:2022-2\">[2]</a></sup>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Usefull_Settings\">Usefull Settings</span></h2>\n<p>In summary, useful manual settings of <b>NMAXFOCKAE</b>  and <b>LMAXFOCKAE</b> are:\n</p>\n<ul><li><b>LMAXFOCKAE</b>=-1, to switch off the accurate augmentation altogether (reduces noise in correlation energies).</li>\n<li><b>LMAXFOCKAE</b>=4 (or larger) to force an accurate treatment for the charge augmentation on the plane wave grid (can be selected even in Hartree-Fock type calculations, but causes some additional noise).</li>\n<li><b>NMAXFOCKAE</b>=2, to select the very accurate augmentation on the plane wave grid. Please check whether the VASP default setting for <b>LMAXFOCKAE</b> suffices (OUTCAR file). Use this setting only with care, as it can result in very noisy data for coarse FFT grids.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>, <a href=\"https://www.vasp.at/wiki/index.php/QMAXFOCKAE\" title=\"QMAXFOCKAE\" class=\"tag-link\">QMAXFOCKAE</a>, <a href=\"https://www.vasp.at/wiki/index.php/LFOCKAEDFT\" title=\"LFOCKAEDFT\" class=\"tag-link\">LFOCKAEDFT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NMAXFOCKAE%22_incategory:%22Examples%22\" title='Special:Search/\"NMAXFOCKAE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:38:52Z"}, "HFSCREEN": {"datatype": "real", "default": "0 (none)", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\">HFSCREEN</a> (in \u00c5<sup>-1</sup>) specifies the range-separation parameter in <a href=\"https://www.vasp.at/wiki/index.php/%3ACategory%3AHybrid_functionals\">range separated hybrid functionals</a>.</span>", "id": 53, "info": "<div><p>In case <a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>=<span><span class=\"tag-value\">.TRUE.</span>, in combination with PBE potentials (or </span><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>=<span><span class=\"tag-value\">PE)</span>, attributing a value to </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\">HFSCREEN</a> will switch from the PBE0 functional to e.g., the closely related <a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals#HSE03\" title=\"List of hybrid functionals\">HSE03</a> (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\">HFSCREEN</a>=<span><span class=\"tag-value\">0</span>.3) or </span><a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals#HSE06\" title=\"List of hybrid functionals\">HSE06</a> (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\">HFSCREEN</a>=<span><span class=\"tag-value\">0</span>.2) functionals.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LTHOMAS\" title=\"LTHOMAS\" class=\"tag-link\">LTHOMAS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">settings for specific hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22HFSCREEN%22_incategory:%22Examples%22\" title='Special:Search/\"HFSCREEN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-16T10:23:34Z"}, "EDIFFG": {"datatype": "real", "default": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">EDIFF</a>\u00d710</span>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFFG\">EDIFFG</a> defines the break condition for the ionic relaxation loop.</span>", "id": 57, "info": "<div><p>When <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFFG\">EDIFFG</a> is positive, the relaxation is stopped when the change of the total energy is smaller than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFFG\">EDIFFG</a> between two ionic steps.\n</p><p>When <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFFG\">EDIFFG</a> is negative, the relaxation is stopped when the norms of all the forces are smaller than |<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFFG\">EDIFFG</a>|. This is usually a more convenient setting.\n</p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFFG\">EDIFFG</a>=<span><span class=\"tag-value\">0</span>, the ionic relaxation is stopped after </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> steps.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFFG\">EDIFFG</a> does not apply to <a href=\"https://www.vasp.at/wiki/index.php/Category:Molecular_dynamics\" title=\"Category:Molecular dynamics\">molecular-dynamics</a> simulations.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/EDIFF\" title=\"EDIFF\" class=\"tag-link\">EDIFF</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EDIFFG%22_incategory:%22Examples%22\" title='Special:Search/\"EDIFFG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T15:31:51Z"}, "GGA": {"datatype": "string", "default": "exchange-correlation functional in accordance with the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a> file", "options": {"PE": null, "RP": null, "PS": null, "AM": null, "LIBXC": null, "...": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/GGA\">GGA</a> specifies a LDA or GGA exchange-correlation functional.</span>", "id": 59, "info": "<div><p>This tag was added to perform GGA calculations with pseudopotentials generated with conventional LDA reference configurations.\n</p>\n<div class=\"alert alert-primary\" role=\"alert\"><h5 class=\"alert-heading\">Important:</h5>  VASP recalculates the exchange-correlation energy inside the PAW sphere and corrects the atomic energies given by the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file. For this to work, the original LEXCH tag must not be modified in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file.\n</div><p>A few points should be noted:\n</p>\n<ul><li>The LIBXC option (or just LI) allows to use a LDA or GGA functional from the library of exchange-correlation functionals Libxc<sup id=\"cite_ref-marques:cpc:2012_1-0\" class=\"reference\"><a href=\"#cite_note-marques:cpc:2012-1\">[1]</a></sup><sup id=\"cite_ref-lehtola:sx:2018_2-0\" class=\"reference\"><a href=\"#cite_note-lehtola:sx:2018-2\">[2]</a></sup><sup id=\"cite_ref-libxc_3-0\" class=\"reference\"><a href=\"#cite_note-libxc-3\">[3]</a></sup>. Along with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/GGA\">GGA</a>=<span><span class=\"tag-value\">LIBXC</span>, it is also necessary to specify the </span><a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a> tags that specify the particular functional. Note that it is necessary to have <a href=\"https://www.vasp.at/wiki/index.php/Makefile.include#Libxc_.28optional.29\" title=\"Makefile.include\">Libxc &gt;= 5.2.0 installed</a> and VASP.6.3.0 or higher compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options#-DUSELIBXC\" title=\"Precompiler options\">precompiler options</a>.</li>\n<li>When the OR, BO, MK, ML or CX GGA is used in combination with the nonlocal vdW-DF functional of Dion <i>et al.</i><sup id=\"cite_ref-dion:prl:2004_4-0\" class=\"reference\"><a href=\"#cite_note-dion:prl:2004-4\">[4]</a></sup>, the GGA component of the correlation should in principle be turned off with <a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>=<span><span class=\"tag-value\">0</span> (see </span><a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">nonlocal vdW-DF functionals</a>).</li></ul>\n<p>The possible options for the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/GGA\">GGA</a> tag are:\n</p>\n<dl><dd><b>LDA functionals:</b></dd></dl>\n<dl><dd><table border=\"1\" cellspacing=\"0\" cellpadding=\"5\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>CA (or PZ)</td>\n<td>Slater exchange<sup id=\"cite_ref-dirac:mpcps:1930_5-0\" class=\"reference\"><a href=\"#cite_note-dirac:mpcps:1930-5\">[5]</a></sup> + Perdew-Zunger parametrization of Ceperley-Alder Monte-Carlo correlation data<sup id=\"cite_ref-ceperley1980_6-0\" class=\"reference\"><a href=\"#cite_note-ceperley1980-6\">[6]</a></sup><sup id=\"cite_ref-perdewzunger1981_7-0\" class=\"reference\"><a href=\"#cite_note-perdewzunger1981-7\">[7]</a></sup>\n</td></tr>\n<tr>\n<td>VW</td>\n<td>Slater exchange<sup id=\"cite_ref-dirac:mpcps:1930_5-1\" class=\"reference\"><a href=\"#cite_note-dirac:mpcps:1930-5\">[5]</a></sup> + Vosko-Wilk-Nusair correlation (VWN5)<sup id=\"cite_ref-vosko1980_8-0\" class=\"reference\"><a href=\"#cite_note-vosko1980-8\">[8]</a></sup>\n</td></tr>\n<tr>\n<td>HL</td>\n<td>Slater exchange<sup id=\"cite_ref-dirac:mpcps:1930_5-2\" class=\"reference\"><a href=\"#cite_note-dirac:mpcps:1930-5\">[5]</a></sup> + Hedin-Lundqvist correlation<sup id=\"cite_ref-hedin1971_9-0\" class=\"reference\"><a href=\"#cite_note-hedin1971-9\">[9]</a></sup>\n</td></tr>\n<tr>\n<td>WI</td>\n<td>Slater exchange<sup id=\"cite_ref-dirac:mpcps:1930_5-3\" class=\"reference\"><a href=\"#cite_note-dirac:mpcps:1930-5\">[5]</a></sup> + Wigner correlation<sup id=\"cite_ref-Wigner:tfs:1938_10-0\" class=\"reference\"><a href=\"#cite_note-Wigner:tfs:1938-10\">[10]</a></sup> (Eq. (3.2) in Ref. <sup id=\"cite_ref-pines:ssp:1955_11-0\" class=\"reference\"><a href=\"#cite_note-pines:ssp:1955-11\">[11]</a></sup>)\n</td></tr>\n<tr>\n<td>LIBXC (or LI)</td>\n<td>Any LDA from Libxc<sup id=\"cite_ref-marques:cpc:2012_1-1\" class=\"reference\"><a href=\"#cite_note-marques:cpc:2012-1\">[1]</a></sup><sup id=\"cite_ref-lehtola:sx:2018_2-1\" class=\"reference\"><a href=\"#cite_note-lehtola:sx:2018-2\">[2]</a></sup><sup id=\"cite_ref-libxc_3-1\" class=\"reference\"><a href=\"#cite_note-libxc-3\">[3]</a></sup> (the <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a> tags are also required)\n</td></tr>\n</tbody></table></dd></dl>\n<dl><dd><b>GGA functionals:</b></dd></dl>\n<dl><dd><table border=\"1\" cellspacing=\"0\" cellpadding=\"5\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>LIBXC (or LI)</td>\n<td>Any GGA from Libxc<sup id=\"cite_ref-marques:cpc:2012_1-2\" class=\"reference\"><a href=\"#cite_note-marques:cpc:2012-1\">[1]</a></sup><sup id=\"cite_ref-lehtola:sx:2018_2-2\" class=\"reference\"><a href=\"#cite_note-lehtola:sx:2018-2\">[2]</a></sup><sup id=\"cite_ref-libxc_3-2\" class=\"reference\"><a href=\"#cite_note-libxc-3\">[3]</a></sup> (the <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a> tags are also required)\n</td></tr>\n<tr>\n<td>91</td>\n<td>Perdew-Wang (PW91)<sup id=\"cite_ref-perdew:prb:1991_12-0\" class=\"reference\"><a href=\"#cite_note-perdew:prb:1991-12\">[12]</a></sup>\n</td></tr>\n<tr>\n<td>PE</td>\n<td>Perdew-Burke-Ernzerhof (PBE)<sup id=\"cite_ref-perdew:prl:1996_13-0\" class=\"reference\"><a href=\"#cite_note-perdew:prl:1996-13\">[13]</a></sup>\n</td></tr>\n<tr>\n<td>RE</td>\n<td>Revised PBE from Zhang and Yang (revPBE)<sup id=\"cite_ref-zhang1998_14-0\" class=\"reference\"><a href=\"#cite_note-zhang1998-14\">[14]</a></sup>\n</td></tr>\n<tr>\n<td>RP</td>\n<td>Revised PBE from Hammer et al. (RPBE)<sup id=\"cite_ref-hammer1999_15-0\" class=\"reference\"><a href=\"#cite_note-hammer1999-15\">[15]</a></sup>\n</td></tr>\n<tr>\n<td>PS</td>\n<td>Revised PBE for solids (PBEsol)<sup id=\"cite_ref-perdew:prl:08_16-0\" class=\"reference\"><a href=\"#cite_note-perdew:prl:08-16\">[16]</a></sup>\n</td></tr>\n<tr>\n<td>AM</td>\n<td>Armiento-Mattson (AM05)<sup id=\"cite_ref-armiento:prb:05_17-0\" class=\"reference\"><a href=\"#cite_note-armiento:prb:05-17\">[17]</a></sup><sup id=\"cite_ref-mattson:jcp:08_18-0\" class=\"reference\"><a href=\"#cite_note-mattson:jcp:08-18\">[18]</a></sup><sup id=\"cite_ref-mattson:prb:09_19-0\" class=\"reference\"><a href=\"#cite_note-mattson:prb:09-19\">[19]</a></sup>\n</td></tr>\n<tr>\n<td>B3</td>\n<td>B3LYP<sup id=\"cite_ref-stephens:jpc:1994_20-0\" class=\"reference\"><a href=\"#cite_note-stephens:jpc:1994-20\">[20]</a></sup> with VWN3<sup id=\"cite_ref-vosko1980_8-1\" class=\"reference\"><a href=\"#cite_note-vosko1980-8\">[8]</a></sup> for LDA correlation\n</td></tr>\n<tr>\n<td>B5</td>\n<td>B3LYP<sup id=\"cite_ref-stephens:jpc:1994_20-1\" class=\"reference\"><a href=\"#cite_note-stephens:jpc:1994-20\">[20]</a></sup> with VWN5<sup id=\"cite_ref-vosko1980_8-2\" class=\"reference\"><a href=\"#cite_note-vosko1980-8\">[8]</a></sup> for LDA correlation\n</td></tr>\n<tr>\n<td>BF</td>\n<td>BEEF (requires VASP compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options#-Dlibbeef\" title=\"Precompiler options\">-Dlibbeef</a>)<sup id=\"cite_ref-beef2012_21-0\" class=\"reference\"><a href=\"#cite_note-beef2012-21\">[21]</a></sup>\n</td></tr>\n<tr>\n<td>Designed to be combined with <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">nonlocal vdW-DF functionals</a>:</td>\n<td>\n</td></tr>\n<tr>\n<td>OR</td>\n<td>optPBE exchange<sup id=\"cite_ref-klimes:jpcm:2010_22-0\" class=\"reference\"><a href=\"#cite_note-klimes:jpcm:2010-22\">[22]</a></sup> + PBE correlation<sup id=\"cite_ref-perdew:prl:1996_13-1\" class=\"reference\"><a href=\"#cite_note-perdew:prl:1996-13\">[13]</a></sup>\n</td></tr>\n<tr>\n<td>BO (with <a href=\"https://www.vasp.at/wiki/index.php/PARAM1\" title=\"PARAM1\" class=\"tag-link\"><span style=\"color:black\">PARAM1</span></a>=<span><span class=\"tag-value\">0</span>.1833333333 and </span><a href=\"https://www.vasp.at/wiki/index.php/PARAM2\" title=\"PARAM2\" class=\"tag-link\"><span style=\"color:black\">PARAM2</span></a>=<span><span class=\"tag-value\">0</span>.22)</span></td>\n<td>optB88 exchange<sup id=\"cite_ref-klimes:jpcm:2010_22-1\" class=\"reference\"><a href=\"#cite_note-klimes:jpcm:2010-22\">[22]</a></sup> + PBE correlation<sup id=\"cite_ref-perdew:prl:1996_13-2\" class=\"reference\"><a href=\"#cite_note-perdew:prl:1996-13\">[13]</a></sup>\n</td></tr>\n<tr>\n<td>MK</td>\n<td>optB86b exchange<sup id=\"cite_ref-klimes:prb:2011_23-0\" class=\"reference\"><a href=\"#cite_note-klimes:prb:2011-23\">[23]</a></sup> + PBE correlation<sup id=\"cite_ref-perdew:prl:1996_13-3\" class=\"reference\"><a href=\"#cite_note-perdew:prl:1996-13\">[13]</a></sup>\n</td></tr>\n<tr>\n<td>ML</td>\n<td>PW86R exchange<sup id=\"cite_ref-lee:prb:2010_24-0\" class=\"reference\"><a href=\"#cite_note-lee:prb:2010-24\">[24]</a></sup> + PBE correlation<sup id=\"cite_ref-perdew:prl:1996_13-4\" class=\"reference\"><a href=\"#cite_note-perdew:prl:1996-13\">[13]</a></sup>\n</td></tr>\n<tr>\n<td>CX</td>\n<td>CX (LV-PW86r) exchange<sup id=\"cite_ref-berland:prb:2015_25-0\" class=\"reference\"><a href=\"#cite_note-berland:prb:2015-25\">[25]</a></sup> + PBE correlation<sup id=\"cite_ref-perdew:prl:1996_13-5\" class=\"reference\"><a href=\"#cite_note-perdew:prl:1996-13\">[13]</a></sup>\n</td></tr>\n</tbody></table></dd></dl>\n<p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22GGA%22_incategory:%22Examples%22\" title='Special:Search/\"GGA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap mw-references-columns\"><ol class=\"references\">\n<li id=\"cite_note-marques:cpc:2012-1\">&#8593; <sup><a href=\"#cite_ref-marques:cpc:2012_1-0\">a</a></sup> <sup><a href=\"#cite_ref-marques:cpc:2012_1-1\">b</a></sup> <sup><a href=\"#cite_ref-marques:cpc:2012_1-2\">c</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.cpc.2012.05.007\">M. A. L. Marques, M. J. T. Oliveira, and T. Burnus, Comput. Phys. Commun., <b>183</b>, 2272 (2012).</a></span>\n</li>\n<li id=\"cite_note-lehtola:sx:2018-2\">&#8593; <sup><a href=\"#cite_ref-lehtola:sx:2018_2-0\">a</a></sup> <sup><a href=\"#cite_ref-lehtola:sx:2018_2-1\">b</a></sup> <sup><a href=\"#cite_ref-lehtola:sx:2018_2-2\">c</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.softx.2017.11.002\">S. Lehtola, C. Steigemann, M. J. T. Oliveira, and M. A. L. Marques, SoftwareX, <b>7</b>, 1 (2018).</a></span>\n</li>\n<li id=\"cite_note-libxc-3\">&#8593; <sup><a href=\"#cite_ref-libxc_3-0\">a</a></sup> <sup><a href=\"#cite_ref-libxc_3-1\">b</a></sup> <sup><a href=\"#cite_ref-libxc_3-2\">c</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://www.tddft.org/programs/libxc/\">https://www.tddft.org/programs/libxc/</a></span>\n</li>\n<li id=\"cite_note-dion:prl:2004-4\"><a href=\"#cite_ref-dion:prl:2004_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.92.246401\">M. Dion, H. Rydberg, E. Schr&#246;der, D. C. Langreth, and B. I. Lundqvist, Phys. Rev. Lett. <b>92</b>, 246401 (2004).</a></span>\n</li>\n<li id=\"cite_note-dirac:mpcps:1930-5\">&#8593; <sup><a href=\"#cite_ref-dirac:mpcps:1930_5-0\">a</a></sup> <sup><a href=\"#cite_ref-dirac:mpcps:1930_5-1\">b</a></sup> <sup><a href=\"#cite_ref-dirac:mpcps:1930_5-2\">c</a></sup> <sup><a href=\"#cite_ref-dirac:mpcps:1930_5-3\">d</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1017/S0305004100016108\">P. A. M. Dirac, Math. Proc. Cambridge Philos. Soc. <b>26</b>, 376 (1930).</a></span>\n</li>\n<li id=\"cite_note-ceperley1980-6\"><a href=\"#cite_ref-ceperley1980_6-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.45.566\">D. M. Ceperley and B. J. Alder, Phys. Rev. Lett. <b>45</b>, 566 (1980).</a></span>\n</li>\n<li id=\"cite_note-perdewzunger1981-7\"><a href=\"#cite_ref-perdewzunger1981_7-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.23.5048\">J. P. Perdew and A. Zunger, Phys. Rev. B <b>23</b>, 5048 (1981).</a></span>\n</li>\n<li id=\"cite_note-vosko1980-8\">&#8593; <sup><a href=\"#cite_ref-vosko1980_8-0\">a</a></sup> <sup><a href=\"#cite_ref-vosko1980_8-1\">b</a></sup> <sup><a href=\"#cite_ref-vosko1980_8-2\">c</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1139/p80-159\">S. H. Vosko, L. Wilk, and M. Nusair, Can. J. Phys. <b>58</b>, 1200 (1980).</a></span>\n</li>\n<li id=\"cite_note-hedin1971-9\"><a href=\"#cite_ref-hedin1971_9-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1088/0022-3719/4/14/022\">L. Hedin and B. I. Lundqvist, J. Phys. C <b>4</b>, 2064 (1971).</a></span>\n</li>\n<li id=\"cite_note-Wigner:tfs:1938-10\"><a href=\"#cite_ref-Wigner:tfs:1938_10-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://doi.org/10.1039/TF9383400678\">E. Wigner, Trans. Faraday Soc. <b>34</b>, 678 (1938).</a></span>\n</li>\n<li id=\"cite_note-pines:ssp:1955-11\"><a href=\"#cite_ref-pines:ssp:1955_11-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1016/S0081-1947(08)60681-5\">D. Pines, in Solid State Physics, edited by F. Seitz and D. Turnbull (Academic, New York, 1955), Vol. I, p. 367.</a></span>\n</li>\n<li id=\"cite_note-perdew:prb:1991-12\"><a href=\"#cite_ref-perdew:prb:1991_12-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.46.6671\">J. P. Perdew, J. A. Chevary, S. H. Vosko, K. A. Jackson, M. R. Pederson, D. J. Singh, and C. Fiolhais, Phys. Rev. B <b>46</b>, 6671 (1992).</a></span>\n</li>\n<li id=\"cite_note-perdew:prl:1996-13\">&#8593; <sup><a href=\"#cite_ref-perdew:prl:1996_13-0\">a</a></sup> <sup><a href=\"#cite_ref-perdew:prl:1996_13-1\">b</a></sup> <sup><a href=\"#cite_ref-perdew:prl:1996_13-2\">c</a></sup> <sup><a href=\"#cite_ref-perdew:prl:1996_13-3\">d</a></sup> <sup><a href=\"#cite_ref-perdew:prl:1996_13-4\">e</a></sup> <sup><a href=\"#cite_ref-perdew:prl:1996_13-5\">f</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.77.3865\">J. P. Perdew, K. Burke, and M. Ernzerhof, Phys. Rev. Lett., <b>77</b>, 3865 (1996).</a></span>\n</li>\n<li id=\"cite_note-zhang1998-14\"><a href=\"#cite_ref-zhang1998_14-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.80.890\">Y. Zhang and W. Yang, Phys. Rev. Lett. <b>80</b>, 890 (1998).</a></span>\n</li>\n<li id=\"cite_note-hammer1999-15\"><a href=\"#cite_ref-hammer1999_15-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.59.7413\">B. Hammer, L. B. Hansen, and J. K. N&#248;rskov, Phys. Rev. B <b>59</b>, 7413 (1999).</a></span>\n</li>\n<li id=\"cite_note-perdew:prl:08-16\"><a href=\"#cite_ref-perdew:prl:08_16-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.100.136406\">J. P. Perdew, A. Ruzsinszky, G. I. Csonka, O. A. Vydrov, G. E. Scuseria, L. A. Constantin, X. Zhou, and K. Burke, Phys. Rev. Lett. <b>100</b>, 136406 (2008).</a></span>\n</li>\n<li id=\"cite_note-armiento:prb:05-17\"><a href=\"#cite_ref-armiento:prb:05_17-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.72.085108\">R. Armiento and A. E. Mattsson, Phys. Rev. B <b>72</b>, 085108 (2005).</a></span>\n</li>\n<li id=\"cite_note-mattson:jcp:08-18\"><a href=\"#cite_ref-mattson:jcp:08_18-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.2835596\">A. E. Mattsson, R. Armiento, J. Paier, G. Kresse, J. M. Wills, and T. R. Mattsson, J. Chem. Phys. <b>128</b>, 084714 (2008).</a></span>\n</li>\n<li id=\"cite_note-mattson:prb:09-19\"><a href=\"#cite_ref-mattson:prb:09_19-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.79.155101\">A. E. Mattsson and R. Armiento, Phys. Rev. B <b>79</b>, 155101 (2009).</a></span>\n</li>\n<li id=\"cite_note-stephens:jpc:1994-20\">&#8593; <sup><a href=\"#cite_ref-stephens:jpc:1994_20-0\">a</a></sup> <sup><a href=\"#cite_ref-stephens:jpc:1994_20-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1021/j100096a001\">P. J. Stephens, F. J. Devlin, C. F. Chabalowski, and M. J. Frisch, J. Phys. Chem. <b>98</b>, 11623 (1994).</a></span>\n</li>\n<li id=\"cite_note-beef2012-21\"><a href=\"#cite_ref-beef2012_21-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.85.235149\">J. Wellendorff, K. T. Lundgaard, A. M&#248;gelh&#248;j, V. Petzold, D. D. Landis, Jens K. N&#248;rskov, T. Bligaard, and K. W. Jacobsen, Phys. Rev. B <b>85</b>, 235149 (2012).</a></span>\n</li>\n<li id=\"cite_note-klimes:jpcm:2010-22\">&#8593; <sup><a href=\"#cite_ref-klimes:jpcm:2010_22-0\">a</a></sup> <sup><a href=\"#cite_ref-klimes:jpcm:2010_22-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1088/0953-8984/22/2/022201\">J. Klime&#353;, D. R. Bowler, and A. Michaelides, J. Phys.: Condens. Matter <b>22</b>, 022201 (2010).</a></span>\n</li>\n<li id=\"cite_note-klimes:prb:2011-23\"><a href=\"#cite_ref-klimes:prb:2011_23-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.83.195131\">J. Klime&#353;, D. R. Bowler, and A. Michaelides, Phys. Rev. B <b>83</b>, 195131 (2011).</a></span>\n</li>\n<li id=\"cite_note-lee:prb:2010-24\"><a href=\"#cite_ref-lee:prb:2010_24-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.82.081101\">K. Lee, E. D. Murray, L. Kong, B. I. Lundqvist, and D. C. Langreth, Phys. Rev. B <b>82</b>, 081101(R) (2010).</a></span>\n</li>\n<li id=\"cite_note-berland:prb:2015-25\"><a href=\"#cite_ref-berland:prb:2015_25-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.89.035412\">K. Berland and P. Hyldgaard, Phys. Rev. B <b>89</b>, 035412 (2014).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-03-07T14:19:12Z"}, "ADDGRID": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ADDGRID\">ADDGRID</a> determines whether an additional support grid is used for the evaluation of the augmentation charges.</span>", "id": 60, "info": "<div><p>When <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ADDGRID\">ADDGRID</a>=<span><span class=\"tag-value\">.TRUE.</span> VASP uses an additional support grid for the evaluation of the augmentation charges. This grid contains 8 times more points than the standard \"fine\" grid (</span><a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>). Whenever terms involving augmentation charges are evaluated, this additional grid is used. For instance: The augmentation charge is evaluated first in real space on this additional grid, FFT-transformed to reciprocal space, and then added to the total charge density on the standard \"fine\" grid (<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>). The additional grid often helps to reduce the noise in the forces. In some cases, it even allows to perform calculations with <a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>=<a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>. \n</p><p>Caveat:\nIf there is any contribution in the density or potential at the highest Fourier component <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>G</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f5f3c8921a3b352de45446a6789b104458c9f90b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.827ex; height:2.176ex;\" alt=\"G\"></span> of\nthe conventional fine grid (given by <a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>), then Fourier interpolation to twice the grid density leads to\noscillations in real space. These oscillations correspond to the largest wave vector <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G_{cut}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mi>u</mi>\n            <mi>t</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G_{cut}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f8b800ecc179b06acca7c99c66076df52ad2325e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.305ex; height:2.509ex;\" alt=\"{\\displaystyle G_{cut}}\"></span> i.e. <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e^{iG_{cut}r}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <msub>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>c</mi>\n                <mi>u</mi>\n                <mi>t</mi>\n              </mrow>\n            </msub>\n            <mi>r</mi>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e^{iG_{cut}r}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e23cd22e8260efbce4c7de1b1760103bf39ce3ca\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.904ex; height:2.676ex;\" alt=\"{\\displaystyle e^{iG_{cut}r}}\"></span>.\nIn real space, the charge density or potential will therefore alternate between positive and negative\nvalues on the ultra-fine grid, in particular, in regions where the density or potential are small.\nThe terminus techniques is \"termination wiggles\".\nAlthough this is a somewhat oversimplified presentation, it is fairly straightforward to derive more rigorous results in 1D. \nThe upshot is that Fourier-interpolation can lead to termination wiggles with oscillations <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e^{iG_{cut}r}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <msub>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>c</mi>\n                <mi>u</mi>\n                <mi>t</mi>\n              </mrow>\n            </msub>\n            <mi>r</mi>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e^{iG_{cut}r}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e23cd22e8260efbce4c7de1b1760103bf39ce3ca\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.904ex; height:2.676ex;\" alt=\"{\\displaystyle e^{iG_{cut}r}}\"></span> in the interpolated potential   (where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G_{cut}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mi>u</mi>\n            <mi>t</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G_{cut}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f8b800ecc179b06acca7c99c66076df52ad2325e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.305ex; height:2.509ex;\" alt=\"{\\displaystyle G_{cut}}\"></span> corresponds to\nthe largest Fourier components on the fine grid). Fourier smoothing, which is in essence used for the augmentation densities, is generally less problematic, but it can also result in negative density in real space.\nTherefore, we recommend performing careful tests, on whether <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ADDGRID\">ADDGRID</a> works as desired; please do not use this tag as default in all your calculations!\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ADDGRID%22_incategory:%22Examples%22\" title='Special:Search/\"ADDGRID\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:05:26Z"}, "LMAXPAW": {"datatype": "integer", "default": "2<i>l</i><sub> max</sub>, where <i>l</i><sub> max</sub> is the maximum angular quantum number of the PAW partial waves in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a> file.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXPAW\">LMAXPAW</a> sets the maximum <i>l</i> -quantum number for the evaluation of the one-center terms on the radial support grids in the PAW method. </span>", "id": 62, "info": "<div><p>Useful settings for LMAXPAW are for instance:\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXPAW\">LMAXPAW</a>=<span class=\"tag-value\">0</span>\n</pre>\n<p>In this case, only spherical terms are evaluated on the radial grid. This does not mean that aspherical terms are totally neglected, because the compensation charges are always expanded up to 2<i>l</i><sub> max</sub>  on the plane wave grid.\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXPAW\">LMAXPAW</a>=<span class=\"tag-value\">-1</span> \n</pre>\n<p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXPAW\">LMAXPAW</a>=<span><span class=\"tag-value\">-1</span>, no one-center correction terms are evaluated on the radial support grid, which effectively means that the behavior of US-PP's is recovered with PAW input datasets. Usually, this allows for somewhat faster calculations, and this switch might be of interest for relaxations and molecular dynamics runs. Energies should be evaluated with the default setting for </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXPAW\">LMAXPAW</a>. For spinpolarized calculations, results using LMAXPAW=-1 might differ significantly from conventional PAW calculations, hence the use of  LMAXPAW=-1  is not recommended for magnetic materials, spin-polarized molecules or atoms.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMAXPAW%22_incategory:%22Examples%22\" title='Special:Search/\"LMAXPAW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-11-10T13:02:32Z"}, "AMIX": {"datatype": "real", "default": [["0.8", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISPIN\">ISPIN</a>=<span><span class=\"tag-value\">1</span> and one uses US-PPs</span>"], ["0.4", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISPIN\">ISPIN</a>=<span><span class=\"tag-value\">2</span> and one uses US-PPs</span>"], ["0.4", "if one uses PAW datasets"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\">AMIX</a> specifies the linear mixing parameter.</span>", "id": 63, "info": "<div><p>In VASP the eigenvalue spectrum of the charge dielectric matrix is calculated and written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file at each electronic step. This allows a rather easy optimization of the mixing parameters, if required. Search in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file for\n</p>\n<pre>eigenvalues of (default mixing * dielectric matrix)\n</pre>\n<p>The parameters for the mixing are optimal if the mean eigenvalue &#915;<sub>mean</sub>=1, and if the width of the eigenvalue spectrum is minimal. For an initial linear mixing (<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>&#8776;0) an optimal setting for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\">AMIX</a> can be found easily by setting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\">AMIX</a><sub>optimal</sub>=<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\">AMIX</a><sub>current</sub>*&#915;<sub>mean</sub>. For the Kerker scheme (<a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>=<span><span class=\"tag-value\">1)</span> either </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\">AMIX</a> or <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> can be optimized, but we recommend to change only <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> and keep <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\">AMIX</a> fixed (you must decrease <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> if the mean eigenvalue is larger than one, and increase <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> if the mean eigenvalue &#915;<sub>mean</sub>&lt;1).\nHowever, the optimal <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\"><span style=\"color:black\">AMIX</span></a> depends very much on the system, for metals this parameter usually has to be rather small, e.g. AMIX= 0.02.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAXMIX\" title=\"MAXMIX\" class=\"tag-link\">MAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22AMIX%22_incategory:%22Examples%22\" title='Special:Search/\"AMIX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:07:23Z"}, "BMIX": {"datatype": "real", "default": "1.0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">BMIX</a> sets the cutoff wave vector for Kerker mixing scheme<ref name=\"kerker:prb:81\"></ref> (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">IMIX</a>=<span><span class=\"tag-value\">1</span> and/or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">INIMIX</a>=<span><span class=\"tag-value\">1)</span>.</span></span>", "id": 64, "info": "<div><p>The mixed density is given by\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{\\rm {mix}}\\left(G\\right)=\\rho _{\\rm {in}}\\left(G\\right)+A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">m</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>+</mo>\n        <mi>A</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <msup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <mo>+</mo>\n              <msup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-OPEN\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">(</mo>\n          </mrow>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-CLOSE\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">)</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{\\rm {mix}}\\left(G\\right)=\\rho _{\\rm {in}}\\left(G\\right)+A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/db2065aed0113d1f690b7d222729e4e08270c672\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:52.702ex; height:6.176ex;\" alt=\"\\rho _{{{\\rm {mix}}}}\\left(G\\right)=\\rho _{{{\\rm {in}}}}\\left(G\\right)+A{\\frac  {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{{{\\rm {out}}}}\\left(G\\right)-\\rho _{{{\\rm {in}}}}\\left(G\\right){\\Bigr )}\"></span></dd></dl></dd></dl>\n<p>with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>A</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.743ex; height:2.176ex;\" alt=\"A\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle B}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>B</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle B}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/47136aad860d145f75f3eed3022df827cee94d7a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.764ex; height:2.176ex;\" alt=\"B\"></span>=<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">BMIX</a>\n</p><p>In VASP the eigenvalue spectrum of the charge dielectric matrix is calculated and written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file at each electronic step. This allows a rather easy optimization of the mixing parameters, if required. Search in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file for\n</p>\n<pre>eigenvalues of (default mixing * dielectric matrix)\n</pre>\n<p>The parameters for the mixing are optimal if the mean eigenvalue &#915;<sub>mean</sub>=1, and if the width of the eigenvalue spectrum is minimal. For an initial linear mixing (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">BMIX</a>&#8776;0) an optimal setting for <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> can be found easily by setting <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a><sub>optimal</sub>=<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a><sub>current</sub>*&#915;<sub>mean</sub>. For the Kerker scheme (<a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>=<span><span class=\"tag-value\">1)</span> either </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> or <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">BMIX</a> can be optimized, but we recommend to change only <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">BMIX</a> and keep <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> fixed (you must decrease <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">BMIX</a> if the mean eigenvalue is larger than one, and increase <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX\">BMIX</a> if the mean eigenvalue &#915;<sub>mean</sub>&lt;1).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAXMIX\" title=\"MAXMIX\" class=\"tag-link\">MAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22BMIX%22_incategory:%22Examples%22\" title='Special:Search/\"BMIX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-kerker:prb:81-1\"><a href=\"#cite_ref-kerker:prb:81_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.23.3082\">G. P. Kerker, Phys. Rev. B 23, 3082 (1981).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:07:49Z"}, "IMIX": {"datatype": "integer", "default": "4", "options": {"0": null, "1": null, "2": null, "4": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMIX\">IMIX</a> specifies the type of <a href=\"https://www.vasp.at/wiki/index.php/%3ACategory%3ADensity_mixing\">density mixing</a>.</span>", "id": 65, "info": "<div><div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#IMIX.3D0:_No_mixing\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">IMIX=0: No mixing</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#IMIX.3D1:_Kerker_mixing\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">IMIX=1: Kerker mixing</span></a></li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#IMIX.3D2:_Variant_of_Tchebycheff_mixing\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">IMIX=2: Variant of Tchebycheff mixing</span></a></li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#IMIX.3D4:_Broyden.27s_2nd_method_and_Pulay-mixing_method_.28default.29\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">IMIX=4: Broyden's 2<sup>nd</sup> method and Pulay-mixing method (default)</span></a></li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#Related_tags_and_articles\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">Related tags and articles</span></a></li>\n<li class=\"toclevel-1 tocsection-6\"><a href=\"#References\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span id=\"IMIX=0:_No_mixing\"></span><span class=\"mw-headline\" id=\"IMIX.3D0:_No_mixing\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMIX\">IMIX</a>=<span><span class=\"tag-value\">0</span>: No mixing</span></span></h2>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{\\rm {mix}}=\\rho _{\\rm {out}}\\,}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">m</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mspace width=\"thinmathspace\"></mspace>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{\\rm {mix}}=\\rho _{\\rm {out}}\\,}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ff5713d69c71377f330bea01b5ca5db01230241f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:11.424ex; height:2.176ex;\" alt=\"\\rho _{{{\\rm {mix}}}}=\\rho _{{{\\rm {out}}}}\\,\"></span></dd></dl></dd></dl>\n<h2><span id=\"IMIX=1:_Kerker_mixing\"></span><span class=\"mw-headline\" id=\"IMIX.3D1:_Kerker_mixing\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMIX\">IMIX</a>=<span><span class=\"tag-value\">1</span>: Kerker mixing</span></span></h2>\n<dl><dd>For Kerker mixing<sup id=\"cite_ref-kerker:prb:81_1-0\" class=\"reference\"><a href=\"#cite_note-kerker:prb:81-1\">[1]</a></sup>, the mixed density is given by\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{\\rm {mix}}\\left(G\\right)=\\rho _{\\rm {in}}\\left(G\\right)+A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">m</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>+</mo>\n        <mi>A</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <msup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <mo>+</mo>\n              <msup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-OPEN\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">(</mo>\n          </mrow>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-CLOSE\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">)</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{\\rm {mix}}\\left(G\\right)=\\rho _{\\rm {in}}\\left(G\\right)+A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/db2065aed0113d1f690b7d222729e4e08270c672\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:52.702ex; height:6.176ex;\" alt=\"\\rho _{{{\\rm {mix}}}}\\left(G\\right)=\\rho _{{{\\rm {in}}}}\\left(G\\right)+A{\\frac  {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{{{\\rm {out}}}}\\left(G\\right)-\\rho _{{{\\rm {in}}}}\\left(G\\right){\\Bigr )}\"></span></dd></dl></dd>\n<dd>with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>A</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.743ex; height:2.176ex;\" alt=\"A\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle B}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>B</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle B}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/47136aad860d145f75f3eed3022df827cee94d7a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.764ex; height:2.176ex;\" alt=\"B\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>. If <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> is very small, e.g., <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>=<span><span class=\"tag-value\">0</span>.0001, a straight mixing is obtained.</span></dd></dl>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>=<span><span class=\"tag-value\">0</span> might cause floating-point exceptions on some platforms.\n</span></div></dd></dl>\n<h2><span id=\"IMIX=2:_Variant_of_Tchebycheff_mixing\"></span><span class=\"mw-headline\" id=\"IMIX.3D2:_Variant_of_Tchebycheff_mixing\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMIX\">IMIX</a>=<span><span class=\"tag-value\">2</span>: Variant of Tchebycheff mixing</span></span></h2>\n<dl><dd>VASP uses a variant of the popular Tchebycheff-mixing scheme<sup id=\"cite_ref-akai:jpc:85_2-0\" class=\"reference\"><a href=\"#cite_note-akai:jpc:85-2\">[2]</a></sup>. Here, the following second order equation of motion is used:\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\ddot {\\rho }}_{\\rm {in}}\\left(G\\right)=2*A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}-\\mu {\\dot {\\rho }}_{\\rm {in}}\\left(G\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mo>&#168;<!-- &#168; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mn>2</mn>\n        <mo>&#8727;<!-- &#8727; --></mo>\n        <mi>A</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <msup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <mo>+</mo>\n              <msup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-OPEN\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">(</mo>\n          </mrow>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-CLOSE\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">)</mo>\n          </mrow>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#956;<!-- &#956; --></mi>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mo>&#729;<!-- &#729; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\ddot {\\rho }}_{\\rm {in}}\\left(G\\right)=2*A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}-\\mu {\\dot {\\rho }}_{\\rm {in}}\\left(G\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/abd58206cb20ee861190aeca0d0d968b7b43db6c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:56.486ex; height:6.176ex;\" alt=\"{\\ddot  {\\rho }}_{{{\\rm {in}}}}\\left(G\\right)=2*A{\\frac  {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{{{\\rm {out}}}}\\left(G\\right)-\\rho _{{{\\rm {in}}}}\\left(G\\right){\\Bigr )}-\\mu {\\dot  {\\rho }}_{{{\\rm {in}}}}\\left(G\\right)\"></span></dd></dl></dd>\n<dd>with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>A</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.743ex; height:2.176ex;\" alt=\"A\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle B}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>B</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle B}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/47136aad860d145f75f3eed3022df827cee94d7a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.764ex; height:2.176ex;\" alt=\"B\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#956;<!-- &#956; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9fd47b2a39f7a7856952afec1f1db72c67af6161\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:1.402ex; height:2.176ex;\" alt=\"\\mu \"></span>=<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>. A velocity Verlet algorithm is used to integrate this equation. The discretized equation reads:\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\dot {\\rho }}_{N+1/2}={\\Bigl (}\\left(1-\\mu /2\\right){\\dot {\\rho }}_{N-1/2}+2*F_{N}{\\Bigr )}/\\left(1+\\mu /2\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mo>&#729;<!-- &#729; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>N</mi>\n            <mo>+</mo>\n            <mn>1</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-OPEN\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">(</mo>\n          </mrow>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mn>1</mn>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mi>&#956;<!-- &#956; --></mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mo>&#729;<!-- &#729; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>N</mi>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>1</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <mn>2</mn>\n        <mo>&#8727;<!-- &#8727; --></mo>\n        <msub>\n          <mi>F</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>N</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-CLOSE\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">)</mo>\n          </mrow>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mn>1</mn>\n            <mo>+</mo>\n            <mi>&#956;<!-- &#956; --></mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\dot {\\rho }}_{N+1/2}={\\Bigl (}\\left(1-\\mu /2\\right){\\dot {\\rho }}_{N-1/2}+2*F_{N}{\\Bigr )}/\\left(1+\\mu /2\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0d588c0dfe0ed3f135456fd8e536cc2ff4cf6a34\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.838ex; width:50.282ex; height:4.843ex;\" alt=\"{\\dot  {\\rho }}_{{N+1/2}}={\\Bigl (}\\left(1-\\mu /2\\right){\\dot  {\\rho }}_{{N-1/2}}+2*F_{N}{\\Bigr )}/\\left(1+\\mu /2\\right)\"></span></dd></dl></dd>\n<dd>where\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle F\\left(G\\right)=A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>F</mi>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mi>A</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <msup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <mo>+</mo>\n              <msup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-OPEN\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">(</mo>\n          </mrow>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-CLOSE\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">)</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle F\\left(G\\right)=A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ded6262d1c2df5eb20f7f50b0caf760afd1b15d2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:40.646ex; height:6.176ex;\" alt=\"F\\left(G\\right)=A{\\frac  {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{{{\\rm {out}}}}\\left(G\\right)-\\rho _{{{\\rm {in}}}}\\left(G\\right){\\Bigr )}\"></span></dd></dl></dd>\n<dd>and\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{N+1}=\\rho _{N+1}+{\\dot {\\rho }}_{N+1/2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>N</mi>\n            <mo>+</mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>N</mi>\n            <mo>+</mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mo>&#729;<!-- &#729; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>N</mi>\n            <mo>+</mo>\n            <mn>1</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{N+1}=\\rho _{N+1}+{\\dot {\\rho }}_{N+1/2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/06ce314e4da610285fe9c2aee0c52a6892361252\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:22.738ex; height:3.009ex;\" alt=\"\\rho _{{N+1}}=\\rho _{{N+1}}+{\\dot  {\\rho }}_{{N+1/2}}\"></span>,</dd></dl></dd>\n<dd>where the index <i>N</i> is the electronic iteration, and <i>F</i> is the force acting on the charge.</dd></dl>\n<dl><dd>For <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>&#8776;0, no model for the dielectric matrix is used. For <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu =2}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#956;<!-- &#956; --></mi>\n        <mo>=</mo>\n        <mn>2</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu =2}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/241e09002a80d79a352acf0f9d0c5c008e77d0c6\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.663ex; height:2.676ex;\" alt=\"\\mu =2\"></span> a simple straight mixing is obtained. Therefore, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu =2}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#956;<!-- &#956; --></mi>\n        <mo>=</mo>\n        <mn>2</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu =2}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/241e09002a80d79a352acf0f9d0c5c008e77d0c6\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.663ex; height:2.676ex;\" alt=\"\\mu =2\"></span> corresponds to maximal damping, while <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu =0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#956;<!-- &#956; --></mi>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu =0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3753282c0ad2ea1e7d63f39425efd13c37da3169\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.663ex; height:2.676ex;\" alt=\"\\mu =0\"></span> implies no damping. To determine the optimal parameters for <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#956;<!-- &#956; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9fd47b2a39f7a7856952afec1f1db72c67af6161\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:1.402ex; height:2.176ex;\" alt=\"\\mu \"></span> and <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>, first converge to the ground state with the Pulay mixer (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMIX\">IMIX</a>=<span><span class=\"tag-value\">4)</span>. Then, search for the the eigenvalues of the charge-dielectric matrix in the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file at the last occurrence of</dd></dl>\n<pre>eigenvalues of (default mixing * dielectric matrix)\n</pre>\n<dl><dd>The optimal parameters are then given by:</dd></dl>\n<dl><dd><dl><dd><table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a></td>\n<td></td>\n<td><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ={\\rm {AMIX}}({\\rm {as\\;used\\;in\\;Pulay\\;run}})*{\\rm {smallest\\;eigenvalue}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">A</mi>\n            <mi mathvariant=\"normal\">M</mi>\n            <mi mathvariant=\"normal\">I</mi>\n            <mi mathvariant=\"normal\">X</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">a</mi>\n            <mi mathvariant=\"normal\">s</mi>\n            <mspace width=\"thickmathspace\"></mspace>\n            <mi mathvariant=\"normal\">u</mi>\n            <mi mathvariant=\"normal\">s</mi>\n            <mi mathvariant=\"normal\">e</mi>\n            <mi mathvariant=\"normal\">d</mi>\n            <mspace width=\"thickmathspace\"></mspace>\n            <mi mathvariant=\"normal\">i</mi>\n            <mi mathvariant=\"normal\">n</mi>\n            <mspace width=\"thickmathspace\"></mspace>\n            <mi mathvariant=\"normal\">P</mi>\n            <mi mathvariant=\"normal\">u</mi>\n            <mi mathvariant=\"normal\">l</mi>\n            <mi mathvariant=\"normal\">a</mi>\n            <mi mathvariant=\"normal\">y</mi>\n            <mspace width=\"thickmathspace\"></mspace>\n            <mi mathvariant=\"normal\">r</mi>\n            <mi mathvariant=\"normal\">u</mi>\n            <mi mathvariant=\"normal\">n</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8727;<!-- &#8727; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">s</mi>\n            <mi mathvariant=\"normal\">m</mi>\n            <mi mathvariant=\"normal\">a</mi>\n            <mi mathvariant=\"normal\">l</mi>\n            <mi mathvariant=\"normal\">l</mi>\n            <mi mathvariant=\"normal\">e</mi>\n            <mi mathvariant=\"normal\">s</mi>\n            <mi mathvariant=\"normal\">t</mi>\n            <mspace width=\"thickmathspace\"></mspace>\n            <mi mathvariant=\"normal\">e</mi>\n            <mi mathvariant=\"normal\">i</mi>\n            <mi mathvariant=\"normal\">g</mi>\n            <mi mathvariant=\"normal\">e</mi>\n            <mi mathvariant=\"normal\">n</mi>\n            <mi mathvariant=\"normal\">v</mi>\n            <mi mathvariant=\"normal\">a</mi>\n            <mi mathvariant=\"normal\">l</mi>\n            <mi mathvariant=\"normal\">u</mi>\n            <mi mathvariant=\"normal\">e</mi>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ={\\rm {AMIX}}({\\rm {as\\;used\\;in\\;Pulay\\;run}})*{\\rm {smallest\\;eigenvalue}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a13237f597c999bb170076486a383c88b142237f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:52.79ex; height:2.843ex;\" alt=\"={{\\rm {AMIX}}}({{\\rm {as\\;used\\;in\\;Pulay\\;run}}})*{{\\rm {smallest\\;eigenvalue}}}\"></span>\n</td></tr>\n<tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a></td>\n<td></td>\n<td><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle =\\mu =2{\\sqrt {{\\rm {smallest\\;eigenvalue}}/{\\rm {largest\\;eigenvalue}}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>=</mo>\n        <mi>&#956;<!-- &#956; --></mi>\n        <mo>=</mo>\n        <mn>2</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"normal\">s</mi>\n                <mi mathvariant=\"normal\">m</mi>\n                <mi mathvariant=\"normal\">a</mi>\n                <mi mathvariant=\"normal\">l</mi>\n                <mi mathvariant=\"normal\">l</mi>\n                <mi mathvariant=\"normal\">e</mi>\n                <mi mathvariant=\"normal\">s</mi>\n                <mi mathvariant=\"normal\">t</mi>\n                <mspace width=\"thickmathspace\"></mspace>\n                <mi mathvariant=\"normal\">e</mi>\n                <mi mathvariant=\"normal\">i</mi>\n                <mi mathvariant=\"normal\">g</mi>\n                <mi mathvariant=\"normal\">e</mi>\n                <mi mathvariant=\"normal\">n</mi>\n                <mi mathvariant=\"normal\">v</mi>\n                <mi mathvariant=\"normal\">a</mi>\n                <mi mathvariant=\"normal\">l</mi>\n                <mi mathvariant=\"normal\">u</mi>\n                <mi mathvariant=\"normal\">e</mi>\n              </mrow>\n            </mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"normal\">l</mi>\n                <mi mathvariant=\"normal\">a</mi>\n                <mi mathvariant=\"normal\">r</mi>\n                <mi mathvariant=\"normal\">g</mi>\n                <mi mathvariant=\"normal\">e</mi>\n                <mi mathvariant=\"normal\">s</mi>\n                <mi mathvariant=\"normal\">t</mi>\n                <mspace width=\"thickmathspace\"></mspace>\n                <mi mathvariant=\"normal\">e</mi>\n                <mi mathvariant=\"normal\">i</mi>\n                <mi mathvariant=\"normal\">g</mi>\n                <mi mathvariant=\"normal\">e</mi>\n                <mi mathvariant=\"normal\">n</mi>\n                <mi mathvariant=\"normal\">v</mi>\n                <mi mathvariant=\"normal\">a</mi>\n                <mi mathvariant=\"normal\">l</mi>\n                <mi mathvariant=\"normal\">u</mi>\n                <mi mathvariant=\"normal\">e</mi>\n              </mrow>\n            </mrow>\n          </msqrt>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle =\\mu =2{\\sqrt {{\\rm {smallest\\;eigenvalue}}/{\\rm {largest\\;eigenvalue}}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/dce1134fc555da4198a99f69846779146a57c2ff\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.838ex; width:48.847ex; height:4.843ex;\" alt=\"=\\mu =2{\\sqrt  {{{\\rm {smallest\\;eigenvalue}}}/{{\\rm {largest\\;eigenvalue}}}}}\"></span>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<h2><span id=\"IMIX=4:_Broyden's_2nd_method_and_Pulay-mixing_method_(default)\"></span><span class=\"mw-headline\" id=\"IMIX.3D4:_Broyden.27s_2nd_method_and_Pulay-mixing_method_.28default.29\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMIX\">IMIX</a>=<span><span class=\"tag-value\">4</span>: Broyden's 2</span><sup>nd</sup> method and Pulay-mixing method (default)</span></h2>\n<dl><dd>For <a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>=<span><span class=\"tag-value\">0</span>, VASP uses Broyden's 2</span><sup>nd</sup> method,<sup id=\"cite_ref-bluegel:thesis:88_3-0\" class=\"reference\"><a href=\"#cite_note-bluegel:thesis:88-3\">[3]</a></sup><sup id=\"cite_ref-johnson:prb:88_4-0\" class=\"reference\"><a href=\"#cite_note-johnson:prb:88-4\">[4]</a></sup> and, for <a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>&amp;gt;<span><span class=\"tag-value\">0</span>, VASP uses Pulay-mixing method</span><sup id=\"cite_ref-pulay:cpl:80_5-0\" class=\"reference\"><a href=\"#cite_note-pulay:cpl:80-5\">[5]</a></sup>.</dd>\n<dd>The default is a Pulay mixer with an initial approximation for the charge-dielectric function according to Kerker<sup id=\"cite_ref-kerker:prb:81_1-1\" class=\"reference\"><a href=\"#cite_note-kerker:prb:81-1\">[1]</a></sup>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A\\times \\min \\left({\\frac {G^{2}}{G^{2}+B^{2}}},A_{\\rm {min}}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>A</mi>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mo movablelimits=\"true\" form=\"prefix\">min</mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mfrac>\n                <msup>\n                  <mi>G</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mn>2</mn>\n                  </mrow>\n                </msup>\n                <mrow>\n                  <msup>\n                    <mi>G</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mn>2</mn>\n                    </mrow>\n                  </msup>\n                  <mo>+</mo>\n                  <msup>\n                    <mi>B</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mn>2</mn>\n                    </mrow>\n                  </msup>\n                </mrow>\n              </mfrac>\n            </mrow>\n            <mo>,</mo>\n            <msub>\n              <mi>A</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">m</mi>\n                  <mi mathvariant=\"normal\">i</mi>\n                  <mi mathvariant=\"normal\">n</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A\\times \\min \\left({\\frac {G^{2}}{G^{2}+B^{2}}},A_{\\rm {min}}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/80814879678d8443773f1e58e2a4a3c467937750\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.505ex; width:27.392ex; height:6.343ex;\" alt=\"A\\times \\min \\left({\\frac  {G^{2}}{G^{2}+B^{2}}},A_{{{\\rm {min}}}}\\right)\"></span></dd></dl></dd>\n<dd>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>A</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.743ex; height:2.176ex;\" alt=\"A\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle B}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>B</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle B}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/47136aad860d145f75f3eed3022df827cee94d7a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.764ex; height:2.176ex;\" alt=\"B\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A_{\\rm {min}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>A</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">m</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A_{\\rm {min}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7df6d70623fa0a4ca3ab6bbfb823d03615e9d3c1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.716ex; height:2.509ex;\" alt=\"A_{{{\\rm {min}}}}\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>.</dd></dl>\n<dl><dd><a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>=<span><span class=\"tag-value\">0</span>.4 usually yields good convergence. </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> strongly depends on the system, for instance, it should be small, e.g., <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>=<span><span class=\"tag-value\">0</span>.02, for metals.</span></dd>\n<dd>In the Broyden scheme, the functional form of the initial mixing matrix is determined by <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> or the <a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a> tag. The metric used in the Broyden scheme is specified through <a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>.</dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAXMIX\" title=\"MAXMIX\" class=\"tag-link\">MAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IMIX%22_incategory:%22Examples%22\" title='Special:Search/\"IMIX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-kerker:prb:81-1\">&#8593; <sup><a href=\"#cite_ref-kerker:prb:81_1-0\">a</a></sup> <sup><a href=\"#cite_ref-kerker:prb:81_1-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.23.3082\">G. P. Kerker, Phys. Rev. B 23, 3082 (1981).</a></span>\n</li>\n<li id=\"cite_note-akai:jpc:85-2\"><a href=\"#cite_ref-akai:jpc:85_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1088/0022-3719/18/12/009\">H. Akai and P.H. Dederichs, J. Phys. C 18 (1985).</a></span>\n</li>\n<li id=\"cite_note-bluegel:thesis:88-3\"><a href=\"#cite_ref-bluegel:thesis:88_3-0\">&#8593;</a> <span class=\"reference-text\">S. Bl&#252;gel, PhD Thesis, RWTH Aachen (1988).</span>\n</li>\n<li id=\"cite_note-johnson:prb:88-4\"><a href=\"#cite_ref-johnson:prb:88_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.38.12807\">D. D. Johnson, Phys. Rev. B38, 12807 (1988).</a></span>\n</li>\n<li id=\"cite_note-pulay:cpl:80-5\"><a href=\"#cite_ref-pulay:cpl:80_5-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1016/0009-2614(80)80396-4\">P. Pulay, Chem. Phys. Lett. 73, 393 (1980).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-26T09:04:05Z"}, "ISPIN": {"datatype": "integer", "default": "1", "options": {"2": null, "1": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISPIN\">ISPIN</a> specifies spin polarization.</span>", "id": 67, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISPIN\">ISPIN</a>=<span><span class=\"tag-value\">1</span>: non-spin-polarized calculations are performed.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISPIN\">ISPIN</a>=<span><span class=\"tag-value\">2</span>: spin-polarized calculations (collinear) are performed.</span></li></ul>\n<p>By combining <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISPIN\">ISPIN</a> with <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> collinear magnetism can be studied.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ISPIN%22_incategory:%22Examples%22\" title='Special:Search/\"ISPIN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:23:56Z"}, "INIMIX": {"datatype": "integer", "default": "1", "options": {"0": null, "1": null, "2": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIMIX\">INIMIX</a> determines the functional form of the initial mixing matrix in the Broyden scheme (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIMIX\">IMIX</a>=<span><span class=\"tag-value\">4)</span>.</span></span>", "id": 69, "info": "<div><p>The initial mixing matrix might influence the convergence speed for complex situations (especially surfaces and magnetic systems), nevertheless <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIMIX\">INIMIX</a> must not be changed from the default setting: anything which can be done with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIMIX\">INIMIX</a> can also be done with <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>, and changing <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> is definitely preferable.\n</p><p>Possible choices for INIMIX are:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIMIX\">INIMIX</a>=<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>Linear mixing according to the setting of <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIMIX\">INIMIX</a>=<span class=\"tag-value\">1</span></li></ul>\n<dl><dd>Kerker mixing (see <a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>=<span><span class=\"tag-value\">1)</span> according to the settings of </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>.</dd>\n<dd>The mixed density is given by\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{\\rm {mix}}\\left(G\\right)=\\rho _{\\rm {in}}\\left(G\\right)+A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">m</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>+</mo>\n        <mi>A</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <msup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <mo>+</mo>\n              <msup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-OPEN\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">(</mo>\n          </mrow>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-CLOSE\">\n            <mo maxsize=\"1.623em\" minsize=\"1.623em\">)</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{\\rm {mix}}\\left(G\\right)=\\rho _{\\rm {in}}\\left(G\\right)+A{\\frac {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{\\rm {out}}\\left(G\\right)-\\rho _{\\rm {in}}\\left(G\\right){\\Bigr )}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/db2065aed0113d1f690b7d222729e4e08270c672\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:52.702ex; height:6.176ex;\" alt=\"\\rho _{{{\\rm {mix}}}}\\left(G\\right)=\\rho _{{{\\rm {in}}}}\\left(G\\right)+A{\\frac  {G^{2}}{G^{2}+B^{2}}}{\\Bigl (}\\rho _{{{\\rm {out}}}}\\left(G\\right)-\\rho _{{{\\rm {in}}}}\\left(G\\right){\\Bigr )}\"></span></dd></dl></dd>\n<dd>with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>A</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.743ex; height:2.176ex;\" alt=\"A\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle B}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>B</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle B}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/47136aad860d145f75f3eed3022df827cee94d7a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.764ex; height:2.176ex;\" alt=\"B\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIMIX\">INIMIX</a>=<span class=\"tag-value\">2</span></li></ul>\n<dl><dd>No mixing (equal to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INIMIX\">INIMIX</a>=<span><span class=\"tag-value\">0</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>=<span><span class=\"tag-value\">1</span>, not recommended)</span></dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAXMIX\" title=\"MAXMIX\" class=\"tag-link\">MAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22INIMIX%22_incategory:%22Examples%22\" title='Special:Search/\"INIMIX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:22:58Z"}, "MIXPRE": {"datatype": "integer", "default": "1", "options": {"0": null, "1": null, "2": null, "3": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MIXPRE\">MIXPRE</a> specifies the metric in the Broyden mixing scheme(<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MIXPRE\">IMIX</a>=<span><span class=\"tag-value\">4)</span>.</span></span>", "id": 73, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MIXPRE\">MIXPRE</a>=<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>No preconditioning, metric=1</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MIXPRE\">MIXPRE</a>=<span class=\"tag-value\">1</span></li></ul>\n<dl><dd>\"Inverse Kerker\" metric with automatically determined <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> (determined in such a way that the variation of the preconditioning weights covers a range of a factor 20)</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MIXPRE\">MIXPRE</a>=<span class=\"tag-value\">2</span></li></ul>\n<dl><dd>\"Inverse Kerker\" metric with automatically determined <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> (determined in such a way that the variation of the preconditioning weights covers a range of a factor 200)</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MIXPRE\">MIXPRE</a>=<span><span class=\"tag-value\">3</span> (implemented for test purposes; </span><b>not</b> recommended)</li></ul>\n<dl><dd>\"Inverse Kerker\" metric with <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> from <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>, the weights for the metric are given by\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle P\\left(G\\right)=1+{\\frac {B^{2}}{G^{2}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>P</mi>\n        <mrow>\n          <mo>(</mo>\n          <mi>G</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mn>1</mn>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi>B</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <msup>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle P\\left(G\\right)=1+{\\frac {B^{2}}{G^{2}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/25708306599067bfef6b87daa978f40a92ef1ea3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:16.587ex; height:6.009ex;\" alt=\"P\\left(G\\right)=1+{\\frac  {B^{2}}{G^{2}}}\"></span></dd></dl></dd>\n<dd>with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle B}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>B</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle B}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/47136aad860d145f75f3eed3022df827cee94d7a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.764ex; height:2.176ex;\" alt=\"B\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>.</dd></dl>\n<p>The preconditioning is done only on the total charge density (i.e. up+down component) and not on the magnetization charge density (i.e. up-down component). In our experience, the introduction of a metric always improves the convergence speed. The best choice is <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MIXPRE\">MIXPRE</a>=<span><span class=\"tag-value\">1</span> (i.e. the default).\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAXMIX\" title=\"MAXMIX\" class=\"tag-link\">MAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22MIXPRE%22_incategory:%22Examples%22\" title='Special:Search/\"MIXPRE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:46:10Z"}, "WC": {"datatype": "real", "default": "1000.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/WC\">WC</a> specifies the weight factor for each step in Broyden mixing scheme (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/WC\">IMIX</a>=<span><span class=\"tag-value\">4)</span>.</span></span>", "id": 74, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/WC\">WC</a>&amp;gt;<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>Set all weights identical to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/WC\">WC</a> (resulting in Pulay's mixing method), up to now Pulay's scheme was always superior to Broyden's 2<sup>nd</sup> method.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/WC\">WC</a>=<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>Switch to Broyden's 2<sup>nd</sup> method, i.e., set the weight for the last step equal to 1000 and all other weights equal to 0.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/WC\">WC</a>&amp;lt;<span><span class=\"tag-value\">0</span> (implemented for test purposes: </span><b>not</b> recommended)</li></ul>\n<dl><dd>Try some automatic setting of the weights according to:\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle W_{\\rm {iter}}=0.01|{\\rm {WC}}|/||\\rho _{\\rm {out}}-\\rho _{\\rm {in}}||_{\\rm {precond.}}\\,}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>W</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">r</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0.01</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">W</mi>\n            <mi mathvariant=\"normal\">C</mi>\n          </mrow>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">|</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">p</mi>\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n              <mo>.</mo>\n            </mrow>\n          </mrow>\n        </msub>\n        <mspace width=\"thinmathspace\"></mspace>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle W_{\\rm {iter}}=0.01|{\\rm {WC}}|/||\\rho _{\\rm {out}}-\\rho _{\\rm {in}}||_{\\rm {precond.}}\\,}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/199612aae31ca97471ed555dddc8abcc1d50f940\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:37.442ex; height:3.176ex;\" alt=\"W_{{{\\rm {iter}}}}=0.01|{{\\rm {WC}}}|/||\\rho _{{{\\rm {out}}}}-\\rho _{{{\\rm {in}}}}||_{{{\\rm {precond.}}}}\\,\"></span></dd></dl></dd></dl>\n<dl><dd>in order to set small weights for the first steps and increase weights for the last steps.</dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAXMIX\" title=\"MAXMIX\" class=\"tag-link\">MAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22WC%22_incategory:%22Examples%22\" title='Special:Search/\"WC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-06T15:33:09Z"}, "AMIN": {"datatype": "real", "default": "min(0.1,<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\">AMIX</a>,<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX\">AMIX_MAG</a>)", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIN\">AMIN</a> specifies the minimal mixing parameter in Kerker's initial approximation to the charge-dielectric function used in the Broyden/Pulay mixing scheme (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIN\">IMIX</a>=<span><span class=\"tag-value\">4</span>, </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIN\">INIMIX</a>=<span><span class=\"tag-value\">1)</span>.</span></span>", "id": 75, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIN\">AMIN</a>=<span class=\"tag-value\">[real]</span><br> Default: <b>AMIN</b> = min(0.1,<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>)&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIN\">AMIN</a> specifies the minimal mixing parameter in Kerker's initial approximation<sup id=\"cite_ref-kerker:prb:1981_1-0\" class=\"reference\"><a href=\"#cite_note-kerker:prb:1981-1\">[1]</a></sup> to the charge-dielectric function used in the Broyden<sup id=\"cite_ref-bluegel:phd:1988_2-0\" class=\"reference\"><a href=\"#cite_note-bluegel:phd:1988-2\">[2]</a></sup><sup id=\"cite_ref-johnson:prb:1988_3-0\" class=\"reference\"><a href=\"#cite_note-johnson:prb:1988-3\">[3]</a></sup>/Pulay<sup id=\"cite_ref-pulay:cpl:1980_4-0\" class=\"reference\"><a href=\"#cite_note-pulay:cpl:1980-4\">[4]</a></sup> mixing scheme (<a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>=<span><span class=\"tag-value\">4</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>=<span><span class=\"tag-value\">1)</span>.\n</span></p>\n</div>", "last_revised": "2022-04-08T14:07:11Z"}, "MAXMIX": {"datatype": "integer", "default": "-45", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> specifies the maximum number of steps stored in the Broyden mixer (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">IMIX</a>=<span><span class=\"tag-value\">4)</span>.</span></span>", "id": 79, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> specifies the maximum number of vectors stored in the Broyden/Pulay mixer, in other words, it corresponds to the maximal rank of the approximation of the charge-dielectric function build up by the mixer. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> can be either negative or positive:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a>&amp;lt;<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>The mixer is reset after each ionic step or if the number of electronic steps exceeds |<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a>| (this is the default and similar to the behavior of VASP.4.3 and VASP.3.2).</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a>&amp;gt;<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>The charge density mixer is only reset if the storage capabilities are exceeded. The reset is done \"smoothly\" by removing the five oldest vectors from the iteration history. Therefore, if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> is positive, the approximation for the charge dielectric function which was obtained in previous ionic steps is \"reused\" in the current ionic step, and this, in turn, can reduce the number of electronic steps during relaxations and MD's. Especially for relaxations that start from a good ionic starting guess and for systems with a strong charge sloshing behavior the speedup can be significant. We found that for a 12 &#197; long box containing 16 Fe atoms the number of electronic iterations decreased from 8 to 2-3 when <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> was set to 40. For a carbon surface the number of iterations decreased from 7 to 3. At the same time, the energy stability increased significantly. But be careful, this option increases the memory requirements for the mixer considerably, and thus the option is not recommended for systems where charge sloshing is negligible anyway (like bulk simple metals). The optimal setting for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> is usually around three times the number of electronic steps required in the first iteration. Too large values for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> might cause the code to crash (because linear dependencies between input vectors might develop). Too small values for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> can slow your convergence significantly. For instance, if you need 50 self-consistency cycles, and set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a>  to 20, you force the mixer to remove iteration history continuously, which can cause divergence and at least a slow down of the convergence.</dd></dl>\n<ul><li>Caution: do not set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a>&amp;gt;<span><span class=\"tag-value\">0</span> in the following cases. (i) If your initial positions in the </span><a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file are far from the fully relaxed positions, the ions might move considerably during relaxation. In this case, it is not expedient to \"reuse\" charge mixing information from the previous ionic steps. (ii) During machine learning, the first-principles calculations are often bypassed for hundreds or even thousands of ionic steps, and the ions might move considerably between first-principles calculations. In these cases using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> will very often lead to electronic divergence or strange errors during the self-consistency cycle. In general, whenever the column RMS(c) in the <a href=\"https://www.vasp.at/wiki/index.php/OSZICAR\" title=\"OSZICAR\" class=\"tag-link\">OSZICAR</a> files shows a sudden increase in the norm of the charge density residual vector, try to remove the tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> from the INCAR file.</li></ul>\n<p><br>\n<b>Mind</b>: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMIX\">MAXMIX</a> is only available in VASP.4.4 and newer versions, and it is strongly recommended to use this option for molecular dynamics and relaxations.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22MAXMIX%22_incategory:%22Examples%22\" title='Special:Search/\"MAXMIX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:45:30Z"}, "AMIX_MAG": {"datatype": "real", "default": "1.6", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\">AMIX_MAG</a> linear mixing parameter for the magnetization density.</span>", "id": 82, "info": "<div><p>The default mixing parameters for spinpolarized calculations are:\n</p>\n<dl><dd><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>=<span><span class=\"tag-value\">4</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>=<span><span class=\"tag-value\">0</span>.4, </span><a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>=<span><span class=\"tag-value\">min(0</span>.1,</span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\">AMIX_MAG</a>), <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>=<span><span class=\"tag-value\">1</span>.0, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\">AMIX_MAG</a>=<span><span class=\"tag-value\">1</span>.6, and </span><a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>=<span><span class=\"tag-value\">1</span>.0.</span></dd></dl>\n<p>These settings are consistent with an (initial) spin enhancement factor of 4, which is usually a reasonable approximation.\n</p><p>There are only a few other parameter combinations that can be tried if convergence turns out to be very slow. In particular, for slabs, magnetic systems, and insulating systems (e.g. molecules and clusters), an initial \"linear mixing\" can result in faster convergence than the Kerker model function.<sup id=\"cite_ref-kerker:prb:81_1-0\" class=\"reference\"><a href=\"#cite_note-kerker:prb:81-1\">[1]</a></sup> One can therefore try to use the following setting \n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\"><span style=\"color:black\">AMIX</span></a>=<span><span class=\"tag-value\">0</span>.2\n</span><a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\"><span style=\"color:black\">BMIX</span></a>=<span><span class=\"tag-value\">0</span>.0001&#160;! almost zero, but 0 will crash some versions\nAMIX_MAG = 0.8\n</span><a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\"><span style=\"color:black\">BMIX_MAG</span></a>=<span><span class=\"tag-value\">0</span>.0001&#160;! almost zero, but 0 will crash some versions\n</span></pre>\n<p><b>Mind</b>: For spinpolarized calculations the defaults for the mixing parameters <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> are different than for the non-spinpolarized case.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAXMIX\" title=\"MAXMIX\" class=\"tag-link\">MAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\" title=\"BMIX MAG\" class=\"tag-link\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22AMIX_MAG%22_incategory:%22Examples%22\" title='Special:Search/\"AMIX MAG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-kerker:prb:81-1\"><a href=\"#cite_ref-kerker:prb:81_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.23.3082\">G. P. Kerker, Phys. Rev. B 23, 3082 (1981).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T15:26:10Z"}, "BMIX_MAG": {"datatype": "real", "default": "1.0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\">BMIX_MAG</a> sets the cutoff wave vector for Kerker mixing scheme<ref name=\"kerker:prb:81\"></ref> (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\">IMIX</a>=<span><span class=\"tag-value\">1</span> and/or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\">INIMIX</a>=<span><span class=\"tag-value\">1)</span> for the magnetization density.</span></span>", "id": 83, "info": "<div><p>The default mixing parameters for spinpolarized calculations are:\n</p>\n<dl><dd><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>=<span><span class=\"tag-value\">4</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>=<span><span class=\"tag-value\">0</span>.4, </span><a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>=<span><span class=\"tag-value\">min(0</span>.1,</span><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,<a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>), <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>=<span><span class=\"tag-value\">1</span>.0, </span><a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>=<span><span class=\"tag-value\">1</span>.6, and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\">BMIX_MAG</a>=<span><span class=\"tag-value\">1</span>.0.</span></dd></dl>\n<p>These settings are consistent with an (initial) spin enhancement factor of 4, which is usually a reasonable approximation.\n</p><p>There are only a few other parameter combinitions which can be tried, if convergence turns out to be very slow. In particular, for slabs, magnetic systems and insulating systems (e.g. molecules and clusters), an initial \"linear mixing\" can result in faster convergence than the Kerker model function.<sup id=\"cite_ref-kerker:prb:81_1-1\" class=\"reference\"><a href=\"#cite_note-kerker:prb:81-1\">[1]</a></sup> One can therefore try to use the following setting \n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>=<span><span class=\"tag-value\">0</span>.2\n</span><a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>=<span><span class=\"tag-value\">0</span>.0001&#160;! almost zero, but 0 will crash some versions\n</span><a href=\"https://www.vasp.at/wiki/index.php/AMIX_MAG\" title=\"AMIX MAG\" class=\"tag-link\">AMIX_MAG</a>=<span><span class=\"tag-value\">0</span>.8\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\">BMIX_MAG</a>=<span><span class=\"tag-value\">0</span>.0001&#160;! almost zero, but 0 will crash some versions\n</span></pre>\n<p><b>Mind</b>: For spinpolarized calculations the defaults for the mixing parameters <a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a> and <a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a> are different than for the non-spinpolarized case.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMIX\" title=\"IMIX\" class=\"tag-link\">IMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/INIMIX\" title=\"INIMIX\" class=\"tag-link\">INIMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAXMIX\" title=\"MAXMIX\" class=\"tag-link\">MAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIX\" title=\"AMIX\" class=\"tag-link\">AMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BMIX\" title=\"BMIX\" class=\"tag-link\">BMIX</a>,\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BMIX_MAG\">BMIX_MAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMIN\" title=\"AMIN\" class=\"tag-link\">AMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MIXPRE\" title=\"MIXPRE\" class=\"tag-link\">MIXPRE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/WC\" title=\"WC\" class=\"tag-link\">WC</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22BMIX_MAG%22_incategory:%22Examples%22\" title='Special:Search/\"BMIX MAG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-kerker:prb:81-1\">&#8593; <sup><a href=\"#cite_ref-kerker:prb:81_1-0\">a</a></sup> <sup><a href=\"#cite_ref-kerker:prb:81_1-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.23.3082\">G. P. Kerker, Phys. Rev. B 23, 3082 (1981).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T15:51:39Z"}, "MAGMOM": {"datatype": "real array", "default": [["NIONS * 1.0", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISPIN\">ISPIN</a>=<span class=\"tag-value\">2</span>"], ["3 * NIONS * 1.0", "for non-collinear magnetic systems (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\">LNONCOLLINEAR</a>=<span><span class=\"tag-value\">.TRUE.</span>)</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAGMOM\">MAGMOM</a> Specifies the initial magnetic moment for each atom, if and only if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAGMOM\">ICHARG</a>=<span><span class=\"tag-value\">2</span>, or if  </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAGMOM\">ICHARG</a>=<span><span class=\"tag-value\">1</span> and the </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAGMOM\">CHGCAR</a> file contains no magnetisation density</span>", "id": 84, "info": "<div><p>If one is searching for a spin polarised (ferro- or antiferromagnetic) solution,\nit is usually safest to start from larger local magnetic moments, because in\nsome cases, the default values might not be sufficiently big.\nA safe default is usually the experimental magnetic moment multiplied by\n1.2 or 1.5. It is important to emphasize that the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAGMOM\">MAGMOM</a> tag is\nused <i>only</i>, if\nthe <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file holds no information on the magnetisation density, <i>and</i>\nif the initial charge density is not calculated from the wavefunctions supplied in\nthe <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file.\nThis means that the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAGMOM\">MAGMOM</a> tag is useful for two kind of calculations\n</p>\n<ul><li>Calculations starting from scratch with no <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file.</li></ul>\n<ul><li>Calculations starting from  a <i>non magnetic</i> <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">1)</span>.</span></li></ul>\n<p>Often such calculations converge more reliably to the desired magnetic\nconfiguration than calculations of the first kind. Hence, if you have problems converging to a desired magnetic solution, try to calculate first the non-magnetic groundstate, and continue from the generated <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file. For the continuation job, you need to set\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span class=\"tag-value\">2</span>\n<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span class=\"tag-value\">1</span> \n</pre>\n<p>in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.\n</p><p>Starting from VASP.4.4.4, VASP also determines whether the magnetic moments supplied in\nthe <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAGMOM\">MAGMOM</a> line break the symmetry. If they do, the corresponding symmetry operations are removed\nand not applied during the symmetrization of charges and forces. This means that antiferromagnetic (AFM) calculations can be performed by\nspecifying anti-parallel magnetic moments for the atoms in the cell: The most simple  <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a>-file for a bcc-cell with AFM spin alignment \nwould be\n</p>\n<pre>AFM\n 2.80000\n 1.00000   .00000   .00000\n  .00000  1.00000   .00000\n  .00000   .00000  1.00000\n 1 1\nCarthesian\n  .00000   .00000   .00000\n  .50000   .50000   .50000\n</pre>\n<p>with \n</p>\n<pre> <a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span class=\"tag-value\">2</span>\n <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAGMOM\">MAGMOM</a>=<span><span class=\"tag-value\">1</span>.0 -1.0\n</span></pre>\n<p>specified in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>.\nIn a perfectly AFM ordered cell, the total net magnetisation\nis zero as a matter of fact, but it is possible to determine the local magnetic moments by using the <a href=\"https://www.vasp.at/wiki/index.php/LORBIT\" title=\"LORBIT\" class=\"tag-link\">LORBIT</a> tag (and if <a href=\"https://www.vasp.at/wiki/index.php/LORBIT\" title=\"LORBIT\" class=\"tag-link\">LORBIT</a>&amp;lt;<span><span class=\"tag-value\">10</span> , the </span><a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a>-tag in addition).\n</p><p>In the case of spin-orbit coupling (<a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>) the 3D-orientation of the magnetic moments has to be given with respect to the spin-quantisation axis <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\" title=\"LNONCOLLINEAR\" class=\"tag-link\">LNONCOLLINEAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>, <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LORBIT\" title=\"LORBIT\" class=\"tag-link\">LORBIT</a>, <a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22MAGMOM%22_incategory:%22Examples%22\" title='Special:Search/\"MAGMOM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T08:37:13Z"}, "RWIGS": {"datatype": "real array", "default": "-1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/RWIGS\">RWIGS</a> specifies the Wigner-Seitz radius (in <math>\\AA</math>) for each atom type.</span>", "id": 85, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RWIGS\">RWIGS</a> <i>has</i> to be supplied for each atom type if <a href=\"https://www.vasp.at/wiki/index.php/LORBIT\" title=\"LORBIT\" class=\"tag-link\">LORBIT</a> is set to &lt;10. In this case,  the <i>spd</i>- and site projected wave function character of each band is evaluated, and the local partial DOS (see sections <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>) and local magnetic moments are calculated.</li></ul>\n<ul><li>If  <a href=\"https://www.vasp.at/wiki/index.php/LORBIT\" title=\"LORBIT\" class=\"tag-link\">LORBIT</a>&amp;gt;<span><span class=\"tag-value\">=</span> 10, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RWIGS\">RWIGS</a> is ignored</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RWIGS\">RWIGS</a> <i>must</i>  be set in calculations with constraining the local magnetic moments (see <a href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\" title=\"I CONSTRAINED M\" class=\"tag-link\">I_CONSTRAINED_M</a>)</li></ul>\n<p>For <b>mono-atomic systems</b> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RWIGS\">RWIGS</a> can be defined\nunambiguously. The sum of the volume of the spheres around each atom should be\nthe same as the total volume of the cell (assuming that you do not have a\nvacuum region within your cell).  This is in the spirit of atomic sphere calculations.\nVASP writes a line\n</p>\n<pre>Volume of Typ   1:     98.5&#160;%\n</pre>\n<p>to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. You should use a <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RWIGS\">RWIGS</a> value which yields a\nvolume of approximately 100%.\n</p><p>For systems consisting of <b>more than one atom type</b>, there is no unambiguous way to define <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RWIGS\">RWIGS</a> and\nseveral choices are possible.  In all cases, the sum of\nthe volume of the spheres should be close to the total\nvolume of the cell (i.e the sum of the values given by VASP should be\naround 100%).\n</p>\n<ul><li>One possible choice is to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RWIGS\">RWIGS</a> such that the overlap between the spheres is minimized.</li></ul>\n<ul><li>a more elaborate way is to apply a Bader-type charge analysis to estimate the radius of an atom in a specific compound.</li></ul>\n<ul><li>in most cases, it is simplest to choose the radius of each sphere such that they are close to the covalent radius as tabulated in most periodic tables. This simple criterion can be used in most cases, and it relies at least on some ``physical intuition<i>.</i></li></ul>\n<p><br>\n</p><p>Please keep in mind that results are <b>qualitative</b> i.e. there is no unambiguous way to determine the location of an electron\n(and hence the local magnetic moments). With the current implementation, it is for instance\nhardly possible to determine charge transfer. What can be derived from the partial DOS is the typical character of a peak in a DOS.\nQuantitative results can be obtained only by careful comparison with a reference system  (e.g. bulk versus surface).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LORBIT\" title=\"LORBIT\" class=\"tag-link\">LORBIT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\" title=\"I CONSTRAINED M\" class=\"tag-link\">I_CONSTRAINED_M</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22RWIGS%22_incategory:%22Examples%22\" title='Special:Search/\"RWIGS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-06T15:48:52Z"}, "NBLOCK": {"datatype": "integer", "default": "1", "options": {}, "summary": "After <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBLOCK\">NBLOCK</a>  ionic steps the pair-correlation function and the DOS are calculated", "id": 87, "info": "<div><p>In addition\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBLOCK\">NBLOCK</a> controls how often the kinetic energy is scaled if <a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>=<span><span class=\"tag-value\">-1</span>.</span></li></ul>\n<ul><li>After <a href=\"https://www.vasp.at/wiki/index.php/KBLOCK\" title=\"KBLOCK\" class=\"tag-link\">KBLOCK</a>*<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBLOCK\">NBLOCK</a> ionic steps the averaged pair correlation function and DOS are written to the files <a href=\"https://www.vasp.at/wiki/index.php/PCDAT\" title=\"PCDAT\" class=\"tag-link\">PCDAT</a>  and <a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>. The internal accumulators are reset, and after another KBLOCK*NBLOCK steps the new averaged quantities are written out.</li></ul>\n<p><i>Mind</i>: The CPU costs for these tasks are quite small, so use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBLOCK\">NBLOCK</a>=<span><span class=\"tag-value\">1</span>, except when you apply machine-learned force fields. In that case, you might want to increase </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBLOCK\">NBLOCK</a> to 10 to 100 to decrease the computational load and the file size of the XDATCAR file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PCDAT\" title=\"PCDAT\" class=\"tag-link\">PCDAT</a>, <a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/XDATCAR\" title=\"XDATCAR\" class=\"tag-link\">XDATCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/KBLOCK\" title=\"KBLOCK\" class=\"tag-link\">KBLOCK</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NBLOCK%22_incategory:%22Examples%22\" title='Special:Search/\"NBLOCK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-06-02T08:50:55Z"}, "KBLOCK": {"datatype": "integer", "default": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSW\">NSW</a>", "options": {}, "summary": "After <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KBLOCK\">KBLOCK</a>*<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KBLOCK\">NBLOCK</a> ionic steps the averaged pair-correlation function and DOS are written to the files <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PCDAT\">PCDAT</a>  and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PCDAT\">DOSCAR</a>. More details can be found on the page describing the tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KBLOCK\">NBLOCK</a>.", "id": 88, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>, <a href=\"https://www.vasp.at/wiki/index.php/PCDAT\" title=\"PCDAT\" class=\"tag-link\">PCDAT</a>, <a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22KBLOCK%22_incategory:%22Examples%22\" title='Special:Search/\"KBLOCK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:00:01Z"}, "LWAVE": {"datatype": "boolean", "default": ".NOT.<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LH5\">LH5</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWAVE\">LWAVE</a> determines whether the wavefunctions are written to the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/WAVECAR\">WAVECAR</a> file at the end of a run.</span>", "id": 89, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWAVE\">LWAVE</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>LWAVE</b> = .NOT.<a href=\"https://www.vasp.at/wiki/index.php/LH5\" title=\"LH5\" class=\"tag-link\">LH5</a>&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWAVE\">LWAVE</a> determines whether the wavefunctions are written to the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file at the end of a run.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHARG\" title=\"LCHARG\" class=\"tag-link\">LCHARG</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCHARGH5\" title=\"LCHARGH5\" class=\"tag-link\">LCHARGH5</a>, <a href=\"https://www.vasp.at/wiki/index.php/LWAVEH5\" title=\"LWAVEH5\" class=\"tag-link\">LWAVEH5</a>, <a href=\"https://www.vasp.at/wiki/index.php/LH5\" title=\"LH5\" class=\"tag-link\">LH5</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LWAVE%22_incategory:%22Examples%22\" title='Special:Search/\"LWAVE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-02T07:48:39Z"}, "LCHARG": {"datatype": "boolean", "default": ".NOT.<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LH5\">LH5</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCHARG\">LCHARG</a> determines whether the charge densities (files <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CHGCAR\">CHGCAR</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CHGCAR\">CHG</a>) are written.</span>", "id": 90, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCHARG\">LCHARG</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>LCHARG</b> = .NOT.<a href=\"https://www.vasp.at/wiki/index.php/LH5\" title=\"LH5\" class=\"tag-link\">LH5</a>&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCHARG\">LCHARG</a> determines whether the charge densities (files <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHG\" title=\"CHG\" class=\"tag-link\">CHG</a>) are written.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWAVE\" title=\"LWAVE\" class=\"tag-link\">LWAVE</a>, <a href=\"https://www.vasp.at/wiki/index.php/LWAVEH5\" title=\"LWAVEH5\" class=\"tag-link\">LWAVEH5</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCHARGH5\" title=\"LCHARGH5\" class=\"tag-link\">LCHARGH5</a>, <a href=\"https://www.vasp.at/wiki/index.php/LH5\" title=\"LH5\" class=\"tag-link\">LH5</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LCHARG%22_incategory:%22Examples%22\" title='Special:Search/\"LCHARG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-02T07:49:03Z"}, "IMAGES": {"datatype": "integer", "default": "0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMAGES\">IMAGES</a> defines how many instances of VASP are started. These instances execute VASP calculations in separate directories 01, 02, 03, etc. This flag is used to support elastic band calculations, parallel tempering, thermodynamic integration as well as other scenaria where a simultaneous calculation of several VASP instances is required.</span>", "id": 91, "info": "<div><p>VASP supports various modes where simultaneous calculations for different INCAR, KPOINTS, POTCAR, or POSCAR file are performed. \nThe elastic band method to calculate energy barriers, as well as parallel tempering are explained in this section.\n</p><p>Generally a primary  <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file must be located in the root directory. Most of the other files, including <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> can either reside in the subdirectories (named 00, 01, 02...) or in the root directory.\nThe files in the subdirectories take precedence over those in the root directory (for details\nsee the paragraph \"File handling\" below). The tag\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMAGES\">IMAGES</a>=<span><span class=\"tag-value\">number</span> of images\n</span></pre>\n<p>forces VASP to execute multiple instances, performing calculations in the subdirectors 01, 02, .., number of images. \nThe number of nodes must be dividable by the number of images (the tags <a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>, <a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a> or <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> can still be use and might even be different, if INCAR files are supplied in the subdirectories).\nVASP divides the nodes in groups, and each group then works on one <i>image</i> 01, 02, ... IMAGES.\nFor nudged elastic band calculations, it is usually sufficient to provide all input files in the root directory, \nexcept for the POSCAR files which need to be provided in the subdirectories. \nThe first group of nodes will then read the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file from  the directory 01, the second group from 02 etc.\nIn the elastic band method, the endpoints are kept fixed, and the position\nof the end points must be supplied in the files 00/POSCAR and XX/POSCAR, where  XX is\n</p>\n<pre>XX = number of images+1.\n</pre>\n<p>(the directories 00 and XX are only required for elastic band calculations).\n</p><p>If the tag <a href=\"https://www.vasp.at/wiki/index.php/LTEMPER\" title=\"LTEMPER\" class=\"tag-link\">LTEMPER</a>=<span><span class=\"tag-value\">.TRUE.</span> is set in the </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, VASP performs parallel tempering calculations. In this case, it is necessary to supply different <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> files in each subdirectory. For each subdirectory a different simulation temperature should be supplied using the tags  <a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a> in the INCAR files of the subdirectories. For further details, we refer to the description of the tag <a href=\"https://www.vasp.at/wiki/index.php/LTEMPER\" title=\"LTEMPER\" class=\"tag-link\">LTEMPER</a>.\n</p><p>All output files (<a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> etc.) are all written to the subdirectories.\nSince no nodes are executing for the positions supplied in the\ndirectories 00 and XX, no output files will be created in these sub directories.\nImage 01 writes to the usual stdout file, located in the directory from which VASP is started,\nthe other images write to the files 02/stdout, 03/stdout etc.\nIn addition to the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IMAGES\">IMAGES</a> tag, a spring constant can be\nsupplied in the <a href=\"https://www.vasp.at/wiki/index.php/SPRING\" title=\"SPRING\" class=\"tag-link\">SPRING</a> tag. The default is\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/SPRING\" title=\"SPRING\" class=\"tag-link\">SPRING</a>=<span class=\"tag-value\">-5</span>\n</pre>\n<p>The <b>nudged elastic band method</b><sup id=\"cite_ref-jons95_1-0\" class=\"reference\"><a href=\"#cite_note-jons95-1\">[1]</a></sup><sup id=\"cite_ref-jons98_2-0\" class=\"reference\"><a href=\"#cite_note-jons98-2\">[2]</a></sup> is applied\nwhen <a href=\"https://www.vasp.at/wiki/index.php/SPRING\" title=\"SPRING\" class=\"tag-link\">SPRING</a> is set to a negative value, e.g.\n<a href=\"https://www.vasp.at/wiki/index.php/SPRING\" title=\"SPRING\" class=\"tag-link\">SPRING</a>=<span><span class=\"tag-value\">-5</span>. This is also the recommended setting.\nCompared to the previous case, additional tangential springs\nare introduced to keep the images equidistant\nduring the relaxation (remember the constraint is only\nconserved to first order otherwise). Do not use too large values,\nbecause this can slow down convergence. The default value\nusually works reliably.\n</span></p><p>One problem of the nudged elastic band method is\nthat the constraint (i.e movements only\nin the hyper-plane perpendicular to the current tangent) is\nnon linear. Therefore, the CG algorithm usually fails\nto converge, and  we recommended to use\nthe RMM-DIIS algorithm (<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">1)</span> or the quick-min algorithm (</span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">3)</span>.\nAdditionally,\nthe non-linear constraint (equidistant images) tends to be  violated\nsignificantly during the first few steps (it is only enforced to first order).\nIf this problem is\nencountered, a very low dimensionality parameter (</span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">1</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a>=<span><span class=\"tag-value\">2)</span>\nshould be applied in the first few steps, or a steepest\ndescent minimization without line optimization (</span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">3</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>=<span><span class=\"tag-value\">2)</span>.\nshould be used, to  pre-converge the images.\n</span></p><p>If all degrees of freedom are allowed to relax (isolated\nmolecules, no surface, etc.), make sure that\nthe sum of all positions  is the same for each cell. In other words,\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sum _{i=1,N_{ions}}{\\vec {R}}_{i}^{\\alpha }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n            <mo>,</mo>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n                <mi>o</mi>\n                <mi>n</mi>\n                <mi>s</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munder>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>R</mi>\n                <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sum _{i=1,N_{ions}}{\\vec {R}}_{i}^{\\alpha }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/46e8c5d3a803d229b11088397e7dcf76c4ead474\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:10.579ex; height:6.009ex;\" alt=\"\\sum _{{i=1,N_{{ions}}}}{\\vec  R}_{i}^{{\\alpha }}\"></span>\n</p><p>must be equal for all images. Otherwise <i>fake</i> forces\nare introduced, and the images drift against\neach other (this will not introduce problems\nduring the VASP calculations, but it is awkward to visualize\nthe final results).\nOften an initial linearly interpolated  starting guess is\nappropriate, this can e.g. be done with a small script called\n</p>\n<pre>interpolatePOS\n</pre>\n<p>The script also removes as an option the center-of-mass motion.\n</p><p>Finally, we strongly recommend to keep the number of images\nto an absolute minimum. The fewer images are used, the faster\nto convergence to the groundstate is. Often, it is\nadvisable to start with a single image between the two endpoints,\nand to increase the number of images, once this first run has converged.\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/SPRING\" title=\"SPRING\" class=\"tag-link\">SPRING</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\" title=\"VCAIMAGES\" class=\"tag-link\">VCAIMAGES</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IMAGES%22_incategory:%22Examples%22\" title='Special:Search/\"IMAGES\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-jons95-1\"><a href=\"#cite_ref-jons95_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1016/0039-6028(94)00731-4\">G. Mills, H. Jonsson and G. K. Schenter, Surface Science, 324, 305 (1995).</a></span>\n</li>\n<li id=\"cite_note-jons98-2\"><a href=\"#cite_ref-jons98_2-0\">&#8593;</a> <span class=\"reference-text\">H. Jonsson, G. Mills and K. W. Jacobsen,\n<i>Nudged Elastic Band Method for Finding Minimum Energy Paths of Transitions</i>,\nin <i>Classical and Quantum Dynamics in Condensed Phase Simulations</i>,\ned. B. J. Berne, G. Ciccotti and D. F. Coker (World Scientific, 1998).</span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-19T15:33:52Z"}, "SPRING": {"datatype": "integer", "default": "-5", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SPRING\">SPRING</a> gives the <i>spring constant</i> between the images as used in the elastic band method.</span>", "id": 92, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SPRING\">SPRING</a> has to be set together with <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a> if the elastic band method is used to calculate energy barriers between two ionic configurations of a system.\n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SPRING\">SPRING</a>=<span><span class=\"tag-value\">0</span>, each image is only allowed\nto move into the direction perpendicular to the current\nhyper-tangent, which is calculated as the normal vector\nbetween two neighboring images.\nThis algorithm keeps the distance between the images\nconstant to </span><i>first order</i>. It is therefore possible to start\nwith a dense image spacing around the saddle point to obtain\na finer resolution around this point.\n</p><p>The nudged elastic band method<sup id=\"cite_ref-jons95_1-0\" class=\"reference\"><a href=\"#cite_note-jons95-1\">[1]</a></sup><sup id=\"cite_ref-jons98_2-0\" class=\"reference\"><a href=\"#cite_note-jons98-2\">[2]</a></sup>\nis applied when <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SPRING\">SPRING</a> is set to a negative value e.g.\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SPRING\">SPRING</a>=<span class=\"tag-value\">-5</span>\n</pre>\n<p>This is also the recommended setting.\nCompared to the previous case, additional tangential springs\nare introduced to keep the images equidistant\nduring the relaxation (remember the constraint is only\nconserved to first order otherwise). Do not use too large values,\nbecause this can slow down convergence. The default value\nusually works quite reliably.\n</p><p>One problem of the nudged elastic band method is\nthat the constraint (i.e movements only\nin the hyper-plane perpendicular to the current tangent) is\nnon linear. Therefore, the CG algorithm usually fails\nto converge, and  we recommended to use\nthe RMM-DIIS algorithm (<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">1)</span> or the quick-min algorithm (</span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">3)</span>.\nAdditionally,\nthe non-linear constraint (equidistant images) tends to be  violated\nsignificantly during the first few steps (it is only enforced to first order).\nIf this problem is\nencountered, a very low dimensionality parameter (</span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">1</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a>=<span><span class=\"tag-value\">2)</span>\nshould be applied in the first we steps, or a steepest\ndescent minimization without line optimization (</span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">3</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>=<span><span class=\"tag-value\">2)</span>.\nshould be used, to  pre-converge the images.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SPRING%22_incategory:%22Examples%22\" title='Special:Search/\"SPRING\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-jons95-1\"><a href=\"#cite_ref-jons95_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1016/0039-6028(94)00731-4\">G. Mills, H. Jonsson and G. K. Schenter, Surface Science, 324, 305 (1995).</a></span>\n</li>\n<li id=\"cite_note-jons98-2\"><a href=\"#cite_ref-jons98_2-0\">&#8593;</a> <span class=\"reference-text\">H. Jonsson, G. Mills and K. W. Jacobsen, <i>Nudged Elastic Band Method for Finding Minimum Energy Paths of Transitions</i>, in <i>Classical and Quantum Dynamics in Condensed Phase Simulations</i>, ed. B. J. Berne, G. Ciccotti and D. F. Coker (World Scientific, 1998).</span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:54:59Z"}, "NFREE": {"datatype": "integer", "default": [["1", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span class=\"tag-value\">2</span>"], ["0", "else"]], "options": {}, "summary": "depending on <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">NFREE</a> specifies the number of remembered steps in the history of ionic convergence runs, or the number of ionic displacements in frozen phonon calculations.", "id": 94, "info": "<div><p><span>\n</span></p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">1</span> (quasi-Newton algorithm for ionic relaxation):</span></li></ul>\n<dl><dd>(i) If  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a> is set, only up to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a> ionic steps are kept in the iteration history (the rank of the approximate Hessian matrix is not larger than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a>).</dd></dl>\n<dl><dd>(ii) If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a> is <b>not</b> specified, the criterion whether information is removed from the iteration history is based on the eigenvalue spectrum of the inverse Hessian matrix: if one eigenvalue of the inverse Hessian matrix is larger than 8, information from previous steps is discarded. For complex problems <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a> can usually be set to a rather large value (i.e. 10-20), however systems of low dimensionality require a careful setting of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a> (or preferably an exact  counting of the number of degrees of freedom). To increase <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a> beyond 20 rarely improves convergence. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a> is set to too large, the RMM-DIIS algorithm might diverge.</dd></dl>\n<p>\n<span>\n</span></p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">5</span> (from VASP.4.5) or </span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">6</span> (from VASP.5.1): frozen phonon approach to calculate the zone-center vibrational frequencies of a system.</span></li></ul>\n<dl><dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a> determines how many displacements are used for each direction and ion. The step size has to be given in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>, by the tag <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>.  Displacements should be small enough to ensure that the harmonic approximation is safely fulfilled.   If too large values are supplied in the input file, it is defaulted to 0.015 &#197; up from VASP.5.1 (but <i>not</i> in all earlier releases). Expertise shows that this is a very reasonable compromise.</dd></dl>\n<dl><dd><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a>=<span><span class=\"tag-value\">2</span> uses central difference, </span><i>i.e</i> each ion is displaced in each direction by a small positive and negative displacement</dd></dl>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {x}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>x</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {x}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/18d95a7845e4e16ffb7e18ab37a208d0ab18e0e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:2.176ex;\" alt=\"{\\hat  {x}}\"></span>,</dd></dl></dd></dl>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {y}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>y</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {y}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3dc8de3d8ea01304329ef9518fad7a6d196c4c01\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.302ex; height:2.509ex;\" alt=\"{\\hat  {y}}\"></span>,</dd></dl></dd></dl>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {z}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>z</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {z}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/722665b45e05afe79f4395a3de0237d8ce856273\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.296ex; height:2.176ex;\" alt=\"{\\hat  {z}}\"></span>,</dd></dl></dd></dl>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a>=<span><span class=\"tag-value\">4</span>, four displacements are used</span></dd></dl>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {x}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>x</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {x}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/18d95a7845e4e16ffb7e18ab37a208d0ab18e0e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:2.176ex;\" alt=\"{\\hat  {x}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> 2 * <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {x}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>x</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {x}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/18d95a7845e4e16ffb7e18ab37a208d0ab18e0e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:2.176ex;\" alt=\"{\\hat  {x}}\"></span>,</dd></dl></dd></dl>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {y}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>y</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {y}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3dc8de3d8ea01304329ef9518fad7a6d196c4c01\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.302ex; height:2.509ex;\" alt=\"{\\hat  {y}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> 2 * <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {x}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>x</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {x}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/18d95a7845e4e16ffb7e18ab37a208d0ab18e0e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:2.176ex;\" alt=\"{\\hat  {x}}\"></span>,</dd></dl></dd></dl>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {z}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>z</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {z}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/722665b45e05afe79f4395a3de0237d8ce856273\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.296ex; height:2.176ex;\" alt=\"{\\hat  {z}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/869e366caf596564de4de06cb0ba124056d4064b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"\\pm \"></span> 2 * <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> * <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {x}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>x</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {x}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/18d95a7845e4e16ffb7e18ab37a208d0ab18e0e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:2.176ex;\" alt=\"{\\hat  {x}}\"></span>,</dd></dl></dd></dl>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a>=<span><span class=\"tag-value\">1</span>, only a single displacement is applied (it is strongly recommend to avoid </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NFREE\">NFREE</a>=<span><span class=\"tag-value\">1)</span>.</span></dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NFREE%22_incategory:%22Examples%22\" title='Special:Search/\"NFREE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T08:27:20Z"}, "NGX": {"datatype": "integer", "default": "set in accordance with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENCUT</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGX\">NGX</a> sets the number of grid points in the FFT-grid along the first lattice vector.</span>", "id": 95, "info": "<div><p>By default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGX\">NGX</a> is set in accordance with the requested \"precision\"-mode (<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>) and the plane wave kinetic energy cutoff <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>:\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a></td>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGX\">NGX</a>\n</td></tr>\n<tr>\n<td>Normal</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Single</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Accurate</td>\n<td>2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Low</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Medium</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>High</td>\n<td>2&#215;G<sub>cut</sub>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>where\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e7af282a869c529782190658829951d032ccfe96\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:16.71ex; height:6.009ex;\" alt=\"E_{{{\\rm {cut}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {cut}}}}^{2}\"></span></dd></dl>\n<p>with E<sub>cut</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>.\n</p><p>Alternatively, set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGX\">NGX</a> to a specific value in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NGX%22_incategory:%22Examples%22\" title='Special:Search/\"NGX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:59Z"}, "NGY": {"datatype": "integer", "default": "set in accordance with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENCUT</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGY\">NGY</a> sets the number of grid points in the FFT grid along the second lattice vector.</span>", "id": 96, "info": "<div><p>By default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGY\">NGY</a> is set in accordance with the requested \"precision\"-mode (<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>) and the plane wave kinetic energy cutoff <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>:\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a></td>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGY\">NGY</a>\n</td></tr>\n<tr>\n<td>Normal</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Single</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Accurate</td>\n<td>2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Low</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Medium</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>High</td>\n<td>2&#215;G<sub>cut</sub>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>where\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e7af282a869c529782190658829951d032ccfe96\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:16.71ex; height:6.009ex;\" alt=\"E_{{{\\rm {cut}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {cut}}}}^{2}\"></span></dd></dl>\n<p>with E<sub>cut</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>.\n</p><p>Alternatively <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGY\">NGY</a> may be set to a specific value in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NGY%22_incategory:%22Examples%22\" title='Special:Search/\"NGY\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:48:17Z"}, "NGZ": {"datatype": "integer", "default": "set in accordance with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENCUT</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGZ\">NGZ</a> sets the number of grid points in the FFT-grid along the third lattice vector.</span>", "id": 97, "info": "<div><p>By default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGZ\">NGZ</a> is set in accordance with the requested \"precision\"-mode (<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>) and the plane wave kinetic energy cutoff <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>:\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a></td>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGZ\">NGZ</a>\n</td></tr>\n<tr>\n<td>Normal</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Single</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Accurate</td>\n<td>2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Low</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>Medium</td>\n<td>3/2&#215;G<sub>cut</sub>\n</td></tr>\n<tr>\n<td>High</td>\n<td>2&#215;G<sub>cut</sub>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>where\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e7af282a869c529782190658829951d032ccfe96\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:16.71ex; height:6.009ex;\" alt=\"E_{{{\\rm {cut}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {cut}}}}^{2}\"></span></dd></dl>\n<p>with E<sub>cut</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>.\n</p><p>Alternatively <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGZ\">NGZ</a> may be set to a specific value in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NGZ%22_incategory:%22Examples%22\" title='Special:Search/\"NGZ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:48:40Z"}, "POTIM": {"datatype": "real", "default": [["none,", "<span><i>must</i> be set if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">0</span> (MD)</span></span>"], ["0.5", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">1</span>, 2, and 3 (ionic relaxation), and 5 (up to VASP.4.6)</span>"], ["0.015", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">5</span>, and 6 (as of VASP.5.1)</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTIM\">POTIM</a> sets the time step in molecular dynamics or the step width in ionic relaxations. </span>", "id": 98, "info": "<div><ul><li>For <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTIM\">POTIM</a> gives the time step (in fs) in all ab-initio Molecular Dynamics runs, it <i>has</i> to be supplied therefore, otherwise VASP crashes immediately after having started.</li></ul>\n<ul><li>For <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">1</span>, 2, and 3, which corresponds to ionic relaxation using a quasi-Newton algorithm, conjugate-gradient algorithm, and damped molecular dynamics, respectively, the </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTIM\">POTIM</a> tag serves as a scaling constant for the step widths. The quasi-Newton algorithm is especially sensitive to the choice of this parameter.</li></ul>\n<ul><li>For <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">5</span>, and 6, a phonon calculations using the finite differences approach is done, where </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTIM\">POTIM</a> is the width of the displacement of each ion to calculate the Hessian Matrix.</li></ul>\n<dl><dd>VASP.4.6 and older releases: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTIM\">POTIM</a> has to be small enough to ensure that the displacements are within the harmonic limit. The vibrational frequencies using the frozen phonon approach are based on the harmonic approximation.</dd></dl>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  For VASP.5.1 and newer releases, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTIM\">POTIM</a> is automatically reset to 0.015 &#197;, if the supplied value for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTIM\">POTIM</a> is unreasonably large.\n</div></dd></dl>\n<p class=\"mw-empty-elt\">\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>, <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22POTIM%22_incategory:%22Examples%22\" title='Special:Search/\"POTIM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T08:28:50Z"}, "NGXF": {"datatype": "integer", "default": "set in accordance with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">NGX</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENCUT</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENAUG</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGXF\">NGXF</a> sets the number of grid points in the \"fine\" FFT grid along the first lattice vector.</span>", "id": 99, "info": "<div><p>On this \"fine\" FFT mesh the localized augmentation charges are represented if ultrasoft pseudopotentials (USPPs) or the PAW method are used. In case USPPs are used, the local potentials (exchange-correlation, Hartree-potential and ionic potentials) are also calculated on this \"fine\" FFT-mesh.\n</p><p>By default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGXF\">NGXF</a> is set in accordance with the requested \"precision\"-mode (<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>), <a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>, and the plane wave kinetic energy cutoffs <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> and <a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>:\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a></td>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGXF\">NGXF</a>\n</td></tr>\n<tr>\n<td>Normal</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>2&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>\n</td></tr>\n<tr>\n<td>Single</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>\n</td></tr>\n<tr>\n<td>Accurate</td>\n<td>2&#215;G<sub>cut</sub></td>\n<td>2&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>\n</td></tr>\n<tr>\n<td>Low</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>3&#215;G<sub>aug</sub>\n</td></tr>\n<tr>\n<td>Medium</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>4&#215;G<sub>aug</sub>\n</td></tr>\n<tr>\n<td>High</td>\n<td>2&#215;G<sub>cut</sub></td>\n<td>16/3&#215;G<sub>aug</sub>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>where\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}\\qquad E_{\\rm {aug}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {aug}}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n        <mspace width=\"2em\"></mspace>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">g</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">g</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}\\qquad E_{\\rm {aug}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {aug}}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1430812cba33ba3fd6eddfe8604808ccf4c92713\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:38.613ex; height:6.009ex;\" alt=\"E_{{{\\rm {cut}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {cut}}}}^{2}\\qquad E_{{{\\rm {aug}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {aug}}}}^{2}\"></span></dd></dl>\n<p>with E<sub>cut</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> and E<sub>aug</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>.\n</p><p>Alternatively <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGXF\">NGXF</a> may be set to a specific value in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NGXF%22_incategory:%22Examples%22\" title='Special:Search/\"NGXF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:48:08Z"}, "NGYF": {"datatype": "integer", "default": "set in accordance with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">NGY</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENCUT</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENAUG</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGYF\">NGYF</a> sets the number of grid points in the \"fine\" FFT grid along the second lattice vector.</span>", "id": 100, "info": "<div><p>On this \"fine\" FFT mesh the localized augmentation charges are represented if ultrasoft pseudopotentials (USPPs) or the PAW method are used. In case USPPs are used, the local potentials (exchange-correlation, Hartree-potential and ionic potentials) are also calculated on this \"fine\" FFT-mesh.\n</p><p>By default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGYF\">NGYF</a> is set in accordance with the requested \"precision\"-mode (<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>), <a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>, and the plane wave kinetic energy cutoffs <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> and <a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>:\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a></td>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGYF\">NGYF</a>\n</td></tr>\n<tr>\n<td>Normal</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>2&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>\n</td></tr>\n<tr>\n<td>Single</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>\n</td></tr>\n<tr>\n<td>Accurate</td>\n<td>2&#215;G<sub>cut</sub></td>\n<td>2&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>\n</td></tr>\n<tr>\n<td>Low</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>3&#215;G<sub>aug</sub>\n</td></tr>\n<tr>\n<td>Medium</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>4&#215;G<sub>aug</sub>\n</td></tr>\n<tr>\n<td>High</td>\n<td>2&#215;G<sub>cut</sub></td>\n<td>16/3&#215;G<sub>aug</sub>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>where\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}\\qquad E_{\\rm {aug}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {aug}}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n        <mspace width=\"2em\"></mspace>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">g</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">g</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}\\qquad E_{\\rm {aug}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {aug}}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1430812cba33ba3fd6eddfe8604808ccf4c92713\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:38.613ex; height:6.009ex;\" alt=\"E_{{{\\rm {cut}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {cut}}}}^{2}\\qquad E_{{{\\rm {aug}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {aug}}}}^{2}\"></span></dd></dl>\n<p>with E<sub>cut</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> and E<sub>aug</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>.\n</p><p>Alternatively, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGYF\">NGYF</a> may be set to a specific value in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NGYF%22_incategory:%22Examples%22\" title='Special:Search/\"NGYF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:48:24Z"}, "NGZF": {"datatype": "integer", "default": "set in accordance with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">NGZ</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENCUT</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">ENAUG</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGZF\">NGZF</a> sets the number of grid points in the \"fine\" FFT grid along the first lattice vector.</span>", "id": 101, "info": "<div><p>On this \"fine\" FFT mesh the localized augmentation charges are represented if ultrasoft pseudopotentials (USPPs) or the PAW method are used. In case USPPs are used, the local potentials (exchange-correlation, Hartree-potential, and ionic potentials) are also calculated on this \"fine\" FFT-mesh.\n</p><p>By default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGZF\">NGZF</a> is set in accordance with the requested \"precision\"-mode (<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>), <a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>, and the plane wave kinetic energy cutoffs <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> and <a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>:\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a></td>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGZF\">NGZF</a>\n</td></tr>\n<tr>\n<td>Normal</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>2&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>\n</td></tr>\n<tr>\n<td>Single</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>\n</td></tr>\n<tr>\n<td>Accurate</td>\n<td>2&#215;G<sub>cut</sub></td>\n<td>2&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>\n</td></tr>\n<tr>\n<td>Low</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>3&#215;G<sub>aug</sub>\n</td></tr>\n<tr>\n<td>Medium</td>\n<td>3/2&#215;G<sub>cut</sub></td>\n<td>4&#215;G<sub>aug</sub>\n</td></tr>\n<tr>\n<td>High</td>\n<td>2&#215;G<sub>cut</sub></td>\n<td>16/3&#215;G<sub>aug</sub>\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>where\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}\\qquad E_{\\rm {aug}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {aug}}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n        <mspace width=\"2em\"></mspace>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">g</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">g</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}\\qquad E_{\\rm {aug}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {aug}}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1430812cba33ba3fd6eddfe8604808ccf4c92713\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:38.613ex; height:6.009ex;\" alt=\"E_{{{\\rm {cut}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {cut}}}}^{2}\\qquad E_{{{\\rm {aug}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {aug}}}}^{2}\"></span></dd></dl>\n<p>with E<sub>cut</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> and E<sub>aug</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>.\n</p><p>Alternatively, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGZF\">NGZF</a> may be set to a specific value in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENAUG\" title=\"ENAUG\" class=\"tag-link\">ENAUG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NGZF%22_incategory:%22Examples%22\" title='Special:Search/\"NGZF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:48:47Z"}, "PRECFOCK": {"datatype": "string", "default": [["Fast", "for RPAR calculations"], ["Single", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PREC\">PREC</a>=<span><span class=\"tag-value\">Single</span> or SingleN </span>"], ["Normal", "else"]], "options": {"Normal": null, "Accurate": null, "Fast": null, "Medium": null, "Single": null, "Low": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a> controls the FFT grids used in the exact exchange routines (Hartree-Fock and hybrid functionals).</span>", "id": 104, "info": "<div><p>The FFT grid used for the exact exchange contributions can be chose to be different from the one used for the Hartree and DFT potentials. Information on the  FFT grid that is used in the exact Fock exchange routines is written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file after the lines\n</p>\n<pre>FFT grid for exact exchange (Hartree Fock)\n</pre>\n<p>We recommend to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Normal</span> for routine calculations.\nIf speed is an issue, you can also use </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Fast</span> (e.g. use this to pre-converge the orbitals). For very high precision, in particular for phonon calculations, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Accurate</span> is recommended.\nThe two setting, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Medium</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Low</span> are not recommended, but have been kept to maintain compatibility with older VASP versions.\n</span></p><p>Generally, as opposed to gradient corrected density functionals, the exact exchange energy is rather insensitive to the FFT grids, and in many cases a rather coarse grid can be used to calculate the overlap densities and the exact exchange (Fock) potential. <a href=\"https://www.vasp.at/wiki/index.php/Hybrid_functionals\" class=\"mw-redirect\" title=\"Hybrid functionals\">Exact exchange</a> requires one to evaluation the overlap density\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\psi _{\\mathbf {k} n}^{*}(\\mathbf {r} )\\psi _{\\mathbf {q} m}(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n            <mi>n</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n            <mi>m</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\psi _{\\mathbf {k} n}^{*}(\\mathbf {r} )\\psi _{\\mathbf {q} m}(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b521e088dded3e138a91d361948eb7048660c96a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:13.741ex; height:3.009ex;\" alt=\"\\psi _{{{\\mathbf  {k}}n}}^{{*}}({\\mathbf  {r}})\\psi _{{{\\mathbf  {q}}m}}({\\mathbf  {r}})\"></span></dd></dl></dd></dl>\n<p>between two orbitals. Strictly speaking, errors in the convolution (aliasing errors) are only avoided, if the FFT grid contains all Fourier components up to twice the plane wave with the largest wave vector, 2|G<sub>cut</sub>|. As usual, |G<sub>cut</sub>| is determined by the plane wave cutoff (<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>). \nA grid avoiding aliasing errors is chosen by setting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Accurate</span>. In this case, the FFT grid for the exact exchange is identical to the FFT grid used for the orbitals for </span><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Accurate</span> in the DFT part. </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Accurate</span> is the recommended setting for very accurate calculations.\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Low</span> and Fast, the smallest possible FFT grid that just encloses the cutoff sphere (G</span><sub>cut</sub>|) is used. This accelerates the calculations by roughly a factor two to three, but causes slight errors in the total energies and some noise in the calculated forces. To reduce the noise, the augmentation charges\nare made very soft for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Fast</span> (whereas </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Low</span> uses the standard augmentation charges also used for DFT).\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Normal</span>, the FFT grid for the exact exchange is identical to the FFT grid used for the orbitals for </span><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Normal</span> in the DFT part. In this case, the grid density is between the ones for\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Accurate</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Fast</span>. This is often a very reasonable comprise and hence recommended for most routine calculations.\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Fast</span>, Normal and Accurate, the augmentation charges (required to restore the norm and dipoles of the overlap density on the plane wave grid) are softened, such that an accurate presentation on the plane wave grid is possible even for relatively coarse FFT grids. The sphere size is printed out after\n</span></p>\n<pre>Radii for the augmentation spheres in the nonlocal exchange\n</pre>\n<p>Since VASP always uses one-center terms to correct for the difference between all-electron and pseudo orbitals, the precise shape of the augmentation charges matters little for exchange \nenergies. Still it is recommended to keep PRECFOCK and PREC the same if relative energies are calculated (for instance adsorption energies, energies differences between different phases, etc.).\n</p><p>The following table summarizes the possible setting:\n</p>\n<dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a></td>\n<td>FFT-grid</td>\n<td>Augmentation charge</td>\n<td>Quality</td>\n<td>Comment\n</td></tr>\n<tr>\n<td>Normal\n</td>\n<td>3/2&#215;G<sub>cut</sub>  identical to std. FFT for PREC=Normal\n</td>\n<td>soft augmentation charge<sup>a</sup>\n</td>\n<td>accurate forces and energy\n</td>\n<td>good compromise\n</td></tr>\n<tr>\n<td>Accurate\n</td>\n<td>2&#215;G<sub>cut</sub> identical to std. FFT for PREC=Accurate\n</td>\n<td>soft augmentation charge<sup>a</sup>\n</td>\n<td>very accurate forces and energy\n</td>\n<td>for phonons\n</td></tr>\n<tr>\n<td>Fast</td>\n<td>G<sub>cut</sub> d</td>\n<td>very soft augmentation charge<sup>b</sup></td>\n<td>some noise in forces/good energy</td>\n<td>need for speed\n</td></tr>\n<tr>\n<td>Medium</td>\n<td>strictly identical to std. FFT</td>\n<td>identical to standard DFT</td>\n<td>identical to standard DFT</td>\n<td>outdated\n</td></tr>\n<tr>\n<td>Single<sup>c</sup>\n</td>\n<td>strictly identical to std. FFT\n</td>\n<td>identical to standard DFT\n</td>\n<td>identical to standard DFT\n</td>\n<td>if compatibility between Hartree and exchange is desired\n</td></tr>\n<tr>\n<td>Low</td>\n<td>G<sub>cut</sub></td>\n<td>identical to standard DFT</td>\n<td>large noise in forces/energy errors</td>\n<td>outdated\n</td></tr>\n<tr>\n<td colspan=\"5\"><sup>a</sup> radius for augmentation sphere is increased by factor 1.25 compared to default.\n<p><sup>b</sup> radius is increased by factor 1.35 compared to default except for <i>s</i> -like charge; for the <i>s</i> -channel the radius of the augmentation sphere is increased by a factor 1.25.\n</p><p><sup>c</sup> available in development version only, if user selects <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Single</span> or </span><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">SingleN</span>, the default for PRECFOCK also becomes Single.\n</span></p>\n</td></tr></tbody></table></dd></dl>\n<p>Medium and Single are synonyms. They are useful the select the same treatment for the Hartree  and exchange term. This can be advantageously for correlated wave function calculations to obtain a numerically exact balance and compensation between Hartree and exchange (for instance for the upcoming auxiliary field Monte-Carlo module in VASP). For conventional Hartree-Fock or hybrid functional calculations, Normal or Accurate should be used. \n</p><p>In this table, G<sub>cut</sub> is determined by the relation \n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {cut}}={\\frac {\\hbar ^{2}}{2m_{e}}}G_{\\rm {cut}}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e7af282a869c529782190658829951d032ccfe96\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:16.71ex; height:6.009ex;\" alt=\"E_{{{\\rm {cut}}}}={\\frac  {\\hbar ^{2}}{2m_{e}}}G_{{{\\rm {cut}}}}^{2}\"></span></dd></dl>\n<p>with E<sub>cut</sub>=<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>. \n</p><p>Even <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">Fast</span> yields fairly low noise in the forces and virtually no egg-box effects (aliasing errors). In the forces, the noise is usually below 0.01 eV/&#197;. For </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">N</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a>=<span><span class=\"tag-value\">A</span>, noise is usually not an issue, and the accuracy is sufficient even for phonon calculations in large supercells.\n</span></p><p>Any combination of <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\">PRECFOCK</a> is allowed by the code. Useful settings of increasing precision are however:\n</p>\n<pre>PREC = Normal&#160;; PRECFOCK = Fast       ! if your are in need for speed\nPREC = Normal&#160;; PRECFOCK = Normal     ! the default\nPREC = Accurate&#160;; PRECFOCK = Normal   ! increase the precision for DFT part; since exchange dominates the compute time, only slightly slower\nPREC = Accurate&#160;; PRECFOCK = Accurate&#160;! highest accuracy, suggested for phonons\n</pre>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">settings for specific hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PRECFOCK%22_incategory:%22Examples%22\" title='Special:Search/\"PRECFOCK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-06-14T12:31:27Z"}, "LTHOMAS": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTHOMAS\">LTHOMAS</a> selects a decomposition of the exchange functional based on Thomas-Fermi screening.</span>", "id": 105, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTHOMAS\">LTHOMAS</a>=<span><span class=\"tag-value\">.TRUE.</span> the decomposition of the exchange operator (in a range separated hybrid functional) into a short range and a long range part will be based on Thomas-Fermi screening.\nThe Thomas-Fermi screening length </span><i>k</i><sub>TF</sub> is specified by means of the <a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a> tag.\n</p><p>For typical semiconductors, a Thomas-Fermi screening length of about 1.8 &#197;<sup>-1</sup> yields reasonable band gaps. In principle, however, the Thomas-Fermi screening length depends on the valence electron density; VASP determines this parameter from the number of valence electrons (read from the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file) and the volume and writes the corresponding value to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file:\n</p>\n<pre> Thomas-Fermi vector in A             =   2.00000\n</pre>\n<p>Since, VASP counts the semi-core states and <i>d</i>-states as valence electrons, although these states do not contribute to the screening, the values reported by VASP are often incorrect.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Hybrid_functionals:_formalism#Thomas_Fermi\" title=\"Hybrid functionals: formalism\">Thomas-Fermi screening</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LTHOMAS%22_incategory:%22Examples%22\" title='Special:Search/\"LTHOMAS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-10T11:33:29Z"}, "LNONCOLLINEAR": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\">LNONCOLLINEAR</a> specifies whether fully non-collinear magnetic calculations are performed.</span>", "id": 106, "info": "<div><p>Supported as of VASP.4.5.\n</p><p>Setting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\">LNONCOLLINEAR</a>=<span><span class=\"tag-value\">.TRUE.</span> in the </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file allows to perform fully non-collinear magnetic structure calculations. VASP is capable of reading <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> files from previous non-magnetic or collinear calculations, it is however not possible to rotate the magnetic field locally on selected atoms.\n</p><p>Hence, in practice, we recommend to perform non-collinear calculations in two steps:\n</p>\n<ul><li>First, calculate the non magnetic groundstate and generate a <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file.</li>\n<li>Second, read the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file, and supply initial magnetic moments by means of the <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> tag (compare <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>).</li></ul>\n<p>For a non-collinear setup, three values must be supplied for each ion in the <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> line. The three entries correspond to the initial local magnetic moment for each ion in x, y and z direction respectively. The line\n</p>\n<pre>   MAGMOM = 1 0 0   0 1 0\n</pre>\n<p>initialises the magnetic moment on the first atom in the x-direction, and on the second atom in the y direction. Mind, that the <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> line supplies initial magnetic moments only if <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">2</span>, or if the </span><a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file contains only charge but no magnetisation density.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LNONCOLLINEAR%22_incategory:%22Examples%22\" title='Special:Search/\"LNONCOLLINEAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:37:01Z"}, "NKRED": {"datatype": "integer", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKRED\">NKRED</a> specifies an uniform reduction factor for the <b>q</b>-point grid representation of the exact exchange potential and the correlation part in GW calculations.</span>", "id": 107, "info": "<div><p>One may restrict the sum over <b>q</b> in the <a href=\"https://www.vasp.at/wiki/index.php/Hybrid_functionals:_formalism\" title=\"Hybrid functionals: formalism\">Fock exchange potential</a> (or one of its short range counterparts) to a subset, {<b>q</b><sub><b>k</b></sub>}, of the full (<i>N</i><sub>1</sub>&#215;<i>N</i><sub>2</sub>&#215;<i>N</i><sub>3</sub>)  <b>k</b>-point set, {<b>k</b>}, for which the following holds\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msub>\n            <mi mathvariant=\"bold\">q</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </msub>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>1</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mo>.</mo>\n        <mo>.</mo>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e3169cc26dda3d3567b25377b0fdbfc1f335f175\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:59.468ex; height:5.843ex;\" alt=\"{\\mathbf  {q_{k}}}={\\mathbf  {b}}_{1}{\\frac  {n_{1}C_{1}}{N_{1}}}+{\\mathbf  {b}}_{2}{\\frac  {n_{2}C_{2}}{N_{2}}}+{\\mathbf  {b}}_{3}{\\frac  {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)\"></span></dd></dl>\n<p>where <b>b</b><sub>1,2,3</sub> are the reciprocal lattice vectors of the primitive cell,\nand <i>C</i><sub>i</sub> is the integer grid reduction factor along reciprocal lattice direction\n<b>b</b><sub>i</sub>. This leads to a reduction in the computational workload by a factor:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\frac {1}{C_{1}C_{2}C_{3}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\frac {1}{C_{1}C_{2}C_{3}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e2d0bdca185cc233edb9ef9c30792346cc501aa7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:8.984ex; height:5.676ex;\" alt=\"{\\frac  {1}{C_{1}C_{2}C_{3}}}\"></span></dd></dl>\n<p>In case one sets <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKRED\">NKRED</a>, the grid reduction factors will be uniformly set to <i>C</i><sub>1</sub>=<i>C</i><sub>2</sub>=<i>C</i><sub>3</sub>=<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKRED\">NKRED</a>. If one wants to specify separate grid reduction factors for <i>C</i><sub>1</sub>, <i>C</i><sub>2</sub>, and <i>C</i><sub>3</sub> one should use <i>C</i><sub>1</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDX\" title=\"NKREDX\" class=\"tag-link\">NKREDX</a>, <i>C</i><sub>2</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDY\" title=\"NKREDY\" class=\"tag-link\">NKREDY</a>, and <i>C</i><sub>3</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDZ\" title=\"NKREDZ\" class=\"tag-link\">NKREDZ</a>, respectively.\n</p><p>This flag also applies to GW and RPA calculations with a similar speedup. In GW and RPA type calculations,\nanalogously to hybrid functional calculations the outermost loop over the momentum transfer <b>q</b> \nis reduced to a subgrid specified by the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKRED\">NKRED</a> parameters.\n</p><p><b>Mind</b>: <a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator#Caveat:_when_one_should_not_use_downsampling\" title=\"Downsampling of the Hartree-Fock operator\">there are circumstances under which <b>NKRED</b> and <b>NKREDX</b>,<b>Y</b>,<b>Z</b> should not be used!</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NKREDX\" title=\"NKREDX\" class=\"tag-link\">NKREDX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDY\" title=\"NKREDY\" class=\"tag-link\">NKREDY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDZ\" title=\"NKREDZ\" class=\"tag-link\">NKREDZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EVENONLY\" title=\"EVENONLY\" class=\"tag-link\">EVENONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ODDONLY\" title=\"ODDONLY\" class=\"tag-link\">ODDONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator\" title=\"Downsampling of the Hartree-Fock operator\">downsampling</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NKRED%22_incategory:%22Examples%22\" title='Special:Search/\"NKRED\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:21:49Z"}, "NKREDX": {"datatype": "integer", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKREDX\">NKREDX</a> specifies a reduction factor for the <b>q</b>-point grid representation of the exact exchange potential along reciprocal space direction <b>b</b><sub>1</sub>.</span>", "id": 108, "info": "<div><p>One may restrict the sum over <b>q</b> in the <a href=\"https://www.vasp.at/wiki/index.php/Hybrid_functionals:_formalism\" title=\"Hybrid functionals: formalism\">Fock exchange potential</a> (or one of its short range counterparts) to a subset, {<b>q</b><sub><b>k</b></sub>}, of the full (<i>N</i><sub>1</sub>&#215;<i>N</i><sub>2</sub>&#215;<i>N</i><sub>3</sub>)  <b>k</b>-point set, {<b>k</b>}, for which the following holds\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msub>\n            <mi mathvariant=\"bold\">q</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </msub>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>1</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mo>.</mo>\n        <mo>.</mo>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e3169cc26dda3d3567b25377b0fdbfc1f335f175\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:59.468ex; height:5.843ex;\" alt=\"{\\mathbf  {q_{k}}}={\\mathbf  {b}}_{1}{\\frac  {n_{1}C_{1}}{N_{1}}}+{\\mathbf  {b}}_{2}{\\frac  {n_{2}C_{2}}{N_{2}}}+{\\mathbf  {b}}_{3}{\\frac  {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)\"></span></dd></dl>\n<p>where <b>b</b><sub>1,2,3</sub> are the reciprocal lattice vectors of the primitive cell,\nand <i>C</i><sub>i</sub> is the integer grid reduction factor along reciprocal lattice direction\n<b>b</b><sub>i</sub>. This leads to a reduction in the computational workload by a factor:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\frac {1}{C_{1}C_{2}C_{3}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\frac {1}{C_{1}C_{2}C_{3}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e2d0bdca185cc233edb9ef9c30792346cc501aa7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:8.984ex; height:5.676ex;\" alt=\"{\\frac  {1}{C_{1}C_{2}C_{3}}}\"></span></dd></dl>\n<p>In case one sets <a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>, the grid reduction factors will be uniformly set to <i>C</i><sub>1</sub>=<i>C</i><sub>2</sub>=<i>C</i><sub>3</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>. If one wants to specify separate grid reduction factors for <i>C</i><sub>1</sub>, <i>C</i><sub>2</sub>, and <i>C</i><sub>3</sub> one should use <i>C</i><sub>1</sub>=<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKREDX\">NKREDX</a>, <i>C</i><sub>2</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDY\" title=\"NKREDY\" class=\"tag-link\">NKREDY</a>, and <i>C</i><sub>3</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDZ\" title=\"NKREDZ\" class=\"tag-link\">NKREDZ</a>, respectively.\n</p><p><b>Mind</b>: <a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator#Caveat:_when_one_should_not_use_downsampling\" title=\"Downsampling of the Hartree-Fock operator\">there are circumstances under which <b>NKRED</b> and <b>NKREDX</b>,<b>Y</b>,<b>Z</b> should not be used!</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDY\" title=\"NKREDY\" class=\"tag-link\">NKREDY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDZ\" title=\"NKREDZ\" class=\"tag-link\">NKREDZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EVENONLY\" title=\"EVENONLY\" class=\"tag-link\">EVENONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ODDONLY\" title=\"ODDONLY\" class=\"tag-link\">ODDONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator\" title=\"Downsampling of the Hartree-Fock operator\">downsampling</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NKREDX%22_incategory:%22Examples%22\" title='Special:Search/\"NKREDX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-29T19:47:50Z"}, "NKREDY": {"datatype": "integer", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKREDY\">NKREDY</a> specifies a reduction factor for the <b>q</b>-point grid representation of the exact exchange potential along reciprocal space direction <b>b</b><sub>2</sub>.</span>", "id": 109, "info": "<div><p>One may restrict the sum over <b>q</b> in the <a href=\"https://www.vasp.at/wiki/index.php/Hybrid_functionals:_formalism\" title=\"Hybrid functionals: formalism\">Fock exchange potential</a> (or one of its short range counterparts) to a subset, {<b>q</b><sub><b>k</b></sub>}, of the full (<i>N</i><sub>1</sub>&#215;<i>N</i><sub>2</sub>&#215;<i>N</i><sub>3</sub>)  <b>k</b>-point set, {<b>k</b>}, for which the following holds\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msub>\n            <mi mathvariant=\"bold\">q</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </msub>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>1</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mo>.</mo>\n        <mo>.</mo>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e3169cc26dda3d3567b25377b0fdbfc1f335f175\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:59.468ex; height:5.843ex;\" alt=\"{\\mathbf  {q_{k}}}={\\mathbf  {b}}_{1}{\\frac  {n_{1}C_{1}}{N_{1}}}+{\\mathbf  {b}}_{2}{\\frac  {n_{2}C_{2}}{N_{2}}}+{\\mathbf  {b}}_{3}{\\frac  {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)\"></span></dd></dl>\n<p>where <b>b</b><sub>1,2,3</sub> are the reciprocal lattice vectors of the primitive cell,\nand <i>C</i><sub>i</sub> is the integer grid reduction factor along reciprocal lattice direction\n<b>b</b><sub>i</sub>. This leads to a reduction in the computational workload by a factor:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\frac {1}{C_{1}C_{2}C_{3}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\frac {1}{C_{1}C_{2}C_{3}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e2d0bdca185cc233edb9ef9c30792346cc501aa7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:8.984ex; height:5.676ex;\" alt=\"{\\frac  {1}{C_{1}C_{2}C_{3}}}\"></span></dd></dl>\n<p>In case one sets <a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>, the grid reduction factors will be uniformly set to <i>C</i><sub>1</sub>=<i>C</i><sub>2</sub>=<i>C</i><sub>3</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>. If one wants to specify separate grid reduction factors for <i>C</i><sub>1</sub>, <i>C</i><sub>2</sub>, and <i>C</i><sub>3</sub> one should use <i>C</i><sub>1</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDX\" title=\"NKREDX\" class=\"tag-link\">NKREDX</a>, <i>C</i><sub>2</sub>=<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKREDY\">NKREDY</a>, and <i>C</i><sub>3</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDZ\" title=\"NKREDZ\" class=\"tag-link\">NKREDZ</a>, respectively.\n</p><p><b>Mind</b>: <a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator#Caveat:_when_one_should_not_use_downsampling\" title=\"Downsampling of the Hartree-Fock operator\">there are circumstances under which <b>NKRED</b> and <b>NKREDX</b>,<b>Y</b>,<b>Z</b> should not be used!</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDX\" title=\"NKREDX\" class=\"tag-link\">NKREDX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDZ\" title=\"NKREDZ\" class=\"tag-link\">NKREDZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EVENONLY\" title=\"EVENONLY\" class=\"tag-link\">EVENONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ODDONLY\" title=\"ODDONLY\" class=\"tag-link\">ODDONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator\" title=\"Downsampling of the Hartree-Fock operator\">downsampling</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NKREDY%22_incategory:%22Examples%22\" title='Special:Search/\"NKREDY\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-29T19:48:21Z"}, "NKREDZ": {"datatype": "integer", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKREDZ\">NKREDZ</a> specifies a reduction factor for the <b>q</b>-point grid representation of the exact exchange potential along reciprocal space direction <b>b</b><sub>3</sub>.</span>", "id": 110, "info": "<div><p>One may restrict the sum over <b>q</b> in the <a href=\"https://www.vasp.at/wiki/index.php/Hybrid_functionals:_formalism\" title=\"Hybrid functionals: formalism\">Fock exchange potential</a> (or one of its short range counterparts) to a subset, {<b>q</b><sub><b>k</b></sub>}, of the full (<i>N</i><sub>1</sub>&#215;<i>N</i><sub>2</sub>&#215;<i>N</i><sub>3</sub>)  <b>k</b>-point set, {<b>k</b>}, for which the following holds\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msub>\n            <mi mathvariant=\"bold\">q</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </msub>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>1</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mo>.</mo>\n        <mo>.</mo>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e3169cc26dda3d3567b25377b0fdbfc1f335f175\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:59.468ex; height:5.843ex;\" alt=\"{\\mathbf  {q_{k}}}={\\mathbf  {b}}_{1}{\\frac  {n_{1}C_{1}}{N_{1}}}+{\\mathbf  {b}}_{2}{\\frac  {n_{2}C_{2}}{N_{2}}}+{\\mathbf  {b}}_{3}{\\frac  {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)\"></span></dd></dl>\n<p>where <b>b</b><sub>1,2,3</sub> are the reciprocal lattice vectors of the primitive cell,\nand <i>C</i><sub>i</sub> is the integer grid reduction factor along reciprocal lattice direction\n<b>b</b><sub>i</sub>. This leads to a reduction in the computational workload by a factor:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\frac {1}{C_{1}C_{2}C_{3}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\frac {1}{C_{1}C_{2}C_{3}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e2d0bdca185cc233edb9ef9c30792346cc501aa7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:8.984ex; height:5.676ex;\" alt=\"{\\frac  {1}{C_{1}C_{2}C_{3}}}\"></span></dd></dl>\n<p>In case one sets <a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>, the grid reduction factors will be uniformly set to <i>C</i><sub>1</sub>=<i>C</i><sub>2</sub>=<i>C</i><sub>3</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>. If one wants to specify separate grid reduction factors for <i>C</i><sub>1</sub>, <i>C</i><sub>2</sub>, and <i>C</i><sub>3</sub> one should use <i>C</i><sub>1</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDX\" title=\"NKREDX\" class=\"tag-link\">NKREDX</a>, <i>C</i><sub>2</sub>=<a href=\"https://www.vasp.at/wiki/index.php/NKREDY\" title=\"NKREDY\" class=\"tag-link\">NKREDY</a>, and <i>C</i><sub>3</sub>=<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NKREDZ\">NKREDZ</a>, respectively.\n</p><p><b>Mind</b>: <a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator#Caveat:_when_one_should_not_use_downsampling\" title=\"Downsampling of the Hartree-Fock operator\">there are circumstances under which <b>NKRED</b> and <b>NKREDX</b>,<b>Y</b>,<b>Z</b> should not be used!</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDX\" title=\"NKREDX\" class=\"tag-link\">NKREDX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDY\" title=\"NKREDY\" class=\"tag-link\">NKREDY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EVENONLY\" title=\"EVENONLY\" class=\"tag-link\">EVENONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ODDONLY\" title=\"ODDONLY\" class=\"tag-link\">ODDONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator\" title=\"Downsampling of the Hartree-Fock operator\">downsampling</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NKREDZ%22_incategory:%22Examples%22\" title='Special:Search/\"NKREDZ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-29T19:48:04Z"}, "LSORBIT": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSORBIT\">LSORBIT</a> specifies whether spin-orbit coupling is taken into account.</span>", "id": 111, "info": "<div><p>Supported as of VASP.4.5.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSORBIT\">LSORBIT</a>=<span><span class=\"tag-value\">.TRUE.</span> switches on spin-orbit coupling (automatically sets </span><a href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\" title=\"LNONCOLLINEAR\" class=\"tag-link\">LNONCOLLINEAR</a>=<span><span class=\"tag-value\">.TRUE.</span>).</span><sup id=\"cite_ref-Steiner:2016_1-0\" class=\"reference\"><a href=\"#cite_note-Steiner:2016-1\">[1]</a></sup> This option works only for PAW potentials and is not supported by ultrasoft pseudopotentials. If spin-orbit coupling is not included, the energy does not depend on the direction of the magnetic moment, i.e. rotating all magnetic moments by the same angle results in principle exactly in the same energy. Hence there is no need to define the spin quantization axis, as long as spin-orbit coupling is not included. Spin-orbit coupling however couples the spin to the crystal structure. Spin-orbit coupling is switched on by selecting\n</p>\n<pre> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSORBIT\">LSORBIT</a>=<span class=\"tag-value\">.TRUE.</span>\n</pre>\n<p>The spin quantization axis may be specified by means of the <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>-tag,\n</p>\n<pre> <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>=<span class=\"tag-value\">s</span><sub>x</sub> s<sub>y</sub> s<sub>z</sub>    ! global spin quantisation axis\n</pre>\n<p>where the default for <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>=<span><span class=\"tag-value\">(0+</span>,0,1) (the notation 0+ implies an infinitesimal small positive number in </span><i>x</i>-direction). All magnetic moments are now given with respect to the axis \n(s<sub>x</sub>,s<sub>y</sub>,s<sub>z</sub>), where we have adopted the convention <b>that all magnetic moments and spinor-like quantities written or read by VASP are given with respect to this axis</b>. This includes the <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> line in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, the total and local magnetizations in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a> file, the spinor-like orbitals in the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file, and the magnetization density in the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file. With respect to the Cartesian lattice vectors the components of the magnetization are (internally) given by\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}^{\\rm {axis}}-\\sin(\\alpha )m_{y}^{\\rm {axis}}+\\sin(\\beta )\\cos(\\alpha )m_{z}^{\\rm {axis}}\\\\m_{y}&amp;=&amp;\\cos(\\beta )\\sin(\\alpha )m_{x}^{\\rm {axis}}+\\cos(\\alpha )m_{y}^{\\rm {axis}}+\\sin(\\beta )\\sin(\\alpha )m_{z}^{\\rm {axis}}\\\\m_{z}&amp;=&amp;-\\sin(\\beta )m_{x}^{\\rm {axis}}+\\cos(\\beta )m_{z}^{\\rm {axis}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>+</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>+</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}^{\\rm {axis}}-\\sin(\\alpha )m_{y}^{\\rm {axis}}+\\sin(\\beta )\\cos(\\alpha )m_{z}^{\\rm {axis}}\\\\m_{y}&amp;=&amp;\\cos(\\beta )\\sin(\\alpha )m_{x}^{\\rm {axis}}+\\cos(\\alpha )m_{y}^{\\rm {axis}}+\\sin(\\beta )\\sin(\\alpha )m_{z}^{\\rm {axis}}\\\\m_{z}&amp;=&amp;-\\sin(\\beta )m_{x}^{\\rm {axis}}+\\cos(\\beta )m_{z}^{\\rm {axis}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/edf141e29106026ec08481913d876755851abae1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.171ex; width:63.939ex; height:9.509ex;\" alt=\"{\\begin{aligned}m_{x}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}^{{{\\rm {axis}}}}-\\sin(\\alpha )m_{y}^{{{\\rm {axis}}}}+\\sin(\\beta )\\cos(\\alpha )m_{z}^{{{\\rm {axis}}}}\\\\m_{y}&amp;=&amp;\\cos(\\beta )\\sin(\\alpha )m_{x}^{{{\\rm {axis}}}}+\\cos(\\alpha )m_{y}^{{{\\rm {axis}}}}+\\sin(\\beta )\\sin(\\alpha )m_{z}^{{{\\rm {axis}}}}\\\\m_{z}&amp;=&amp;-\\sin(\\beta )m_{x}^{{{\\rm {axis}}}}+\\cos(\\beta )m_{z}^{{{\\rm {axis}}}}\\end{aligned}}\"></span></dd></dl>\n<p><br>\nWhere <i>m</i><sup>axis</sup> is the externally visible magnetic moment. Here, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b79333175c8b3f0840bfb4ec41b8072c83ea88d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.488ex; height:1.676ex;\" alt=\"\\alpha \"></span> is the angle between the <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a> vector (s<sub>x</sub>,s<sub>y</sub>,s<sub>z</sub>) and the Cartesian vector <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {x}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>x</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {x}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/18d95a7845e4e16ffb7e18ab37a208d0ab18e0e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:2.176ex;\" alt=\"{\\hat  x}\"></span>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ed48a5e36207156fb792fa79d29925d2f7901e8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.332ex; height:2.509ex;\" alt=\"\\beta \"></span> is the angle between the vector <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a> and the Cartesian vector <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {z}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>z</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {z}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/722665b45e05afe79f4395a3de0237d8ce856273\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.296ex; height:2.176ex;\" alt=\"{\\hat  z}\"></span>:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}\\alpha &amp;=&{\\rm {atan}}{\\frac {s_{y}}{s_{x}}}\\\\\\beta &amp;=&{\\rm {atan}}{\\frac {\\vert s_{x}^{2}+s_{y}^{2}\\vert }{s_{z}}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <mi>&#945;<!-- &#945; --></mi>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mfrac>\n                    <msub>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>y</mi>\n                      </mrow>\n                    </msub>\n                    <msub>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>x</mi>\n                      </mrow>\n                    </msub>\n                  </mfrac>\n                </mrow>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <mi>&#946;<!-- &#946; --></mi>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mfrac>\n                    <mrow>\n                      <mo fence=\"false\" stretchy=\"false\">|</mo>\n                      <msubsup>\n                        <mi>s</mi>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi>x</mi>\n                        </mrow>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mn>2</mn>\n                        </mrow>\n                      </msubsup>\n                      <mo>+</mo>\n                      <msubsup>\n                        <mi>s</mi>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi>y</mi>\n                        </mrow>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mn>2</mn>\n                        </mrow>\n                      </msubsup>\n                      <mo fence=\"false\" stretchy=\"false\">|</mo>\n                    </mrow>\n                    <msub>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>z</mi>\n                      </mrow>\n                    </msub>\n                  </mfrac>\n                </mrow>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}\\alpha &amp;=&amp;{\\rm {atan}}{\\frac {s_{y}}{s_{x}}}\\\\\\beta &amp;=&amp;{\\rm {atan}}{\\frac {\\vert s_{x}^{2}+s_{y}^{2}\\vert }{s_{z}}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f69d6beb3c91e2a2b5dfe92bf438f92ebb93a031\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -5.338ex; width:23.237ex; height:11.843ex;\" alt=\"{\\begin{aligned}\\alpha &amp;=&{{\\rm {atan}}}{\\frac  {s_{y}}{s_{x}}}\\\\\\beta &amp;=&{{\\rm {atan}}}{\\frac  {\\vert s_{x}^{2}+s_{y}^{2}\\vert }{s_{z}}}\\end{aligned}}\"></span></dd></dl>\n<p>The inverse transformation is given by\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}m_{x}^{\\rm {axis}}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}+\\cos(\\beta )\\sin(\\alpha )m_{y}+\\sin(\\beta )m_{z}\\\\m_{y}^{\\rm {axis}}&amp;=&amp;-\\sin(\\alpha )m_{z}+\\cos(\\alpha )m_{y}\\\\m_{z}^{\\rm {axis}}&amp;=&amp;\\sin(\\beta )\\cos(\\alpha )m_{x}+\\sin(\\beta )\\sin(\\alpha )m_{y}+\\cos(\\beta )m_{z}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}m_{x}^{\\rm {axis}}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}+\\cos(\\beta )\\sin(\\alpha )m_{y}+\\sin(\\beta )m_{z}\\\\m_{y}^{\\rm {axis}}&amp;=&amp;-\\sin(\\alpha )m_{z}+\\cos(\\alpha )m_{y}\\\\m_{z}^{\\rm {axis}}&amp;=&amp;\\sin(\\beta )\\cos(\\alpha )m_{x}+\\sin(\\beta )\\sin(\\alpha )m_{y}+\\cos(\\beta )m_{z}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c80cdd5300c54caf5b1c46de82f01054ed573a1e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.026ex; margin-bottom: -0.312ex; width:59.78ex; height:9.843ex;\" alt=\"{\\begin{aligned}m_{x}^{{{\\rm {axis}}}}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}+\\cos(\\beta )\\sin(\\alpha )m_{y}+\\sin(\\beta )m_{z}\\\\m_{y}^{{{\\rm {axis}}}}&amp;=&amp;-\\sin(\\alpha )m_{z}+\\cos(\\alpha )m_{y}\\\\m_{z}^{{{\\rm {axis}}}}&amp;=&amp;\\sin(\\beta )\\cos(\\alpha )m_{x}+\\sin(\\beta )\\sin(\\alpha )m_{y}+\\cos(\\beta )m_{z}\\end{aligned}}\"></span></dd></dl>\n<p>It is easy to see that for the default (s<sub>x</sub>,s<sub>y</sub>,s<sub>z</sub>)=(0+,0,1), both angles are zero, i.e. <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta =0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta =0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/60b5e78663eba7ba08e0dd4915251e6261f4f35c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:5.593ex; height:2.509ex;\" alt=\"\\beta =0\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha =0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha =0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/30cc00f65bbc630448311dd2dc82e7ce5e90985a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.749ex; height:2.176ex;\" alt=\"\\alpha =0\"></span>. In this case, the internal representation is simply equivalent to the external representation:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;m_{x}^{\\rm {axis}}\\\\m_{y}&amp;=&amp;m_{y}^{\\rm {axis}}\\\\m_{z}&amp;=&amp;m_{z}^{\\rm {axis}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;m_{x}^{\\rm {axis}}\\\\m_{y}&amp;=&amp;m_{y}^{\\rm {axis}}\\\\m_{z}&amp;=&amp;m_{z}^{\\rm {axis}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/200596c4bf2f393e4e6290d4240396e8f68b828e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.005ex; width:16.131ex; height:9.176ex;\" alt=\"{\\begin{aligned}m_{x}&amp;=&amp;m_{x}^{{{\\rm {axis}}}}\\\\m_{y}&amp;=&amp;m_{y}^{{{\\rm {axis}}}}\\\\m_{z}&amp;=&amp;m_{z}^{{{\\rm {axis}}}}\\end{aligned}}\"></span></dd></dl>\n<p>The second important case, is <i>m</i><sup>axis</sup>=(0,0,<i>m</i>). In this case\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;\\sin(\\beta )*\\cos(\\alpha )m=ms_{x}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{y}&amp;=&amp;\\sin(\\beta )*\\sin(\\alpha )m=ms_{y}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{z}&amp;=&amp;\\cos(\\beta )m=ms_{z}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mo>&#8727;<!-- &#8727; --></mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>m</mi>\n                <mo>=</mo>\n                <mi>m</mi>\n                <msub>\n                  <mi>s</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msqrt>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>x</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>y</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>z</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                  </msqrt>\n                </mrow>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mo>&#8727;<!-- &#8727; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>m</mi>\n                <mo>=</mo>\n                <mi>m</mi>\n                <msub>\n                  <mi>s</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msqrt>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>x</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>y</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>z</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                  </msqrt>\n                </mrow>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>m</mi>\n                <mo>=</mo>\n                <mi>m</mi>\n                <msub>\n                  <mi>s</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msqrt>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>x</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>y</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>z</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                  </msqrt>\n                </mrow>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;\\sin(\\beta )*\\cos(\\alpha )m=ms_{x}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{y}&amp;=&amp;\\sin(\\beta )*\\sin(\\alpha )m=ms_{y}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{z}&amp;=&amp;\\cos(\\beta )m=ms_{z}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cda4d8d4073bb36681ad115dec47b8cac56d9466\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -6.838ex; width:50.824ex; height:14.843ex;\" alt=\"{\\begin{aligned}m_{x}&amp;=&amp;\\sin(\\beta )*\\cos(\\alpha )m=ms_{x}/{\\sqrt  {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{y}&amp;=&amp;\\sin(\\beta )*\\sin(\\alpha )m=ms_{y}/{\\sqrt  {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{z}&amp;=&amp;\\cos(\\beta )m=ms_{z}/{\\sqrt  {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\end{aligned}}\"></span></dd></dl>\n<p><br>\nHence now the magnetic moment is parallel to the vector <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>. Thus there are two ways to rotate the spins in an arbitrary direction, either by changing the initial magnetic moments <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> or by changing <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>.\n</p><p>To initialize calculations with the magnetic moment parallel to a chosen vector (<i>x</i>,<i>y</i>,<i>z</i>), it is therefore possible to either specify (assuming a single atom in the cell)\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>=<span><span class=\"tag-value\">x</span> y z   ! local magnetic moment in x,y,z\n</span><a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>=<span><span class=\"tag-value\">0</span> 0 1   ! quantisation axis parallel to z\n</span></pre>\n<p>or\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>=<span><span class=\"tag-value\">0</span> 0 total_magnetic_moment   ! local magnetic moment parallel to </span><a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>\n<a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>=<span><span class=\"tag-value\">x</span> y z   ! quantization axis parallel to vector (</span><i>x</i>,<i>y</i>,<i>z</i>)\n</pre>\n<p>Both setups should in principle yield exactly the same energy, but for implementation reasons the second method is usually more precise. The second method also allows to read a preexisting <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file (from a collinear or non collinear run), and to continue the calculation with a different spin orientation. When a non collinear <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file is read, the spin is assumed to be parallel to <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a> (hence VASP will initially report a magnetic moment in the <i>z</i>-direction only).\n</p><p>The recommended procedure for the calculation of magnetic anisotropies is therefore (please check the section on <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>):\n</p>\n<ul><li>Start with a collinear calculation and calculate a <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file.</li>\n<li>Add the tags</li></ul>\n<pre>  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSORBIT\">LSORBIT</a>=<span class=\"tag-value\">.TRUE.</span>\n  <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">11</span>      ! non selfconsistent run, read </span><a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a>\n  <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>=<span><span class=\"tag-value\">4</span>      ! for d-elements increase </span><a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> to 4, f-elements: <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>=<span><span class=\"tag-value\">6</span>\n                           ! you need to set </span><a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> already in the collinear calculation\n  <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>=<span><span class=\"tag-value\">x</span> y z   ! direction of the magnetic field\n  </span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>=<span><span class=\"tag-value\">2</span> * number of bands of collinear run\n</span></pre>\n<p>VASP reads in the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> files, aligns the spin quantization axis parallel to <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>, which implies that the magnetic field is now parallel to <a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>, and performs a non selfconsistent calculation. By comparing the energies for different orientations the magnetic anisotropy can be determined. Please mind, that a completely selfconsistent calculation (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">1)</span> is in principle also possible with VASP, but this would allow the spinor wavefunctions to rotate from their initial orientation parallel to </span><a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a> until the correct groundstate is obtained, i.e. until the magnetic moment is parallel to the easy axis. In practice this rotation will be slow, however, since reorientation of the spin gains little energy. Therefore if the convergence criterion is not too tight, sensible results might be obtained even for fully selfconsistent calculations (in the few cases we have tried this worked beautifully).\n</p>\n<ul><li>Be very careful with symmetry. We recommend to switch off symmetry altogether (<a href=\"https://www.vasp.at/wiki/index.php/ISYM\" title=\"ISYM\" class=\"tag-link\">ISYM</a>=<span><span class=\"tag-value\">-1)</span>, when spin-orbit coupling is selected. Often the k-point set changes from one to the other spin orientation, worsening the transferability of the results (also the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file can not be reread properly if the number of k-points changes). Additionally VASP.4.6 (and all older versions) had a bug in the symmetrization of magnetic fields (fixed only VASP.4.6.23).</li></ul>\n<ul><li>Generally be extremely careful, when using spin-orbit coupling: energy differences are tiny, k-point convergence is tedious and slow, and the computer time you require might be infinite.</li></ul>\n<ul><li>It is recommended to set <a href=\"https://www.vasp.at/wiki/index.php/GGA_COMPAT\" title=\"GGA COMPAT\" class=\"tag-link\">GGA_COMPAT</a>=<span><span class=\"tag-value\">.FALSE.</span> for non collinear calculations in VASP.4.6, since this improves the numerical precision of GGA calculations.</span></li></ul>\n<h2><span class=\"mw-headline\" id=\"Assumptions_and_output\">Assumptions and output</span></h2>\n<p>Switching on spin-orbit coupling (SOC) in a conventional DFT calculation adds an additional term <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle H_{soc}^{\\alpha \\beta }\\propto {\\vec {\\sigma }}\\cdot {\\vec {L}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>H</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n            <mi>o</mi>\n            <mi>c</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msubsup>\n        <mo>&#8733;<!-- &#8733; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>&#963;<!-- &#963; --></mi>\n              <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>&#8901;<!-- &#8901; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>L</mi>\n              <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle H_{soc}^{\\alpha \\beta }\\propto {\\vec {\\sigma }}\\cdot {\\vec {L}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9ae60554770355b7dd9c1ac9ea6fce86dde27bf8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:12.134ex; height:3.176ex;\" alt=\"H_{{soc}}^{{\\alpha \\beta }}\\propto {\\vec  {\\sigma }}\\cdot {\\vec  {L}}\"></span> to the Hamiltonian that couples the Pauli-spin operator <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\vec {\\sigma }}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>&#963;<!-- &#963; --></mi>\n              <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\vec {\\sigma }}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e2fc4b8da9e315ad0648308ed315c4087ec679c2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:2.343ex;\" alt=\"{\\vec  {\\sigma }}\"></span> with the angular momentum operator <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\vec {L}}={\\vec {r}}\\times {\\vec {p}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>L</mi>\n              <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>r</mi>\n              <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>p</mi>\n              <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\vec {L}}={\\vec {r}}\\times {\\vec {p}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/97ae948b32e589080343d7f094e6d564945f7207\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:10.07ex; height:3.176ex;\" alt=\"{\\vec  {L}}={\\vec  {r}}\\times {\\vec  {p}}\"></span>.<sup id=\"cite_ref-Steiner:2016_1-1\" class=\"reference\"><a href=\"#cite_note-Steiner:2016-1\">[1]</a></sup>\nAs an relativistic correction SOC acts predominantly in the immediate vicinity of the nuclei, such that it is assumed that contributions of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle H_{soc}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>H</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n            <mi>o</mi>\n            <mi>c</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle H_{soc}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4a24aa0377cc4c5ae507d3448a4c36cf3f09376f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.444ex; height:2.509ex;\" alt=\"H_{{soc}}\"></span> outside the PAW spheres are negligible. VASP, therefore, calculates the matrix elements of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle H_{soc}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>H</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n            <mi>o</mi>\n            <mi>c</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle H_{soc}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4a24aa0377cc4c5ae507d3448a4c36cf3f09376f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.444ex; height:2.509ex;\" alt=\"H_{{soc}}\"></span> only for the all-electron one-center contributions\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{soc}^{ij}=\\delta _{{\\bf {R}}_{i}{\\bf {R}}_{j}}\\delta _{l_{i}l_{j}}\\sum _{n{\\bf {k}}}w_{\\bf {k}}f_{n{\\bf {k}}}\\sum _{\\alpha \\beta }\\langle {\\tilde {\\psi }}_{n{\\bf {k}}}^{\\alpha }|{\\tilde {p}}_{i}\\rangle \\langle \\phi _{i}|H_{soc}^{\\alpha \\beta }|\\phi _{j}\\rangle \\langle {\\tilde {p}}_{j}|{\\tilde {\\psi }}_{n{\\bf {k}}}^{\\beta }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n            <mi>o</mi>\n            <mi>c</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">R</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">R</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>l</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>l</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </msub>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>w</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </munder>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>p</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mi>H</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n            <mi>o</mi>\n            <mi>c</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>p</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{soc}^{ij}=\\delta _{{\\bf {R}}_{i}{\\bf {R}}_{j}}\\delta _{l_{i}l_{j}}\\sum _{n{\\bf {k}}}w_{\\bf {k}}f_{n{\\bf {k}}}\\sum _{\\alpha \\beta }\\langle {\\tilde {\\psi }}_{n{\\bf {k}}}^{\\alpha }|{\\tilde {p}}_{i}\\rangle \\langle \\phi _{i}|H_{soc}^{\\alpha \\beta }|\\phi _{j}\\rangle \\langle {\\tilde {p}}_{j}|{\\tilde {\\psi }}_{n{\\bf {k}}}^{\\beta }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/202bd6bd4464c8e4cfc2bf894442f042c2d0fddf\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:59.459ex; height:6.176ex;\" alt=\"{\\displaystyle E_{soc}^{ij}=\\delta _{{\\bf {R}}_{i}{\\bf {R}}_{j}}\\delta _{l_{i}l_{j}}\\sum _{n{\\bf {k}}}w_{\\bf {k}}f_{n{\\bf {k}}}\\sum _{\\alpha \\beta }\\langle {\\tilde {\\psi }}_{n{\\bf {k}}}^{\\alpha }|{\\tilde {p}}_{i}\\rangle \\langle \\phi _{i}|H_{soc}^{\\alpha \\beta }|\\phi _{j}\\rangle \\langle {\\tilde {p}}_{j}|{\\tilde {\\psi }}_{n{\\bf {k}}}^{\\beta }\\rangle }\"></span>\n</p><p>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\phi _{i}({\\bf {r}})=R_{i}(|{\\bf {r}}-{\\bf {R}}_{i}|)Y_{l_{i}m_{i}}({\\hat {\\bf {r-{\\bf {R}}}}}_{i})}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msub>\n          <mi>R</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">R</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>Y</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>l</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>m</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                  <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">R</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n                <mo stretchy=\"false\">^<!-- ^ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\phi _{i}({\\bf {r}})=R_{i}(|{\\bf {r}}-{\\bf {R}}_{i}|)Y_{l_{i}m_{i}}({\\hat {\\bf {r-{\\bf {R}}}}}_{i})}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2d7a8758bdc1668d2c7d6634352d176b73c095c0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:34.197ex; height:3.509ex;\" alt=\"\\phi _{i}({{\\bf {r}}})=R_{i}(|{{\\bf {r}}}-{{\\bf {R}}}_{i}|)Y_{{l_{i}m_{i}}}({\\hat  {{\\bf {r-{\\bf {R}}}}}}_{i})\"></span> are the partial waves of an atom centered at <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\bf {R}}_{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">R</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\bf {R}}_{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/41ac2ebb3b247aeb67bca1fb6ad6999ac943e5bc\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.803ex; height:2.509ex;\" alt=\"{{\\bf {R}}}_{i}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {\\psi }}_{n{\\bf {k}}}^{\\alpha }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {\\psi }}_{n{\\bf {k}}}^{\\alpha }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0561e36ec892d9b1133b3ebb3cdcebfa9a4424db\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:3.812ex; height:3.343ex;\" alt=\"{\\displaystyle {\\tilde {\\psi }}_{n{\\bf {k}}}^{\\alpha }}\"></span> is the spinor-component &#945; of the pseudo-orbital with band-index <i>n</i> and Bloch-vector <b>k</b>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle f_{n{\\bf {k}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle f_{n{\\bf {k}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2e6fa1b71f72fcb3d3bb7065fb47f705e304fb00\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.355ex; height:2.509ex;\" alt=\"{\\displaystyle f_{n{\\bf {k}}}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle w_{\\bf {k}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>w</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle w_{\\bf {k}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e043642ab7e93be1dbee67f9174d1dcd2f1fe869\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.894ex; height:2.009ex;\" alt=\"{\\displaystyle w_{\\bf {k}}}\"></span> are the Fermi- and <b>k</b>-point weights, respectively.<sup id=\"cite_ref-Steiner:2016_1-2\" class=\"reference\"><a href=\"#cite_note-Steiner:2016-1\">[1]</a></sup>\nAfter a successful calculation with inclusion of spin-orbit coupling, VASP writes following results to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>: \n</p>\n<pre>Spin-Orbit-Coupling matrix elements\n\nIon:    1  E_soc:     -0.0984080\nl=   1\n    0.0000000    -0.0134381    -0.0134381\n   -0.0134381     0.0000000    -0.0134381\n   -0.0134381    -0.0134381     0.0000000\nl=   2\n    0.0000000    -0.0005072     0.0000000    -0.0005072    -0.0024560\n   -0.0005072     0.0000000    -0.0018420    -0.0005072    -0.0006140\n    0.0000000    -0.0018420     0.0000000    -0.0018420     0.0000000\n   -0.0005072    -0.0005072    -0.0018420     0.0000000    -0.0006140\n   -0.0024560    -0.0006140     0.0000000    -0.0006140     0.0000000\nl=   3\n    0.0000000    -0.0000000     0.0000000     0.0000000     0.0000000    -0.0000000    -0.0000000\n   -0.0000000     0.0000000    -0.0000000     0.0000000    -0.0000000    -0.0000000    -0.0000000\n    0.0000000    -0.0000000     0.0000000    -0.0000000    -0.0000000    -0.0000000     0.0000000\n    0.0000000     0.0000000    -0.0000000     0.0000000    -0.0000000     0.0000000     0.0000000\n    0.0000000    -0.0000000    -0.0000000    -0.0000000     0.0000000    -0.0000000     0.0000000\n   -0.0000000    -0.0000000    -0.0000000     0.0000000    -0.0000000     0.0000000    -0.0000000\n   -0.0000000    -0.0000000     0.0000000     0.0000000     0.0000000    -0.0000000     0.0000000\n</pre>\n<p>Here \"E_soc\" represents the accumulated energy <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{soc}=\\sum _{ij}E_{soc}^{ij}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n            <mi>o</mi>\n            <mi>c</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </munder>\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n            <mi>o</mi>\n            <mi>c</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{soc}=\\sum _{ij}E_{soc}^{ij}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1931434a218cc2ba26acaf67e2e3cb4b41ea7e90\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:15.296ex; height:5.843ex;\" alt=\"E_{{soc}}=\\sum _{{ij}}E_{{soc}}^{{ij}}\"></span> contribution inside the augmentation sphere that is centered at <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\bf {R}}_{1}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">R</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\bf {R}}_{1}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ce450f2d452b68b172bcf262e998a2e82bb917ed\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.057ex; height:2.509ex;\" alt=\"{{\\bf {R}}}_{1}\"></span> (position of ion 1), while the following entries correspond to the matrix elements \n<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{soc}^{ij}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n            <mi>o</mi>\n            <mi>c</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{soc}^{ij}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d9034a1eb6fef6b10359aa44a96099d6f57ae60f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.228ex; height:3.176ex;\" alt=\"E_{{soc}}^{{ij}}\"></span>\nfor the angular momentum <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle l}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>l</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle l}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/829091f745070b9eb97a80244129025440a1cfac\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.693ex; height:2.176ex;\" alt=\"l\"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SAXIS\" title=\"SAXIS\" class=\"tag-link\">SAXIS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\" title=\"LNONCOLLINEAR\" class=\"tag-link\">LNONCOLLINEAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSORBIT%22_incategory:%22Examples%22\" title='Special:Search/\"LSORBIT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Steiner:2016-1\">&#8593; <sup><a href=\"#cite_ref-Steiner:2016_1-0\">a</a></sup> <sup><a href=\"#cite_ref-Steiner:2016_1-1\">b</a></sup> <sup><a href=\"#cite_ref-Steiner:2016_1-2\">c</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.93.224425\">S. Steiner, S. Khmelevskyi, M. Marsman, and G. Kresse, Phys. Rev. B <b>93</b>, 224425 (2016).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:42:21Z"}, "EVENONLY": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EVENONLY\">EVENONLY</a>=<span><span class=\"tag-value\">.TRUE.</span> selects a subset of </span><b>k</b>-points for the representation of the Fock exchange potential, with <i>C</i><sub>1</sub>=<i>C</i><sub>2</sub>=<i>C</i><sub>3</sub>=1, and <i>n</i><sub>1</sub>+<i>n</i><sub>2</sub>+<i>n</i><sub>3</sub> even.</span>", "id": 113, "info": "<div><p>One may restrict the sum over <b>q</b> in the <a href=\"https://www.vasp.at/wiki/index.php/Hybrid_functionals:_formalism\" title=\"Hybrid functionals: formalism\">Fock exchange potential</a> (or one of its short range counterparts) to a subset, {<b>q</b><sub><b>k</b></sub>}, of the full (<i>N</i><sub>1</sub>&#215;<i>N</i><sub>2</sub>&#215;<i>N</i><sub>3</sub>)  <b>k</b>-point set, {<b>k</b>}, for which the following holds\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msub>\n            <mi mathvariant=\"bold\">q</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </msub>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>1</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mo>.</mo>\n        <mo>.</mo>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e3169cc26dda3d3567b25377b0fdbfc1f335f175\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:59.468ex; height:5.843ex;\" alt=\"{\\mathbf  {q_{k}}}={\\mathbf  {b}}_{1}{\\frac  {n_{1}C_{1}}{N_{1}}}+{\\mathbf  {b}}_{2}{\\frac  {n_{2}C_{2}}{N_{2}}}+{\\mathbf  {b}}_{3}{\\frac  {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)\"></span></dd></dl>\n<p>where <b>b</b><sub>1,2,3</sub> are the reciprocal lattice vectors of the primitive cell,\nand <i>C</i><sub>i</sub> is the integer grid reduction factor along reciprocal lattice direction\n<b>b</b><sub>i</sub>.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EVENONLY\">EVENONLY</a>=<span><span class=\"tag-value\">.TRUE.</span> selects a subset of </span><b>k</b>-points with <i>C</i><sub>1</sub>=<i>C</i><sub>2</sub>=<i>C</i><sub>3</sub>=1, and <i>n</i><sub>1</sub>+<i>n</i><sub>2</sub>+<i>n</i><sub>3</sub> even. It reduces the computational work load for HF type calculations by a factor two, but is only sensible for high symmetry cases (such as sc, fcc or bcc cells).\n</p><p><b>Mind</b>: <a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator#Caveat:_when_one_should_not_use_downsampling\" title=\"Downsampling of the Hartree-Fock operator\">there are circumstances under which <b>NKRED</b> and <b>NKREDX</b>,<b>Y</b>,<b>Z</b> should not be used!</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDX\" title=\"NKREDX\" class=\"tag-link\">NKREDX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDY\" title=\"NKREDY\" class=\"tag-link\">NKREDY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDZ\" title=\"NKREDZ\" class=\"tag-link\">NKREDZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ODDONLY\" title=\"ODDONLY\" class=\"tag-link\">ODDONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator\" title=\"Downsampling of the Hartree-Fock operator\">downsampling</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EVENONLY%22_incategory:%22Examples%22\" title='Special:Search/\"EVENONLY\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-11-11T14:29:34Z"}, "ODDONLY": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ODDONLY\">ODDONLY</a>=<span><span class=\"tag-value\">.TRUE.</span> selects a subset of </span><b>k</b>-points for the representation of the Fock exchange potential, with <i>C</i><sub>1</sub>=<i>C</i><sub>2</sub>=<i>C</i><sub>3</sub>=1, and <i>n</i><sub>1</sub>+<i>n</i><sub>2</sub>+<i>n</i><sub>3</sub> odd.</span>", "id": 114, "info": "<div><p>One may restrict the sum over <b>q</b> in the <a href=\"https://www.vasp.at/wiki/index.php/Hybrid_functionals:_formalism\" title=\"Hybrid functionals: formalism\">Fock exchange potential</a> (or one of its short range counterparts) to a subset, {<b>q</b><sub><b>k</b></sub>}, of the full (<i>N</i><sub>1</sub>&#215;<i>N</i><sub>2</sub>&#215;<i>N</i><sub>3</sub>)  <b>k</b>-point set, {<b>k</b>}, for which the following holds\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msub>\n            <mi mathvariant=\"bold\">q</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </msub>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>1</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>C</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msub>\n            </mrow>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mo>.</mo>\n        <mo>.</mo>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q_{k}} =\\mathbf {b} _{1}{\\frac {n_{1}C_{1}}{N_{1}}}+\\mathbf {b} _{2}{\\frac {n_{2}C_{2}}{N_{2}}}+\\mathbf {b} _{3}{\\frac {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e3169cc26dda3d3567b25377b0fdbfc1f335f175\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:59.468ex; height:5.843ex;\" alt=\"{\\mathbf  {q_{k}}}={\\mathbf  {b}}_{1}{\\frac  {n_{1}C_{1}}{N_{1}}}+{\\mathbf  {b}}_{2}{\\frac  {n_{2}C_{2}}{N_{2}}}+{\\mathbf  {b}}_{3}{\\frac  {n_{3}C_{3}}{N_{3}}},\\quad (n_{i}=0,..,N_{i}-1)\"></span></dd></dl>\n<p>where <b>b</b><sub>1,2,3</sub> are the reciprocal lattice vectors of the primitive cell,\nand <i>C</i><sub>i</sub> is the integer grid reduction factor along reciprocal lattice direction\n<b>b</b><sub>i</sub>.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ODDONLY\">ODDONLY</a>=<span><span class=\"tag-value\">.TRUE.</span> selects a subset of </span><b>k</b>-points with <i>C</i><sub>1</sub>=<i>C</i><sub>2</sub>=<i>C</i><sub>3</sub>=1, and <i>n</i><sub>1</sub>+<i>n</i><sub>2</sub>+<i>n</i><sub>3</sub> odd. It reduces the computational work load for HF type calculations by a factor two, but is only sensible for high symmetry cases (such as sc, fcc or bcc cells).\n</p><p><b>Mind</b>: <a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator#Caveat:_when_one_should_not_use_downsampling\" title=\"Downsampling of the Hartree-Fock operator\">there are circumstances under which <b>NKRED</b> and <b>NKREDX</b>,<b>Y</b>,<b>Z</b> should not be used!</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NKRED\" title=\"NKRED\" class=\"tag-link\">NKRED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDX\" title=\"NKREDX\" class=\"tag-link\">NKREDX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDY\" title=\"NKREDY\" class=\"tag-link\">NKREDY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NKREDZ\" title=\"NKREDZ\" class=\"tag-link\">NKREDZ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EVENONLY\" title=\"EVENONLY\" class=\"tag-link\">EVENONLY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Downsampling_of_the_Hartree-Fock_operator\" title=\"Downsampling of the Hartree-Fock operator\">downsampling</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ODDONLY%22_incategory:%22Examples%22\" title='Special:Search/\"ODDONLY\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-11-11T14:30:08Z"}, "I_CONSTRAINED_M": {"datatype": "integer", "default": "none", "options": {"2": null, "1": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\">I_CONSTRAINED_M</a> switches on the constrained local moments approach.</span>", "id": 116, "info": "<div><p>When one uses the constrained moment approach, additional information pertaining to the effect of the constraints is written into the <a href=\"https://www.vasp.at/wiki/index.php/OSZICAR\" title=\"OSZICAR\" class=\"tag-link\">OSZICAR</a> file:\n</p>\n<pre> E_p =  0.36856E-07  lambda =  0.500E+02\n&lt;lVp&gt;=  0.30680E-02\n DBL = -0.30680E-02\n ion        MW_int                 M_int\n  1 -0.565  0.000  0.000   -0.770  0.000  0.000\n  2  0.565  0.000  0.000    0.770  0.000  0.000\n  3 -0.565  0.000  0.000   -0.770  0.000  0.000\n  4  0.565  0.000  0.000    0.770  0.000  0.000\nDAV:   8    -0.133293620177E+03    0.15284E-05   -0.29410E-08  4188   0.144E-03    0.119E-04\n</pre>\n<p><tt>E_p</tt> is the contribution to the total energy arising from the penalty functional. Under <tt>M_int</tt> VASP lists the integrated magnetic moment at each atomic site. The column labeled <tt>MW_int</tt> shows the result of the integration of magnetization density which has been smoothed towards the boundary of the sphere. It is actually the <a href=\"#MWint\">smoothed integrated moment</a> which enters in the penalty terms (the smoothing ensures that the total local potential remains continuous at the sphere boundary). One should look at the latter numbers to check whether enough of the magnetization density around each atomic site is contained within the integration sphere and increase <a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a> accordingly. What exactly constitutes \"enough\" in this context is hard to say. It is best to set <a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a> in such a manner that the integration spheres do not overlap and are otherwise as large as possible.\n</p>\n<pre>DAV:   9    -0.133293621087E+03   -0.91037E-06   -0.18419E-08  4188   0.104E-03\n   1 F= -.13329362E+03 E0= -.13329362E+03  d E =0.000000E+00  mag=     0.0000     0.0000     0.0000\n\n E_p =  0.36600E-07  lambda =  0.500E+02\n ion             lambda*MW_perp\n  1  -0.67580E-03  -0.12424E-22  -0.88276E-23\n  2   0.67580E-03   0.14700E-22  -0.24744E-22\n  3  -0.67790E-03  -0.82481E-23  -0.19834E-22\n  4   0.67790E-03   0.15710E-23   0.34505E-22\n</pre>\n<p>Under <tt>lambda*MW_perp</tt> the constraining \"magnetic field\" at each atomic site is listed. It shows which magnetic field is added to the DFT Hamiltonian to stabilize the magnetic configuration.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/M_CONSTR\" title=\"M CONSTR\" class=\"tag-link\">M_CONSTR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LAMBDA\" title=\"LAMBDA\" class=\"tag-link\">LAMBDA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\" title=\"LNONCOLLINEAR\" class=\"tag-link\">LNONCOLLINEAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22I_CONSTRAINED_M%22_incategory:%22Examples%22\" title='Special:Search/\"I CONSTRAINED M\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T15:55:26Z"}, "M_CONSTR": {"datatype": "real array", "default": "3*NIONS*0.0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/M_CONSTR\">M_CONSTR</a> specifies the desired local magnetic moment (size and/or direction) for the constrained local moments approach. </span>", "id": 117, "info": "<div><p>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/M_CONSTR\">M_CONSTR</a> tag sets the desired size and/or direction of the integrated local magnetic moments in cartesian coordinates.\n</p><p>For each ion 3 coordinates must be specified, i.e., for a system of <i>N</i> ions\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/M_CONSTR\">M_CONSTR</a>=<span><span class=\"tag-value\">M_1x</span> M_1y M_1z  M_2x M_2y M_2z  ....  M_Nx M_Ny M_Nz\n</span></pre>\n<p>For <a href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\" title=\"I CONSTRAINED M\" class=\"tag-link\">I_CONSTRAINED_M</a>=<span><span class=\"tag-value\">1</span> the norm of this vector is meaningless since only the direction will be constrained. For </span><a href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\" title=\"I CONSTRAINED M\" class=\"tag-link\">I_CONSTRAINED_M</a>=<span><span class=\"tag-value\">2</span> both the norm as well as the direction of the moments specified by means of </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/M_CONSTR\">M_CONSTR</a> are subject to constraints.\n</p><p>Setting\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/M_CONSTR\">M_CONSTR</a>=  ... 0 0 0 ... \n</pre>\n<p>for a certain ion is equivalent to imposing no constraints on the integrated local magnetic moment at this ionic site.\n</p><p>For an explanation of the constrained local moments approach see the description of the <a href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\" title=\"I CONSTRAINED M\" class=\"tag-link\">I_CONSTRAINED_M</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\" title=\"I CONSTRAINED M\" class=\"tag-link\">I_CONSTRAINED_M</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LAMBDA\" title=\"LAMBDA\" class=\"tag-link\">LAMBDA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\" title=\"LNONCOLLINEAR\" class=\"tag-link\">LNONCOLLINEAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22M_CONSTR%22_incategory:%22Examples%22\" title='Special:Search/\"M CONSTR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:45:11Z"}, "LAMBDA": {"datatype": "real", "default": "0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LAMBDA\">LAMBDA</a> sets the weight with which the penalty terms of the constrained local moment approach enter into the total energy expression and the Hamiltonian.</span>", "id": 118, "info": "<div><p>See the explanation given in the description of the <a href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\" title=\"I CONSTRAINED M\" class=\"tag-link\">I_CONSTRAINED_M</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/I_CONSTRAINED_M\" title=\"I CONSTRAINED M\" class=\"tag-link\">I_CONSTRAINED_M</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/M_CONSTR\" title=\"M CONSTR\" class=\"tag-link\">M_CONSTR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\" title=\"LNONCOLLINEAR\" class=\"tag-link\">LNONCOLLINEAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LAMBDA%22_incategory:%22Examples%22\" title='Special:Search/\"LAMBDA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:26:14Z"}, "LEPSILON": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LEPSILON\">LEPSILON</a>=<span><span class=\"tag-value\">.TRUE.</span> determines the static dielectric matrix, ion-clamped piezoelectric tensor and the Born effective charges using density functional perturbation theory.</span></span>", "id": 119, "info": "<div><p>Determines the static ion-clamped dielectric matrix using density functional perturbation\ntheory. The dielectric matrix is calculated with and without local field effects. Usually local field effects are determined on the Hartree level, i.e. including changes of the Hartree potential.\nTo include microscopic changes of the exchange correlation potential \nthe tag <a href=\"https://www.vasp.at/wiki/index.php/LRPA\" title=\"LRPA\" class=\"tag-link\">LRPA</a>=<span><span class=\"tag-value\">.FALSE.</span> must be set. The method is explained in detail in paper by Gajdo&#353; </span><i>et al.</i>,<sup id=\"cite_ref-gajdos:prb:06_1-0\" class=\"reference\"><a href=\"#cite_note-gajdos:prb:06-1\">[1]</a></sup> and closely follows the original work of Baroni and Resta.<sup id=\"cite_ref-baroni:prb:86_2-0\" class=\"reference\"><a href=\"#cite_note-baroni:prb:86-2\">[2]</a></sup>\nA summation over empty conduction band states is not required, instead the usual expressions in perturbation theory (<a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span>),\n</span></p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\nabla _{\\mathbf {k} }|{\\tilde {u}}_{n\\mathbf {k} }\\rangle =\\sum _{n'\\neq n}{\\frac {|{\\tilde {u}}_{n'\\mathbf {k} }\\rangle \\langle {\\tilde {u}}_{n'\\mathbf {k} }|{\\frac {\\partial \\,(\\mathbf {H} (\\mathbf {k} )-\\epsilon _{n\\mathbf {k} }\\mathbf {S} (\\mathbf {k} ))}{\\partial {\\mathbf {k} }}}|{\\tilde {u}}_{n\\mathbf {k} }\\rangle }{\\epsilon _{n\\mathbf {k} }-\\epsilon _{n'\\mathbf {k} }}},}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>u</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>=</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mo>&#8800;<!-- &#8800; --></mo>\n            <mi>n</mi>\n          </mrow>\n        </munder>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mover>\n                      <mi>u</mi>\n                      <mo stretchy=\"false\">~<!-- ~ --></mo>\n                    </mover>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">k</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n              <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mover>\n                      <mi>u</mi>\n                      <mo stretchy=\"false\">~<!-- ~ --></mo>\n                    </mover>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">k</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mfrac>\n                  <mrow>\n                    <mi mathvariant=\"normal\">&#8706;<!-- &#8706; --></mi>\n                    <mspace width=\"thinmathspace\"></mspace>\n                    <mo stretchy=\"false\">(</mo>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">H</mi>\n                    </mrow>\n                    <mo stretchy=\"false\">(</mo>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                    <mo stretchy=\"false\">)</mo>\n                    <mo>&#8722;<!-- &#8722; --></mo>\n                    <msub>\n                      <mi>&#1013;<!-- &#1013; --></mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>n</mi>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi mathvariant=\"bold\">k</mi>\n                        </mrow>\n                      </mrow>\n                    </msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">S</mi>\n                    </mrow>\n                    <mo stretchy=\"false\">(</mo>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                    <mo stretchy=\"false\">)</mo>\n                    <mo stretchy=\"false\">)</mo>\n                  </mrow>\n                  <mrow>\n                    <mi mathvariant=\"normal\">&#8706;<!-- &#8706; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"bold\">k</mi>\n                      </mrow>\n                    </mrow>\n                  </mrow>\n                </mfrac>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mover>\n                      <mi>u</mi>\n                      <mo stretchy=\"false\">~<!-- ~ --></mo>\n                    </mover>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">k</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n            </mrow>\n            <mrow>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">k</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">k</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\nabla _{\\mathbf {k} }|{\\tilde {u}}_{n\\mathbf {k} }\\rangle =\\sum _{n'\\neq n}{\\frac {|{\\tilde {u}}_{n'\\mathbf {k} }\\rangle \\langle {\\tilde {u}}_{n'\\mathbf {k} }|{\\frac {\\partial \\,(\\mathbf {H} (\\mathbf {k} )-\\epsilon _{n\\mathbf {k} }\\mathbf {S} (\\mathbf {k} ))}{\\partial {\\mathbf {k} }}}|{\\tilde {u}}_{n\\mathbf {k} }\\rangle }{\\epsilon _{n\\mathbf {k} }-\\epsilon _{n'\\mathbf {k} }}},}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3a24d9e10ae1e2723e0717f05c41b29776cf9d7e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.671ex; width:48.255ex; height:8.843ex;\" alt=\"|\\nabla _{{{\\mathbf  {k}}}}|{\\tilde  {u}}_{{n{\\mathbf  {k}}}}\\rangle =\\sum _{{n'\\neq n}}{\\frac  {|{\\tilde  {u}}_{{n'{\\mathbf  {k}}}}\\rangle \\langle {\\tilde  {u}}_{{n'{\\mathbf  {k}}}}|{\\frac  {\\partial \\,({\\mathbf  {H}}({\\mathbf  k})-\\epsilon _{{n{\\mathbf  {k}}}}{\\mathbf  {S}}({\\mathbf  k}))}{\\partial {{\\mathbf  {k}}}}}|{\\tilde  {u}}_{{n{\\mathbf  {k}}}}\\rangle }{\\epsilon _{{n{\\mathbf  {k}}}}-\\epsilon _{{n'{\\mathbf  {k}}}}}},\"></span></dd></dl>\n<p>are rewritten as linear Sternheimer equations:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\left(\\mathbf {H} (\\mathbf {k} )-\\epsilon _{n\\mathbf {k} }\\mathbf {S} (\\mathbf {k} )\\right)|\\nabla _{\\mathbf {k} }{\\tilde {u}}_{n\\mathbf {k} }\\rangle =-{\\frac {\\partial \\,(\\mathbf {H} (\\mathbf {k} )-\\epsilon _{n\\mathbf {k} }\\mathbf {S} (\\mathbf {k} ))}{\\partial {\\mathbf {k} }}}|{\\tilde {u}}_{n\\mathbf {k} }\\rangle .}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">H</mi>\n            </mrow>\n            <mo stretchy=\"false\">(</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n            <mo stretchy=\"false\">)</mo>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mi>&#1013;<!-- &#1013; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n              </mrow>\n            </msub>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">S</mi>\n            </mrow>\n            <mo stretchy=\"false\">(</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>u</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mi mathvariant=\"normal\">&#8706;<!-- &#8706; --></mi>\n              <mspace width=\"thinmathspace\"></mspace>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">H</mi>\n              </mrow>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">k</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">S</mi>\n              </mrow>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <mrow>\n              <mi mathvariant=\"normal\">&#8706;<!-- &#8706; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n              </mrow>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>u</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\left(\\mathbf {H} (\\mathbf {k} )-\\epsilon _{n\\mathbf {k} }\\mathbf {S} (\\mathbf {k} )\\right)|\\nabla _{\\mathbf {k} }{\\tilde {u}}_{n\\mathbf {k} }\\rangle =-{\\frac {\\partial \\,(\\mathbf {H} (\\mathbf {k} )-\\epsilon _{n\\mathbf {k} }\\mathbf {S} (\\mathbf {k} ))}{\\partial {\\mathbf {k} }}}|{\\tilde {u}}_{n\\mathbf {k} }\\rangle .}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1e8c399c988152c645ddd048e74d01e86a0dc87a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.005ex; width:57.497ex; height:5.843ex;\" alt=\"\\left({\\mathbf  {H}}({\\mathbf  k})-\\epsilon _{{n{\\mathbf  k}}}{\\mathbf  {S}}({\\mathbf  k})\\right)|\\nabla _{{{\\mathbf  {k}}}}{\\tilde  {u}}_{{n{\\mathbf  {k}}}}\\rangle =-{\\frac  {\\partial \\,({\\mathbf  {H}}({\\mathbf  k})-\\epsilon _{{n{\\mathbf  {k}}}}{\\mathbf  {S}}({\\mathbf  k}))}{\\partial {{\\mathbf  {k}}}}}|{\\tilde  {u}}_{{n{\\mathbf  {k}}}}\\rangle .\"></span></dd></dl>\n<p>The solution of this equation involves similar iterative techniques as the conventional selfconsistency cycles. Hence, for each element of the dielectric matrix several lines will be written to the <tt>stdout</tt> and <a href=\"https://www.vasp.at/wiki/index.php/OSZICAR\" title=\"OSZICAR\" class=\"tag-link\">OSZICAR</a>. These possess a similar structure as for conventional selfconsistent or non-selfconsistent calculations (a residual minimization scheme is used to solve the linear equation, other schemes such as Davidson do not apply to a linear equation):\n</p>\n<pre>       N       E              dE             d eps       ncg     rms          rms(c)\nRMM:   1    -0.14800E+01   -0.85101E-01   -0.72835E+00   220   0.907E+00    0.146E+00\nRMM:   2    -0.14248E+01    0.55195E-01   -0.27994E-01   221   0.449E+00    0.719E-01\nRMM:   3    -0.13949E+01    0.29864E-01   -0.10673E-01   240   0.322E+00    0.131E-01\nRMM:   4    -0.13949E+01    0.13883E-04   -0.31511E-03   242   0.600E-01    0.336E-02\nRMM:   5    -0.13949E+01    0.28357E-04   -0.25757E-04   228   0.177E-01    0.126E-02\n</pre>\n<p>It is important to note that exact values for the dielectric matrix are obtained even if only valence band states are calculated. Hence this method does not require to increase the <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> parameter. The final values for the static dielectric matrix can be found in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file after the lines\n</p>\n<pre> MICROSCOPIC STATIC DIELECTRIC TENSOR (excluding local field effects)\n</pre>\n<p>and\n</p>\n<pre> MACROSCOPIC STATIC DIELECTRIC TENSOR (including local field effects in DFT)\n</pre>\n<p>The values found after <tt>MACROSCOPIC STATIC DIELECTRIC TENSOR (excluding local field effects)</tt> should match exactly to the zero frequency values &#969;&#8594;0 determined by the method selected using <a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span>.\nThis offers a convenient way to determine how many empty bands are required for\n</span><a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span>. Simply execute VASP using </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LEPSILON\">LEPSILON</a>=<span><span class=\"tag-value\">.TRUE.</span> in order to determine the exact values for the dielectric constants. Next, switch to </span><a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span> and increase the number of conduction bands until the same values are obtained as using density functional perturbation theory.\n</span></p><p>Note that the routine also parses and uses the value supplied in the <a href=\"https://www.vasp.at/wiki/index.php/LNABLA\" title=\"LNABLA\" class=\"tag-link\">LNABLA</a> tag.\nFurthermore, the routine calculates the Born effective charge tensor (dynamical charges) and electronic contribution to the the piezoelectric tensor ,\nand prints them after\n</p>\n<pre> BORN EFFECTIVE CHARGES (in e, cummulative output)\n</pre>\n<p>and\n</p>\n<pre> PIEZOELECTRIC TENSOR  for field in x, y, z        (C/m^2)\n</pre>\n<p>if <a href=\"https://www.vasp.at/wiki/index.php/LRPA\" title=\"LRPA\" class=\"tag-link\">LRPA</a>=<span><span class=\"tag-value\">.FALSE.</span> is set (the calculated tensors are not sensible in the random phase approximation </span><a href=\"https://www.vasp.at/wiki/index.php/LRPA\" title=\"LRPA\" class=\"tag-link\">LRPA</a>=<span><span class=\"tag-value\">.TRUE.</span>).\n</span></p><p><br>\n</p>\n<dl><dt>Pros compared to <a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<span class=\"tag-value\">.TRUE.</span></dt></dl>\n<ul><li>no conduction bands required.</li>\n<li>local field effects included on the RPA and DFT level (see <a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations\" title=\"ACFDT/RPA calculations\">ACFDT/RPA calculations</a>).</li></ul>\n<p><br>\n</p>\n<dl><dt>Cons compared to <a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<span class=\"tag-value\">.TRUE.</span></dt></dl>\n<ul><li>presently only static properties available.</li>\n<li>requires a relatively time consuming iterative process.</li>\n<li>does not support HF or hybrid functionals, whereas <a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span> and the GW routines do.</span></li></ul>\n<p><br>\nWe do not recommend to select <a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LEPSILON\">LEPSILON</a>=<span><span class=\"tag-value\">.TRUE.</span>\nin a single run (although it might work in some versions).\nDensity functional perturbation theory </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LEPSILON\">LEPSILON</a>=<span><span class=\"tag-value\">.TRUE.</span> does not require to increase </span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> and is, in fact, much slower if  <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is increased, whereas the summation over emtpy conduction band states requires a large number of such states.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LRPA\" title=\"LRPA\" class=\"tag-link\">LRPA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LEPSILON%22_incategory:%22Examples%22\" title='Special:Search/\"LEPSILON\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-gajdos:prb:06-1\"><a href=\"#cite_ref-gajdos:prb:06_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.73.045112\">M. Gajdo&#353;, K. Hummer, G. Kresse, J. Furthm&#252;ller, and F. Bechstedt, Phys. Rev. B 73, 045112 (2006).</a></span>\n</li>\n<li id=\"cite_note-baroni:prb:86-2\"><a href=\"#cite_ref-baroni:prb:86_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.33.7017\">S. Baroni and R. Resta, Phys. Rev. B 33, 7017, (1986).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-19T07:46:58Z"}, "LOPTICS": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOPTICS\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span> calculates the frequency dependent dielectric matrix after the electronic ground state has been determined.</span></span>", "id": 120, "info": "<div><p>The imaginary part is determined by a summation over empty states using the equation:\n</p><p><span id=\"epsilon\">\n</span></p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon _{\\alpha \\beta }^{(2)}\\left(\\omega \\right)={\\frac {4\\pi ^{2}e^{2}}{\\Omega }}\\mathrm {lim} _{q\\rightarrow 0}{\\frac {1}{q^{2}}}\\sum _{c,v,\\mathbf {k} }2w_{\\mathbf {k} }\\delta (\\epsilon _{c\\mathbf {k} }-\\epsilon _{v\\mathbf {k} }-\\omega )\\times \\langle u_{c\\mathbf {k} +\\mathbf {e} _{\\alpha }q}|u_{v\\mathbf {k} }\\rangle \\langle u_{v\\mathbf {k} }|u_{c\\mathbf {k} +\\mathbf {e} _{\\beta }q}\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>2</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mi>&#969;<!-- &#969; --></mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mn>4</mn>\n              <msup>\n                <mi>&#960;<!-- &#960; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msup>\n                <mi>e</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n          </mfrac>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">l</mi>\n            <mi mathvariant=\"normal\">i</mi>\n            <mi mathvariant=\"normal\">m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>q</mi>\n            <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msup>\n              <mi>q</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mo>,</mo>\n            <mi>v</mi>\n            <mo>,</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </munder>\n        <mn>2</mn>\n        <msub>\n          <mi>w</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mi>&#948;<!-- &#948; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>v</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n            <mo>+</mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">e</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>&#945;<!-- &#945; --></mi>\n              </mrow>\n            </msub>\n            <mi>q</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>v</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>v</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n            <mo>+</mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">e</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>&#946;<!-- &#946; --></mi>\n              </mrow>\n            </msub>\n            <mi>q</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon _{\\alpha \\beta }^{(2)}\\left(\\omega \\right)={\\frac {4\\pi ^{2}e^{2}}{\\Omega }}\\mathrm {lim} _{q\\rightarrow 0}{\\frac {1}{q^{2}}}\\sum _{c,v,\\mathbf {k} }2w_{\\mathbf {k} }\\delta (\\epsilon _{c\\mathbf {k} }-\\epsilon _{v\\mathbf {k} }-\\omega )\\times \\langle u_{c\\mathbf {k} +\\mathbf {e} _{\\alpha }q}|u_{v\\mathbf {k} }\\rangle \\langle u_{v\\mathbf {k} }|u_{c\\mathbf {k} +\\mathbf {e} _{\\beta }q}\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d7ca3c257df794f554c2a63c22df27fe95da4a5e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:79.05ex; height:7.176ex;\" alt=\"\\epsilon _{{\\alpha \\beta }}^{{(2)}}\\left(\\omega \\right)={\\frac  {4\\pi ^{2}e^{2}}{\\Omega }}{\\mathrm  {lim}}_{{q\\rightarrow 0}}{\\frac  {1}{q^{2}}}\\sum _{{c,v,{\\mathbf  {k}}}}2w_{{\\mathbf  {k}}}\\delta (\\epsilon _{{c{\\mathbf  {k}}}}-\\epsilon _{{v{\\mathbf  {k}}}}-\\omega )\\times \\langle u_{{c{\\mathbf  {k}}+{\\mathbf  {e}}_{\\alpha }q}}|u_{{v{\\mathbf  {k}}}}\\rangle \\langle u_{{v{\\mathbf  {k}}}}|u_{{c{\\mathbf  {k}}+{\\mathbf  {e}}_{\\beta }q}}\\rangle \"></span></dd></dl>\n<p class=\"mw-empty-elt\">\n</p><p>here the indices <i>c</i> and <i>v</i> refer to conduction and valence band states respectively, and <i>u</i><sub><i>c</i><b>k</b></sub> is the cell periodic part of the orbitals at the k-point <b>k</b>. The real part of the dielectric tensor  &#949;<sup>(1)</sup> is obtained by the usual Kramers-Kronig\ntransformation\n</p><p><span id=\"kramerskronig\">\n</span></p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon _{\\alpha \\beta }^{(1)}(\\omega )=1+{\\frac {2}{\\pi }}P\\int _{0}^{\\infty }{\\frac {\\epsilon _{\\alpha \\beta }^{(2)}(\\omega ')\\omega '}{\\omega '^{2}-\\omega ^{2}+i\\eta }}d\\omega '}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>1</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mn>1</mn>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>2</mn>\n            <mi>&#960;<!-- &#960; --></mi>\n          </mfrac>\n        </mrow>\n        <mi>P</mi>\n        <msubsup>\n          <mo>&#8747;<!-- &#8747; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">&#8734;<!-- &#8734; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msubsup>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>&#945;<!-- &#945; --></mi>\n                  <mi>&#946;<!-- &#946; --></mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">(</mo>\n                  <mn>2</mn>\n                  <mo stretchy=\"false\">)</mo>\n                </mrow>\n              </msubsup>\n              <mo stretchy=\"false\">(</mo>\n              <msup>\n                <mi>&#969;<!-- &#969; --></mi>\n                <mo>&#8242;</mo>\n              </msup>\n              <mo stretchy=\"false\">)</mo>\n              <msup>\n                <mi>&#969;<!-- &#969; --></mi>\n                <mo>&#8242;</mo>\n              </msup>\n            </mrow>\n            <mrow>\n              <msup>\n                <mi>&#969;<!-- &#969; --></mi>\n                <mrow>\n                  <mo class=\"MJX-variant\">&#8242;</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mn>2</mn>\n                  </mrow>\n                </mrow>\n              </msup>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msup>\n                <mi>&#969;<!-- &#969; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <mo>+</mo>\n              <mi>i</mi>\n              <mi>&#951;<!-- &#951; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mi>d</mi>\n        <msup>\n          <mi>&#969;<!-- &#969; --></mi>\n          <mo>&#8242;</mo>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon _{\\alpha \\beta }^{(1)}(\\omega )=1+{\\frac {2}{\\pi }}P\\int _{0}^{\\infty }{\\frac {\\epsilon _{\\alpha \\beta }^{(2)}(\\omega ')\\omega '}{\\omega '^{2}-\\omega ^{2}+i\\eta }}d\\omega '}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/09598b11e255d35ad796f7c687244a370466a7c2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.505ex; width:39.949ex; height:7.509ex;\" alt=\"\\epsilon _{{\\alpha \\beta }}^{{(1)}}(\\omega )=1+{\\frac  {2}{\\pi }}P\\int _{0}^{{\\infty }}{\\frac  {\\epsilon _{{\\alpha \\beta }}^{{(2)}}(\\omega ')\\omega '}{\\omega '^{2}-\\omega ^{2}+i\\eta }}d\\omega '\"></span></dd></dl>\n<p class=\"mw-empty-elt\">\n</p><p>where <i>P</i> denotes the principle value. The method is explained in detail in the paper by Gajdo&#353; <i>et al.</i> (see Eqs. 15, 29, and 30).<sup id=\"cite_ref-gajdos:prb:06_1-0\" class=\"reference\"><a href=\"#cite_note-gajdos:prb:06-1\">[1]</a></sup> The complex shift &#951; is determined by the parameter <a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a>.\n</p><p>Note that local field effects, i.e. changes of the cell periodic part of the potential are neglected in this approximation.  These can be evaluated using either the implemented density functional perturbation theory (<a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>=<span><span class=\"tag-value\">.TRUE.</span>), or the GW routines.\n</span></p><p>The method selected using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOPTICS\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span> requires an appreciable number of empty conduction band states. Reasonable results are usually only obtained, if the parameter </span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is roughly doubled or tripled in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file with respect to the VASP default.\nFurthermore it is emphasized that the routine works properly even for <a href=\"https://www.vasp.at/wiki/index.php/Category:Hybrid_functionals\" title=\"Category:Hybrid functionals\">HF and screened exchange type calculations and hybrid functionals</a>. In this case, finite differences are used to determine the derivatives of the Hamiltonian with respect to <b>k</b>.\n</p><p>Note that the number of frequency grid points is determined by the parameter <a href=\"https://www.vasp.at/wiki/index.php/NEDOS\" title=\"NEDOS\" class=\"tag-link\">NEDOS</a>. In many cases it is desirable to increase this parameter significantly from its default value. Values around <a href=\"https://www.vasp.at/wiki/index.php/NEDOS\" title=\"NEDOS\" class=\"tag-link\">NEDOS</a>=<span><span class=\"tag-value\">2000</span> are strongly recommended.\n</span></p><p>VASP posses multiple other routines to calculate the frequency dependent dielectric function.\nSpecifically, one can use <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">TDHF</span> (Casida/</span><a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>), <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">GW</span> (</span><a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>) and <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">TIMEEV</span> (</span><a href=\"https://www.vasp.at/wiki/index.php/Time_Evolution\" title=\"Time Evolution\">Time Evolution</a>: apply a delta kick and follow the induced dipoles).\nCompared to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOPTICS\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span>, all those routines have the advantage to include\neffects beyond the independent particle approximation, however, they are usually\nalso much more expensive than </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOPTICS\">LOPTICS</a>=<span class=\"tag-value\">.TRUE.</span>\n</p><p><br>\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> Note that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOPTICS\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span> with </span><a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>=<span><span class=\"tag-value\">-2</span> is currently not supported.\n</span></div><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> Furthermore the combination of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOPTICS\">LOPTICS</a>=<span><span class=\"tag-value\">.TRUE.</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a> selecting the tetrahedron method is only supported as of VASP 6.3.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNABLA\" title=\"LNABLA\" class=\"tag-link\">LNABLA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>\n</p><p>See also: <a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LOPTICS%22_incategory:%22Examples%22\" title='Special:Search/\"LOPTICS\" incategory:\"Examples\"'>Examples that use this tag</a>, <a href=\"https://www.vasp.at/wiki/index.php/Time_Evolution\" title=\"Time Evolution\">Time Evolution</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-gajdos:prb:06-1\"><a href=\"#cite_ref-gajdos:prb:06_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.73.045112\">M. Gajdo&#353;, K. Hummer, G. Kresse, J. Furthm&#252;ller, and F. Bechstedt, Phys. Rev. B 73, 045112 (2006).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-19T14:27:32Z"}, "CSHIFT": {"datatype": "real", "default": [["<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a>*1.3 / max(<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">NOMEGA</a>,40)</span>", "for <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\">GW calculations</a>"], ["0.1", "for linear response calculations"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CSHIFT\">CSHIFT</a> sets the (small) complex shift \u03b7 in the <a href=\"https://www.vasp.at/wiki/index.php/LOPTICS%23kramerskronig\">Kramers-Kronig transformation</a> and Hilbert transformation in linear response and GW calculations, respectively.</span>", "id": 122, "info": "<div><p>The default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CSHIFT\">CSHIFT</a>=<span><span class=\"tag-value\">0</span>.1 is perfectly acceptable for most calculations and causes a slight smoothing of the real part of the dielectric function. If the gap is very small (i.e. approaching two times </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CSHIFT\">CSHIFT</a>), slight inaccuracies in the static dielectric constant are possible, which can be remedied by decreasing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CSHIFT\">CSHIFT</a>. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CSHIFT\">CSHIFT</a> is further decreased, it is strongly recommended to increase the parameter <a href=\"https://www.vasp.at/wiki/index.php/NEDOS\" title=\"NEDOS\" class=\"tag-link\">NEDOS</a> to values around 2000.\n</p><p>For GW type calculations, one should manually check that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CSHIFT\">CSHIFT</a> is at least as large\nas the grid spacing at low frequencies. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CSHIFT\">CSHIFT</a> is smaller than the grid spacing,\nthe QP energies might show erratic behavior (for instance large re-normalization factors Z). \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/OMEGAMIN\" title=\"OMEGAMIN\" class=\"tag-link\">OMEGAMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\" title=\"OMEGAMAX\" class=\"tag-link\">OMEGAMAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNABLA\" title=\"LNABLA\" class=\"tag-link\">LNABLA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CSHIFT%22_incategory:%22Examples%22\" title='Special:Search/\"CSHIFT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-26T10:36:25Z"}, "LNABLA": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LNABLA\">LNABLA</a>=<span><span class=\"tag-value\">.TRUE.</span> evaluates the transversal expression for the frequency dependent dielectric matrix.</span></span>", "id": 123, "info": "<div><p>Usually VASP uses the <a href=\"https://www.vasp.at/wiki/index.php/LOPTICS#epsilon\" title=\"LOPTICS\">longitudinal expression for the frequency dependent dielectric matrix</a>.\nIt is however possible to switch to the computationally somewhat simpler transversal expressions by selecting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LNABLA\">LNABLA</a>=<span><span class=\"tag-value\">.TRUE.</span> (Eqs. 17 and 20 in Ref.</span><sup id=\"cite_ref-gajdos:prb:06_1-0\" class=\"reference\"><a href=\"#cite_note-gajdos:prb:06-1\">[1]</a></sup>).\nIn this simplification the imaginary part of the macroscopic dielectric function is given by\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon _{\\alpha \\beta }^{(2)}(\\omega )={\\frac {4\\pi ^{2}e^{2}\\hbar ^{4}}{\\Omega \\omega ^{2}m_{e}^{2}}}\\mathrm {lim} _{\\mathbf {q} \\rightarrow 0}\\sum _{c,v,\\mathbf {k} }2w_{\\mathbf {k} }\\delta (\\epsilon _{c\\mathbf {k+q} }-\\epsilon _{v\\mathbf {k} }-\\omega )\\times \\langle u_{c\\mathbf {k} }|i{\\mathbf {\\nabla } _{\\alpha }-\\mathbf {k} }_{\\alpha }|u_{v\\mathbf {k} }\\rangle \\langle u_{c\\mathbf {k} }|i{\\mathbf {\\nabla } _{\\beta }-\\mathbf {k} }_{\\beta }|u_{v\\mathbf {k} }\\rangle ^{*}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>2</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mn>4</mn>\n              <msup>\n                <mi>&#960;<!-- &#960; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msup>\n                <mi>e</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msup>\n                <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>4</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mrow>\n              <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n              <msup>\n                <mi>&#969;<!-- &#969; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msubsup>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msubsup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">l</mi>\n            <mi mathvariant=\"normal\">i</mi>\n            <mi mathvariant=\"normal\">m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n            <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mo>,</mo>\n            <mi>v</mi>\n            <mo>,</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </munder>\n        <mn>2</mn>\n        <msub>\n          <mi>w</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mi>&#948;<!-- &#948; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n              <mo mathvariant=\"bold\">+</mo>\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>v</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi>i</mi>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>&#945;<!-- &#945; --></mi>\n              </mrow>\n            </msub>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>v</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi>i</mi>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>&#946;<!-- &#946; --></mi>\n              </mrow>\n            </msub>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>v</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msup>\n          <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msup>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon _{\\alpha \\beta }^{(2)}(\\omega )={\\frac {4\\pi ^{2}e^{2}\\hbar ^{4}}{\\Omega \\omega ^{2}m_{e}^{2}}}\\mathrm {lim} _{\\mathbf {q} \\rightarrow 0}\\sum _{c,v,\\mathbf {k} }2w_{\\mathbf {k} }\\delta (\\epsilon _{c\\mathbf {k+q} }-\\epsilon _{v\\mathbf {k} }-\\omega )\\times \\langle u_{c\\mathbf {k} }|i{\\mathbf {\\nabla } _{\\alpha }-\\mathbf {k} }_{\\alpha }|u_{v\\mathbf {k} }\\rangle \\langle u_{c\\mathbf {k} }|i{\\mathbf {\\nabla } _{\\beta }-\\mathbf {k} }_{\\beta }|u_{v\\mathbf {k} }\\rangle ^{*}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1784465f7c3144374d6ecef8e8f32a3df63ca71c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:94.925ex; height:7.176ex;\" alt=\"\\epsilon _{{\\alpha \\beta }}^{{(2)}}(\\omega )={\\frac  {4\\pi ^{2}e^{2}\\hbar ^{4}}{\\Omega \\omega ^{2}m_{e}^{2}}}{\\mathrm  {lim}}_{{{\\mathbf  {q}}\\rightarrow 0}}\\sum _{{c,v,{\\mathbf  {k}}}}2w_{{\\mathbf  {k}}}\\delta (\\epsilon _{{c{\\mathbf  {k+q}}}}-\\epsilon _{{v{\\mathbf  {k}}}}-\\omega )\\times \\langle u_{{c{\\mathbf  {k}}}}|i{{\\mathbf  {\\nabla }}_{{\\alpha }}-{\\mathbf  {k}}}_{{\\alpha }}|u_{{v{\\mathbf  {k}}}}\\rangle \\langle u_{{c{\\mathbf  {k}}}}|i{{\\mathbf  {\\nabla }}_{{\\beta }}-{\\mathbf  {k}}}_{{\\beta }}|u_{{v{\\mathbf  {k}}}}\\rangle ^{*}.\"></span></dd></dl>\n<p>Except for the purpose of testing, there is however hardly ever a reason\nto use the transversal expression, since it is less accurate.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LNABLA%22_incategory:%22Examples%22\" title='Special:Search/\"LNABLA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-gajdos:prb:06-1\"><a href=\"#cite_ref-gajdos:prb:06_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.73.045112\">M. Gajdo&#353;, K. Hummer, G. Kresse, J. Furthm&#252;ller, and F. Bechstedt, Phys. Rev. B 73, 045112 (2006).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-19T14:27:48Z"}, "LRPA": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPA\">LRPA</a>=<span><span class=\"tag-value\">.TRUE.</span> includes local field effect on the Hartree level only.</span></span>", "id": 125, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPA\">LRPA</a>=<span><span class=\"tag-value\">.TRUE.</span> local field effect are included on the Hartree level only. This means that cell periodic microscopic changes of the local potential related to the change of the Hartree potential are included.\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPA\">LRPA</a>=<span><span class=\"tag-value\">.FALSE.</span> changes of the Hartree </span><i>and the exchange correlation potential</i> are included. This usually increases the dielectric constants. The final values for the dielectric tensor can be found in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file after the lines.\n</p>\n<pre>MACROSCOPIC STATIC DIELECTRIC TENSOR (including local field effects in RPA (Hartree))\n</pre>\n<p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPA\">LRPA</a>=<span><span class=\"tag-value\">.FALSE.</span> the dielectric tensor is written after the lines:\n</span></p>\n<pre>MACROSCOPIC STATIC DIELECTRIC TENSOR (including local field effects in DFT)\n</pre>\n<p>The dielectric tensor <i>excluding</i> local field effects is always calculated (irregardless of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPA\">LRPA</a>). The piezoelectric tensors and the Born effective charges as well as the ionic contributions the to dielectric tensor are only calculated for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPA\">LRPA</a>=<span><span class=\"tag-value\">.FALSE.</span>.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LADDER\" title=\"LADDER\" class=\"tag-link\">LADDER</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LRPA%22_incategory:%22Examples%22\" title='Special:Search/\"LRPA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:59:18Z"}, "NOMEGA": {"datatype": "integer", "default": [["100", "for <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\">GW calculations</a>"], ["12", "for <a href=\"https://www.vasp.at/wiki/index.php/ACFDT_calculations\">ACFDT calculations</a>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a> specifies the number of (imaginary) frequency and imaginary time grid points.</span>", "id": 130, "info": "<div><p>Typically <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a> should be chosen around 50-100 (for the parallel version, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a> should be dividable by the number of compute nodes to obtain maximum efficiency). For quick and memory conserving calculations, it is sufficient to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a> to values around <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a>=<span><span class=\"tag-value\">20-30</span>, but then you must expect errors of the order of 20-50 meV for the gap and 100-200 meV for the bottom of the conduction band. We furthermore recommend to increase </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a> not beyond 100 for a <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle k}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>k</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle k}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.211ex; height:2.176ex;\" alt=\"k\"></span>-point sampling of 4&#215;4&#215;4 points/atom: the joint DOS and the self-energy tend to possess spurious fine structure related to the finite <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle k}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>k</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle k}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.211ex; height:2.176ex;\" alt=\"k\"></span>-point grid. This fine structure is smoothed when smaller values for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a> are used or if more <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle k}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>k</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle k}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.211ex; height:2.176ex;\" alt=\"k\"></span>-points are used. For 6&#215;6&#215;6 <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle k}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>k</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle k}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.211ex; height:2.176ex;\" alt=\"k\"></span>-points/atom <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a> can be usually increased to 200-300 without noticing problems associated with this kind of noise.\n</p><p>Note that the spectral method (see <a href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\" title=\"LSPECTRAL\" class=\"tag-link\">LSPECTRAL</a>) scales very favorable with respect to the number of frequency points hence <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a>=<span><span class=\"tag-value\">30</span> is usually only slightly faster than </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a>=<span><span class=\"tag-value\">100</span>. \n</span></p>\n<ul><li>N.B: Low-scaling GW and RPA/ACFDT calculations require considerably fewer imaginary frequency (and time) points.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NOMEGAR\" title=\"NOMEGAR\" class=\"tag-link\">NOMEGAR</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/NTAUPAR\" title=\"NTAUPAR\" class=\"tag-link\">NTAUPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\" title=\"LSPECTRAL\" class=\"tag-link\">LSPECTRAL</a>\n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA_DUMP\" title=\"NOMEGA DUMP\" class=\"tag-link\">NOMEGA_DUMP</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NOMEGA%22_incategory:%22Examples%22\" title='Special:Search/\"NOMEGA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-11-23T14:47:14Z"}, "NOMEGAR": {"datatype": "integer", "default": [["<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a>", "for <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\">GW calculations</a>"], ["0", "for <a href=\"https://www.vasp.at/wiki/index.php/ACFDT_calculations\">ACFDT calculations</a>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGAR\">NOMEGAR</a> specifies the number of frequency grid points along the real axis.</span>", "id": 131, "info": "<div><p>Usually <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGAR\">NOMEGAR</a> equals <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGAR\">NOMEGAR</a> is smaller than  <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a> (for instance 0), frequencies along the imaginary time axis are included (this feature is currently not fully supported). \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NOMEGAR%22_incategory:%22Examples%22\" title='Special:Search/\"NOMEGAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:50:16Z"}, "LSPECTRAL": {"datatype": "boolean", "default": [[".TRUE.", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA\">NOMEGA</a>&gt;<span class=\"tag-value\">2</span>"]], "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\">LSPECTRAL</a> specifies to use the spectral method.</span>", "id": 132, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\">LSPECTRAL</a>=<span><span class=\"tag-value\">.TRUE.</span> is set, the imaginary part of the independent particle polarizability </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi _{\\mathbf {q} }^{0}(\\mathbf {G} ,\\mathbf {G} ',\\omega )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mo>,</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo>,</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi _{\\mathbf {q} }^{0}(\\mathbf {G} ,\\mathbf {G} ',\\omega )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/aa1652ff19629fab321ad2d7ba074c6939067ca9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:12.898ex; height:3.176ex;\" alt=\"\\chi _{{{\\mathbf  {q}}}}^{0}({\\mathbf  {G}},{\\mathbf  {G}}',\\omega )\"></span> is calculated first, and afterwards the full independent particle polarizability is determined using a Kramers-Kronig (or Hilbert) transform. This reduces the computational workload by almost a factor <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>/2. The downside of the coin is that the response function must be kept in memory for all considered frequencies, which can cause excessive memory requirements. VASP, therefore, distributes the dielectric functions among the available compute nodes.\n</p><p>A similar trick is used when the QP-shifts are calculated. In general it is strongly recommended to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\">LSPECTRAL</a>=<span><span class=\"tag-value\">.TRUE.</span>, except if memory requirements are too excessive.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSPECTRALGW\" title=\"LSPECTRALGW\" class=\"tag-link\">LSPECTRALGW</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSPECTRAL%22_incategory:%22Examples%22\" title='Special:Search/\"LSPECTRAL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:11:52Z"}, "LDAU": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAU\">LDAU</a>=<span><span class=\"tag-value\">.TRUE.</span> switches on DFT+U.</span></span>", "id": 146, "info": "<div><p><b>Note on bandstructure calculation</b>: The <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file contains only information up to angular momentum quantum number <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle l}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>l</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle l}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/829091f745070b9eb97a80244129025440a1cfac\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.693ex; height:2.176ex;\" alt=\"l\"></span>=<a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> for the <a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE#occmat\" title=\"LDAUTYPE\">on-site PAW occupancy matrices</a>. When the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file is read and kept fixed in the course of the calculations (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">11)</span>, the results will be necessarily not identical to a self-consistent run. The deviations are often large for DFT+U calculations. For the calculation of band structures within the DFT+U approach, it is hence strictly required to increase </span><a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> to 4 (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle d}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>d</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle d}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e85ff03cbe0c7341af6b982e47e9f90d235c66ab\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.216ex; height:2.176ex;\" alt=\"d\"></span> elements) and 6 (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle f}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>f</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle f}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.279ex; height:2.509ex;\" alt=\"f\"></span> elements).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUL\" title=\"LDAUL\" class=\"tag-link\">LDAUL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUPRINT\" title=\"LDAUPRINT\" class=\"tag-link\">LDAUPRINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT%2BU:_formalism\" title=\"DFT+U: formalism\">DFT+U: formalism</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LDAU%22_incategory:%22Examples%22\" title='Special:Search/\"LDAU\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-11T13:11:03Z"}, "LDAUTYPE": {"datatype": "integer", "default": "2", "options": {"1": null, "2": null, "4": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a> specifies the DFT+U variant that will be used.</span>", "id": 147, "info": "<div><p>The following variants of the <a href=\"https://www.vasp.at/wiki/index.php/DFT%2BU:_formalism\" title=\"DFT+U: formalism\">DFT+U approach</a> are available:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">1</span>: The rotationally invariant DFT+U introduced by Liechtenstein </span><i>et al.</i><sup id=\"cite_ref-liechtenstein:prb:95_1-0\" class=\"reference\"><a href=\"#cite_note-liechtenstein:prb:95-1\">[1]</a></sup></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">2</span>: The simplified (rotationally invariant) approach to DFT+U, introduced by Dudarev </span><i>et al.</i><sup id=\"cite_ref-dudarev:prb:98_2-0\" class=\"reference\"><a href=\"#cite_note-dudarev:prb:98-2\">[2]</a></sup></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">3</span>: Linear response ansatz of Cococcioni et al. </span><sup id=\"cite_ref-cococcioni:2005_3-0\" class=\"reference\"><a href=\"#cite_note-cococcioni:2005-3\">[3]</a></sup> to compute U. See <a href=\"https://www.vasp.at/wiki/index.php/Calculate_U_for_LSDA%2BU\" title=\"Calculate U for LSDA+U\">how to calculate U</a>.</li></ul>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">3</span>, the </span><a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a> and <a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a> tags specify the strength of the spherical potential acting on the spin-up and spin-down manifolds, respectively.\n</div></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">4</span>: Same as </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">1</span>, but without exchange splitting.</span></li></ul>\n<p>A method to estimate the parameters for DFT+U is the <a href=\"https://www.vasp.at/wiki/index.php/Constrained-random-phase_approximation\" class=\"mw-redirect\" title=\"Constrained-random-phase approximation\">constrained-random-phase approximation</a>. Another method is the linear response ansatz with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">3</span>, mentioned above. On the other hand, in many applications, the DFT+U parameters are used as tuning parameters to fit experimental data.\n</span></p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> For band-structure calculations, increase <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> to 4 (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle d}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>d</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle d}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e85ff03cbe0c7341af6b982e47e9f90d235c66ab\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.216ex; height:2.176ex;\" alt=\"d\"></span> elements) or 6 (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle f}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>f</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle f}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.279ex; height:2.509ex;\" alt=\"f\"></span> elements).\n</div><p>This is because the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file contains only information up to angular momentum quantum number set by <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> for the <a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE#occmat\" title=\"LDAUTYPE\">on-site PAW occupancy matrices</a>. When the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file is read and kept fixed in the course of the calculations (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">11)</span>, the results will necessarily not be identical to a self-consistent run. The deviations are often large for DFT+U calculations.\n</span></p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> The total energy will depend on the parameters <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/458a728f53b9a0274f059cd695e067c430956025\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.783ex; height:2.176ex;\" alt=\"U\"></span> (<a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a>) and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/359e4f407b49910e02c27c2f52e87a36cd74c053\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.471ex; height:2.176ex;\" alt=\"{\\displaystyle J}\"></span> (<a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a>). It is, therefore, not meaningful to compare the total energies resulting from calculations with different <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/458a728f53b9a0274f059cd695e067c430956025\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.783ex; height:2.176ex;\" alt=\"U\"></span> and/or <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/359e4f407b49910e02c27c2f52e87a36cd74c053\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.471ex; height:2.176ex;\" alt=\"{\\displaystyle J}\"></span>; or <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U-J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U-J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/65192969864228480e666fca2e40cc473158651c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:6.094ex; height:2.343ex;\" alt=\"{\\displaystyle U-J}\"></span> in the case of Dudarev's approach (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">2)</span>.\n</span></div><p>It is possible to use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\">LDAUTYPE</a>=<span><span class=\"tag-value\">1</span>, 2, and 3 for a non&#8211;spin-polarized calculation with </span><a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">1</span>.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LDAU\" title=\"LDAU\" class=\"tag-link\">LDAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUL\" title=\"LDAUL\" class=\"tag-link\">LDAUL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUPRINT\" title=\"LDAUPRINT\" class=\"tag-link\">LDAUPRINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT%2BU:_formalism\" title=\"DFT+U: formalism\">DFT+U: formalism</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LDAUTYPE%22_incategory:%22Examples%22\" title='Special:Search/\"LDAUTYPE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-liechtenstein:prb:95-1\"><a href=\"#cite_ref-liechtenstein:prb:95_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.52.R5467\">A. I. Liechtenstein, V. I. Anisimov, and J. Zaanen, Phys. Rev. B <b>52</b>, R5467 (1995).</a></span>\n</li>\n<li id=\"cite_note-dudarev:prb:98-2\"><a href=\"#cite_ref-dudarev:prb:98_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.57.1505\">S. L. Dudarev, G. A. Botton, S. Y. Savrasov, C. J. Humphreys, and A. P. Sutton, Phys. Rev. B <b>57</b>, 1505 (1998).</a></span>\n</li>\n<li id=\"cite_note-cococcioni:2005-3\"><a href=\"#cite_ref-cococcioni:2005_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.71.035105\">M. Cococcioni and S. de Gironcoli, Phys. Rev. B <b>71</b>, 035105 (2005).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-05-09T08:53:08Z"}, "LDAUL": {"datatype": "integer array", "default": "NTYP*2", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUL\">LDAUL</a> specifies the <math>l</math>-quantum number for which the on-site interaction is added.</span>", "id": 149, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUL\">LDAUL</a>=<span><span class=\"tag-value\">-1</span> no on-site interaction is added.\n</span></p><p><b>Mind</b>: one <i>has</i> to specify one number for each atomic species.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LDAU\" title=\"LDAU\" class=\"tag-link\">LDAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUPRINT\" title=\"LDAUPRINT\" class=\"tag-link\">LDAUPRINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT%2BU:_formalism\" title=\"DFT+U: formalism\">DFT+U: formalism</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LDAUL%22_incategory:%22Examples%22\" title='Special:Search/\"LDAUL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-11T13:11:11Z"}, "LDAUU": {"datatype": "real array", "default": "NTYP*0.0", "options": {}, "summary": "Sets the effective on-site Coulomb interactions (eV).", "id": 150, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUU\">LDAUU</a> specifies the strength of the effective on-site Coulomb interactions in eV. It must hold one value for each atomic species.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> The total energy will depend on the parameters <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/458a728f53b9a0274f059cd695e067c430956025\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.783ex; height:2.176ex;\" alt=\"U\"></span> (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUU\">LDAUU</a>) and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/359e4f407b49910e02c27c2f52e87a36cd74c053\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.471ex; height:2.176ex;\" alt=\"{\\displaystyle J}\"></span> (<a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a>). It is, therefore, not meaningful to compare the total energies resulting from calculations with different <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/458a728f53b9a0274f059cd695e067c430956025\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.783ex; height:2.176ex;\" alt=\"U\"></span> and/or <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/359e4f407b49910e02c27c2f52e87a36cd74c053\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.471ex; height:2.176ex;\" alt=\"{\\displaystyle J}\"></span>; or <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U-J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U-J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/65192969864228480e666fca2e40cc473158651c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:6.094ex; height:2.343ex;\" alt=\"{\\displaystyle U-J}\"></span> in the case of Dudarev's approach (<a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>=<span><span class=\"tag-value\">2)</span>.\n</span></div><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> For <a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>=<span><span class=\"tag-value\">3</span>, the </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUU\">LDAUU</a> and <a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a> tags specify the strength (in eV) of the spherical potential acting on the spin-up and spin-down manifolds, respectively.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LDAU\" title=\"LDAU\" class=\"tag-link\">LDAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUL\" title=\"LDAUL\" class=\"tag-link\">LDAUL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUPRINT\" title=\"LDAUPRINT\" class=\"tag-link\">LDAUPRINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT%2BU:_formalism\" title=\"DFT+U: formalism\">DFT+U: formalism</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LDAUU%22_incategory:%22Examples%22\" title='Special:Search/\"LDAUU\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-05-09T08:14:25Z"}, "LDAUJ": {"datatype": "real array", "default": "NTYP*0.0", "options": {}, "summary": "Sets the effective on-site exchange interactions (eV).", "id": 151, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUJ\">LDAUJ</a> specifies the strength of the effective on-site exchange interactions in eV. It must hold one value for each atomic species.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> The total energy will depend on the parameters <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/458a728f53b9a0274f059cd695e067c430956025\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.783ex; height:2.176ex;\" alt=\"U\"></span> (<a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a>) and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/359e4f407b49910e02c27c2f52e87a36cd74c053\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.471ex; height:2.176ex;\" alt=\"{\\displaystyle J}\"></span> (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUJ\">LDAUJ</a>). It is, therefore, not meaningful to compare the total energies resulting from calculations with different <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/458a728f53b9a0274f059cd695e067c430956025\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.783ex; height:2.176ex;\" alt=\"U\"></span> and/or <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/359e4f407b49910e02c27c2f52e87a36cd74c053\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.471ex; height:2.176ex;\" alt=\"{\\displaystyle J}\"></span>; or <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U-J}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>J</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U-J}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/65192969864228480e666fca2e40cc473158651c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:6.094ex; height:2.343ex;\" alt=\"{\\displaystyle U-J}\"></span> in the case of Dudarev's approach (<a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>=<span><span class=\"tag-value\">2)</span>.\n</span></div><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> For <a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>=<span><span class=\"tag-value\">3</span>, the </span><a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUJ\">LDAUJ</a> tags specify the strength (in eV) of the spherical potential acting on the spin-up and spin-down manifolds, respectively.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LDAU\" title=\"LDAU\" class=\"tag-link\">LDAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUL\" title=\"LDAUL\" class=\"tag-link\">LDAUL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUPRINT\" title=\"LDAUPRINT\" class=\"tag-link\">LDAUPRINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT%2BU:_formalism\" title=\"DFT+U: formalism\">DFT+U: formalism</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LDAUJ%22_incategory:%22Examples%22\" title='Special:Search/\"LDAUJ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-05-09T08:13:39Z"}, "LDAUPRINT": {"datatype": "integer", "default": "0", "options": {"0": null, "1": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUPRINT\">LDAUPRINT</a> controls the verbosity of a DFT+U calculation.</span>", "id": 152, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUPRINT\">LDAUPRINT</a>=<span><span class=\"tag-value\">0</span>: No onsite occupancy matrix is written to the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDAUPRINT\">LDAUPRINT</a>=<span><span class=\"tag-value\">1</span>: The spin up and spin down onsite occupancy matrices of the atoms types to which a </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>U</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/458a728f53b9a0274f059cd695e067c430956025\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.783ex; height:2.176ex;\" alt=\"U\"></span> is applied are written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file at each iteration (below \"onsite density matrix\"). The eigenvalues and eigenvectors of the total (spin up + spin down) onsite matrix is also written (below \"occupancies and eigenvectors\").</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LDAU\" title=\"LDAU\" class=\"tag-link\">LDAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUTYPE\" title=\"LDAUTYPE\" class=\"tag-link\">LDAUTYPE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUL\" title=\"LDAUL\" class=\"tag-link\">LDAUL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUU\" title=\"LDAUU\" class=\"tag-link\">LDAUU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDAUJ\" title=\"LDAUJ\" class=\"tag-link\">LDAUJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT%2BU:_formalism\" title=\"DFT+U: formalism\">DFT+U: formalism</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LDAUPRINT%22_incategory:%22Examples%22\" title='Special:Search/\"LDAUPRINT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-11T09:05:24Z"}, "OMEGAMAX": {"datatype": "real", "default": "outermost node in dielectric function <math>\\epsilon(\\omega)</math>/1.3", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a> specifies the maximum frequency for the dense part of the frequency grid for GW calculations (old GW code, does not apply to GWR). </span>", "id": 158, "info": "<div><p>GW type calculations:\n</p><p>For the frequency grid along the real and imaginary axis sophisticated schemes are used, which are based on simple model functions for the macroscopic dielectric function. The grid spacing is dense up to roughly 1.3*<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a> and becomes coarser for larger frequencies. The default value for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a> is either determined by the outermost node in the dielectric function (corresponding to a singularity in the inverse of the dielectric function) or the energy difference between the valence band minimum and the conduction band minimum. The larger of these two values is used. Except for pseudopotentials with deep lying core states, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a> is usually determined by the node in the dielectric function.\n</p><p>For <a href=\"https://www.vasp.at/wiki/index.php/ACFDT_calculations\" class=\"mw-redirect\" title=\"ACFDT calculations\">ACFDT calculations</a>, only <a href=\"https://www.vasp.at/wiki/index.php/OMEGAMIN\" title=\"OMEGAMIN\" class=\"tag-link\">OMEGAMIN</a> and <a href=\"https://www.vasp.at/wiki/index.php/OMEGATL\" title=\"OMEGATL\" class=\"tag-link\">OMEGATL</a> determine the frequency grid (using a minimax algorithm). \n</p><p>The defaults have been carefully tested, and it is recommended to leave them unmodified, whenever possible. The grid should be solely controlled by <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>. The only other value that can be modified is the complex shift <a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a>. In principle, <a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a> should NOT be chosen independently of <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a>: e.g. for less dense grids (smaller <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>) the complex shift must be accordingly increased. The default for <a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a> has been chosen such that the calculations are converged to 10 meV with respect to <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>: i.e. if <a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a> is kept constant and <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a> is increased, the QP shifts should not change by more than 10 meV; at least for <a href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\" title=\"LSPECTRAL\" class=\"tag-link\">LSPECTRAL</a>=<span><span class=\"tag-value\">.TRUE.</span>. This was the case for the considered test materials. For </span><a href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\" title=\"LSPECTRAL\" class=\"tag-link\">LSPECTRAL</a>=<span><span class=\"tag-value\">.FALSE.</span> this does not apply. In this case it is recommended to set </span><a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a> manually and to perform careful convergence tests.\n</p><p>For <a href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\" title=\"LSPECTRAL\" class=\"tag-link\">LSPECTRAL</a>=<span><span class=\"tag-value\">.TRUE.</span> independent convergence tests with respect to </span><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a> and <a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a> are usually not required, and it should be sufficient to control the technical parameters via the single parameter <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>. Also note that too large values for <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a> in combination with coarse k-point grids can cause a decrease in precision (see <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>). \n</p><p><br>\nBSE and TD-DFT type calculations (see <a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>):\n</p><p>In this case, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a> allows to reduce the number of conduction/ valence band pairs. Usually these are determined by <a href=\"https://www.vasp.at/wiki/index.php/NBANDSV\" title=\"NBANDSV\" class=\"tag-link\">NBANDSV</a> and <a href=\"https://www.vasp.at/wiki/index.php/NBANDSO\" title=\"NBANDSO\" class=\"tag-link\">NBANDSO</a>. The number of pairs is roughly proportional to the products of <a href=\"https://www.vasp.at/wiki/index.php/NBANDSV\" title=\"NBANDSV\" class=\"tag-link\">NBANDSV</a>, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSO\" title=\"NBANDSO\" class=\"tag-link\">NBANDSO</a>, and the number of k-points in the full Brillouin zone. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a> is set, pairs for which the difference of the independent particle energy is larger than \n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a> will be removed from the basis set (and from the BSE calculations). This can improve performance, without significantly affecting the imaginary part of the dielectric function. The real part of the dielectric function is, however, rather sensitive to reducing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\">OMEGAMAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSV\" title=\"NBANDSV\" class=\"tag-link\">NBANDSV</a>, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSO\" title=\"NBANDSO\" class=\"tag-link\">NBANDSO</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/OMEGATL\" title=\"OMEGATL\" class=\"tag-link\">OMEGATL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/OMEGAMIN\" title=\"OMEGAMIN\" class=\"tag-link\">OMEGAMIN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22OMEGAMAX%22_incategory:%22Examples%22\" title='Special:Search/\"OMEGAMAX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:25:13Z"}, "OMEGATL": {"datatype": "real", "default": "10 <math>\\times</math> outermost node in dielectric function <math>\\epsilon(\\omega)</math>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGATL\">OMEGATL</a> specifies the maximum frequency for the coarse part of the frequency grid. </span>", "id": 159, "info": "<div><p>For the frequency grid along the real and imaginary axis sophisticated schemes are used, which are based on simple model functions for the macroscopic dielectric function. The grid spacing is dense up to roughly 1.3*<a href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\" title=\"OMEGAMAX\" class=\"tag-link\">OMEGAMAX</a> and becomes coarser for larger frequencies. \nThe default has been carefully tested, and it is recommended to leave it unmodified whenever possible.  \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\" title=\"OMEGAMAX\" class=\"tag-link\">OMEGAMAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/OMEGAMIN\" title=\"OMEGAMIN\" class=\"tag-link\">OMEGAMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22OMEGATL%22_incategory:%22Examples%22\" title='Special:Search/\"OMEGATL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:26:46Z"}, "LCALCPOL": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\">LCALCPOL</a>=<span><span class=\"tag-value\">.TRUE.</span>  switches on the evaluation of the Berry phase expressions for the macroscopic electronic polarization in accordance with the so-called </span><a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields%23Modern_Theory_of_Polarization\">Modern Theory of Polarization</a>.</span>", "id": 161, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\">LCALCPOL</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP calculates the electronic contribution to the polarization, along the three reciprocal lattice vectors </span><b>G</b><sub>i</sub>, i=1,2,3,  (i.e. &#931;<sub>i</sub> <b>P</b>&#183;<b>G</b><sub>i</sub>) in a single run (unlike <a href=\"https://www.vasp.at/wiki/index.php/LBERRY\" title=\"LBERRY\" class=\"tag-link\">LBERRY</a>=<span><span class=\"tag-value\">.TRUE.</span>).\n</span></p>\n<h3><span id=\"An_example:_The_fluorine_displacement_dipole_(Born_effective_charge)_in_NaF\"></span><span class=\"mw-headline\" id=\"An_example:_The_fluorine_displacement_dipole_.28Born_effective_charge.29_in_NaF\">An example: The fluorine displacement dipole (Born effective charge) in NaF</span></h3>\n<ul><li>With <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file:</li></ul>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\"><span style=\"color:black\">PREC</span></a>=<span class=\"tag-value\">Med</span>\n<a href=\"https://www.vasp.at/wiki/index.php/EDIFF\" title=\"EDIFF\" class=\"tag-link\"><span style=\"color:black\">EDIFF</span></a>=<span class=\"tag-value\">1E-6</span>\n\n<a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\"><span style=\"color:black\">ISMEAR</span></a>=<span class=\"tag-value\">0</span>\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\"><span style=\"color:black\">DIPOL</span></a>=<span><span class=\"tag-value\">0</span>.25 0.25 0.25\n\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\"><span style=\"color:black\">LCALCPOL</span></a>=<span class=\"tag-value\">.TRUE.</span>\n</pre>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file:</li></ul>\n<pre>6x6x6\n 0\nGamma\n 6 6 6\n 0 0 0\n</pre>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file:</li></ul>\n<pre>NaF\n 4.5102\n 0.0 0.5 0.5\n 0.5 0.0 0.5\n 0.5 0.5 0.0\n1 1\nDirect\n  0.0000000000000000  0.0000000000000000  0.0000000000000000\n  0.5000000000000000  0.5000000000000000  0.5000000000000000\n</pre>\n<ul><li>and LDA Na_sv and F PAW datasets.</li></ul>\n<p>The <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file should now contain the following lines:\n</p>\n<pre>            Ionic dipole moment: p[ion]=(     2.25510     2.25510     2.25510 ) electrons Angst\n\n Total electronic dipole moment: p[elc]=(     0.00000     0.00000     0.00000 ) electrons Angst\n</pre>\n<p>Here the units \"electrons Angst\" denote <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e\\mathrm {\\AA} =-1.60210^{-19}C\\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msup>\n          <mn>1.60210</mn>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>19</mn>\n          </mrow>\n        </msup>\n        <mi>C</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e\\mathrm {\\AA} =-1.60210^{-19}C\\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c443aee8755f5a9269549b816222a3bba10a7471\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:21.366ex; height:3.509ex;\" alt=\"{\\displaystyle e\\mathrm {\\AA} =-1.60210^{-19}C\\mathrm {\\AA} }\"></span>.\n</p><p>To calculate the change in the electronic polarization of NaF due to the displacement of the fluorine sublattice we repeat the previous calculation with the following <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file:\n</p>\n<pre>NaF\n 4.5102\n 0.0 0.5 0.5\n 0.5 0.0 0.5\n 0.5 0.5 0.0\n1 1\nDirect\n  0.0000000000000000  0.0000000000000000  0.0000000000000000\n  0.5100000000000000  0.5100000000000000  0.4900000000000000\n</pre>\n<p>The <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> should now contain something very similar to the following lines:\n</p>\n<pre>            Ionic dipole moment: p[ion]=(     2.25510     2.25510     1.93939 ) electrons Angst\n\n Total electronic dipole moment: p[elc]=(     0.00000     0.00000     0.36061 ) electrons Angst\n</pre>\n<p>From the above one easily recognizes that the change in the electronic dipole moment due to the F-sublattice displacement is: \n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta \\mathrm {p[elc]} =0.3606{\\hat {z}}\\;e\\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">p</mi>\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">e</mi>\n          <mi mathvariant=\"normal\">l</mi>\n          <mi mathvariant=\"normal\">c</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n        <mo>=</mo>\n        <mn>0.3606</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>z</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mi>e</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta \\mathrm {p[elc]} =0.3606{\\hat {z}}\\;e\\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/79e05483b986faf253bdd00f749e5f6ea46cb0c0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:21.233ex; height:3.343ex;\" alt=\"\\Delta {\\mathrm  {p[elc]}}=0.3606{\\hat  {z}}\\;e\\AA \"></span>\n</p><p>and the corresponding change in the ionic dipole moment:\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta \\mathrm {p[ion]} =1.93939-2.25510=-0.31571{\\hat {z}}\\;e\\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">p</mi>\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">i</mi>\n          <mi mathvariant=\"normal\">o</mi>\n          <mi mathvariant=\"normal\">n</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n        <mo>=</mo>\n        <mn>1.93939</mn>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>2.25510</mn>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>0.31571</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>z</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mi>e</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta \\mathrm {p[ion]} =1.93939-2.25510=-0.31571{\\hat {z}}\\;e\\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0e9e49338ef5669d072f930d9191ca0837afb612\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:45.776ex; height:3.343ex;\" alt=\"\\Delta {\\mathrm  {p[ion]}}=1.93939-2.25510=-0.31571{\\hat  {z}}\\;e\\AA \"></span>\n</p><p>Thus the total change is found to be:\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta \\mathrm {p[tot]} =0.36061-0.31571=0.0449{\\hat {z}}\\;e\\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">p</mi>\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">t</mi>\n          <mi mathvariant=\"normal\">o</mi>\n          <mi mathvariant=\"normal\">t</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n        <mo>=</mo>\n        <mn>0.36061</mn>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>0.31571</mn>\n        <mo>=</mo>\n        <mn>0.0449</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>z</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mi>e</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta \\mathrm {p[tot]} =0.36061-0.31571=0.0449{\\hat {z}}\\;e\\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ec2cb9cb3ed18f5c11970f7dc919660181209f21\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:42.675ex; height:3.343ex;\" alt=\"\\Delta {\\mathrm  {p[tot]}}=0.36061-0.31571=0.0449{\\hat  {z}}\\;e\\AA \"></span>\n</p><p>and considering that the F-sublattice was displaced by 0.045102 &#197; these calculations yield a Born effective charge for fluorine of \n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Z^{*}=0.0449/0.045102=-0.995|e|\\;}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi>Z</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msup>\n        <mo>=</mo>\n        <mn>0.0449</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mn>0.045102</mn>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>0.995</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi>e</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Z^{*}=0.0449/0.045102=-0.995|e|\\;}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9bb364b9e4c37211cca31bc1f8ae41571643d34e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:35.492ex; height:2.843ex;\" alt=\"Z^{*}=0.0449/0.045102=-0.995|e|\\;\"></span>.\n</p><p>The socalled parallel or <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {G}}_{\\parallel }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8741;<!-- &#8741; --></mo>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {G}}_{\\parallel }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ed574ea2f6b4692fe8eacbd3bcf1a628e3ab1fb1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:3.155ex; height:3.009ex;\" alt=\"{\\mathbf  {G}}_{{\\parallel }}\"></span>\ndirection in the integration over the reciprocal space unit cell is set in <a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD_PEAD\" title=\"EFIELD PEAD\" class=\"tag-link\">EFIELD_PEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPEAD\" title=\"LPEAD\" class=\"tag-link\">LPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IPEAD\" title=\"IPEAD\" class=\"tag-link\">IPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LBERRY\" title=\"LBERRY\" class=\"tag-link\">LBERRY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NPPSTR\" title=\"NPPSTR\" class=\"tag-link\">NPPSTR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields\" title=\"Berry phases and finite electric fields\">Berry phases and finite electric fields</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LCALCPOL%22_incategory:%22Examples%22\" title='Special:Search/\"LCALCPOL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:58:37Z"}, "LCALCEPS": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\">LCALCEPS</a>=<span><span class=\"tag-value\">.TRUE.</span> the macroscopic ion-clamped static dielectric tensor, Born effective charge tensors, and the ion-clamped piezoelectric tensor of the system are determined from the response to finite electric fields.</span>", "id": 162, "info": "<div><p><b>Note</b>: For standard DFT functionals, &#949;<sub>&#8734;</sub>, <i>Z</i><sup>*</sup>, and <i>e</i><sup>(0)</sup> may be more easily calculated from density functional perturbation theory (see <a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>=<span><span class=\"tag-value\">.TRUE.</span>). For functionals that depend not only on the density but also explicitly on the orbitals, like </span><a href=\"https://www.vasp.at/wiki/index.php/Category:Hybrid_functionals\" title=\"Category:Hybrid functionals\">hybrid functionals</a>, density functional perturbation theory is presently not implemented and <a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>=<span><span class=\"tag-value\">.TRUE.</span> is not applicable.\n</span></p><p><b>Note</b>: The piezoelectric tensor has the wrong sign in Vasp 5.4.4 and older. The bug is fixed with <a rel=\"nofollow\" class=\"external text\" href=\"http://cms.mpi.univie.ac.at/patches/patch.5.4.4.16052018.gz\">patch.5.4.4.16052018.gz</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\" title=\"LCALCPOL\" class=\"tag-link\">LCALCPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD_PEAD\" title=\"EFIELD PEAD\" class=\"tag-link\">EFIELD_PEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPEAD\" title=\"LPEAD\" class=\"tag-link\">LPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IPEAD\" title=\"IPEAD\" class=\"tag-link\">IPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LBERRY\" title=\"LBERRY\" class=\"tag-link\">LBERRY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NPPSTR\" title=\"NPPSTR\" class=\"tag-link\">NPPSTR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields\" title=\"Berry phases and finite electric fields\">Berry phases and finite electric fields</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LCALCEPS%22_incategory:%22Examples%22\" title='Special:Search/\"LCALCEPS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:51:54Z"}, "EFIELD_PEAD": {"datatype": "real array", "default": [["3*0.01", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\">LCALCEPS</a>=<span class=\"tag-value\">.TRUE.</span>"], ["3*0.0", "else"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EFIELD_PEAD\">EFIELD_PEAD</a> specifies the homogeneous electric force field in the electric enthalpy functional used to compute the <a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields%23Self-consistent_response_to_finite_electric_fields\">self-consistent response to finite electric fields</a>. <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EFIELD_PEAD\">EFIELD_PEAD</a> is specified in units of eV/\u00c5.</span>", "id": 163, "info": "<div><p>To speed up the computation of the field-polarized groundstate one may set <a href=\"https://www.vasp.at/wiki/index.php?title=SKIP_EDOTP&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"SKIP EDOTP (page does not exist)\">SKIP_EDOTP</a>=.TRUE. to avoid the recalculation of the <a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields#pol\" title=\"Berry phases and finite electric fields\">electronic polarization</a> at each iteration during the SCF procedure.\nHowever, the additional term in Hamiltonian (second term on the right-hand-side of <a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields#HdotP\" title=\"Berry phases and finite electric fields\">the electric enthalpy functional</a>) has to be correctly included and can not be kept fixed.\nBasically this means one does not minimize the total energy but optimizes the orbitals until a stationary point is reached. A stationary point is considered to be reached as soon as the norm of the gradient on the orbitals is smaller than <a href=\"https://www.vasp.at/wiki/index.php/EDIFF\" title=\"EDIFF\" class=\"tag-link\">EDIFF</a>/100, and the SCF procedure will stop.\nIn the case of the previous example this will lead to:\n</p>\n<pre>       N       E                     dE             d eps       ncg     rms          rms(c)\n gam= 0.000 g(H,U,f)=  0.149E-04 0.000E+00 0.000E+00 ort(H,U,f) = 0.000E+00 0.000E+00 0.000E+00\nSDA:   1    -0.295718441603E+03   -0.60750E-08   -0.59581E-05   360   0.149E-04 0.000E+00\n gam= 0.519 g(H,U,f)=  0.332E-05 0.000E+00 0.000E+00 ort(H,U,f) = 0.629E-05 0.000E+00 0.000E+00\n      ...         ...                ...\n      ...         ...                ...\n gam= 0.519 g(H,U,f)=  0.124E-07 0.000E+00 0.000E+00 ort(H,U,f) =-0.141E-08 0.000E+00 0.000E+00\nDMP:  11    -0.295718435607E+03    0.13956E-06   -0.46725E-08   360   0.124E-07-0.141E-08\n gam= 0.519 g(H,U,f)=  0.637E-08 0.000E+00 0.000E+00 ort(H,U,f) = 0.218E-10 0.000E+00 0.000E+00\nDMP:  12    -0.295718435599E+03    0.78403E-08   -0.25522E-08   360   0.637E-08 0.218E-10\n final diagonalization\n p_tot=(  0.844E-06  0.844E-06  0.117E-02 )\ndp_tot=( -0.313E-07 -0.313E-07  0.117E-02 )  diag[e(oo)]=(    ---      ---    1.92478 )\n   1 F= -.29571844E+03 E0= -.29571844E+03  d E =-.223448E-12\n</pre>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php?title=SKIP_EDOTP&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"SKIP EDOTP (page does not exist)\">SKIP_EDOTP</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\" title=\"LCALCPOL\" class=\"tag-link\">LCALCPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPEAD\" title=\"LPEAD\" class=\"tag-link\">LPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IPEAD\" title=\"IPEAD\" class=\"tag-link\">IPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LBERRY\" title=\"LBERRY\" class=\"tag-link\">LBERRY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NPPSTR\" title=\"NPPSTR\" class=\"tag-link\">NPPSTR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields\" title=\"Berry phases and finite electric fields\">Berry phases and finite electric fields</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EFIELD_PEAD%22_incategory:%22Examples%22\" title='Special:Search/\"EFIELD PEAD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-souza:prl:02-1\"><a href=\"#cite_ref-souza:prl:02_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevLett.89.117602\">I. Souza, J. &#205;&#241;iguez, and D. Vanderbilt, Phys. Rev. Lett. 89, 117602 (2002).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-29T13:55:32Z"}, "LPEAD": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPEAD\">LPEAD</a>=<span><span class=\"tag-value\">.TRUE.</span>, the derivative of the cell-periodic part of the orbitals w.r.t. </span><b>k</b>, |\u2207<sub><b>k</b></sub>u<sub>n<b>k</b></sub>\u232a, is calculated using finite differences.", "id": 164, "info": "<div><ul><li>N.B. Please note that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPEAD\">LPEAD</a>=<span class=\"tag-value\">.TRUE.</span> <b>is not supported for metallic systems</b>.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IPEAD\" title=\"IPEAD\" class=\"tag-link\">IPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD_PEAD\" title=\"EFIELD PEAD\" class=\"tag-link\">EFIELD_PEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields\" title=\"Berry phases and finite electric fields\">Berry phases and finite electric fields</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LPEAD%22_incategory:%22Examples%22\" title='Special:Search/\"LPEAD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:59:05Z"}, "IPEAD": {"datatype": "integer", "default": "4", "options": {"1": null, "2": null, "3": null, "4": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IPEAD\">IPEAD</a> specifies the order of the finite difference stencil used to compute the derivative of the cell-periodic part of the orbitals w.r.t. <b>k</b>, |\u2207<sub><b>k</b></sub>u<sub>n<b>k</b></sub>\u232a (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IPEAD\">LPEAD</a>=<span><span class=\"tag-value\">.TRUE.</span>), and the derivative of the polarization w.r.t. the orbitals, \u03b4</span><b>P</b>/\u03b4\u2329\u03c8<sub>n<b>k</b></sub>| for (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IPEAD\">LCALCEPS</a>=<span><span class=\"tag-value\">.TRUE.</span>, or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IPEAD\">EFIELD_PEAD</a>\u2260<b>0</b>).</span>", "id": 165, "info": "<div><p>A central finite differences formula or order <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IPEAD\">IPEAD</a> is used to compute the first-order derivative of the cell-periodic part of the orbitals w.r.t. <b>k</b>.\nThe coefficients for the different orders can be found <a rel=\"nofollow\" class=\"external text\" href=\"https://en.wikipedia.org/wiki/Finite_difference_coefficient#Central_finite_difference\">here</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LPEAD\" title=\"LPEAD\" class=\"tag-link\">LPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD_PEAD\" title=\"EFIELD PEAD\" class=\"tag-link\">EFIELD_PEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields\" title=\"Berry phases and finite electric fields\">Berry phases and finite electric fields</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IPEAD%22_incategory:%22Examples%22\" title='Special:Search/\"IPEAD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-11-14T11:23:07Z"}, "ENAUG": {"datatype": "real", "default": "largest <i>EAUG</i> read from the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a> file", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENAUG\">ENAUG</a> specifies the cut-off energy of the plane wave representation of the augmentation charges in eV.</span>", "id": 166, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENAUG\">ENAUG</a> determines <a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a> in accordance with the <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ENAUG%22_incategory:%22Examples%22\" title='Special:Search/\"ENAUG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:12:05Z"}, "IBRION": {"datatype": "integer", "default": [["-1", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSW\">NSW</a>=<span><span class=\"tag-value\">\u22121</span> or 0</span>"], ["0", "else"]], "options": {"-1": null, "0": null, "1": null, "2": null, "3": null, "5": null, "6": null, "7": null, "8": null, "40": null, "44": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a> determines how the ions are updated and moved.</span>", "id": 167, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">0</span>, a molecular dynamics is performed, whereas all other algorithms are destined for relaxations into a local energy minimum. For difficult relaxation problems it is recommended to use the conjugate gradient algorithm (</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">2)</span>, which presently possesses the most reliable backup routines. Damped molecular dynamics (</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">3)</span> are often useful when starting from very bad initial guesses. Close to the local minimum the RMM-DIIS (</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">1)</span> is usually the best choice. </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">5</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">6</span> are using finite differences to determine the second derivatives (Hessian matrix and phonon frequencies), whereas </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">7</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">8</span> use density functional perturbation theory to calculate the derivatives.\n</span></p>\n<div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#IBRION.3D-1:_no_update.\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">IBRION=-1: no update.</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#IBRION.3D0:_molecular_dynamics.\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">IBRION=0: molecular dynamics.</span></a></li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#IBRION.3D1:_ionic_relaxation_.28RMM-DIIS.29.\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">IBRION=1: ionic relaxation (RMM-DIIS).</span></a></li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#IBRION.3D2:_ionic_relaxation_.28conjugate_gradient_algorithm.29.\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">IBRION=2: ionic relaxation (conjugate gradient algorithm).</span></a></li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#IBRION.3D3:_ionic_relaxation_.28damped_molecular_dynamics.29.\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">IBRION=3: ionic relaxation (damped molecular dynamics).</span></a></li>\n<li class=\"toclevel-1 tocsection-6\"><a href=\"#IBRION.3D5_and_6:_second_derivatives.2C_Hessian_matrix_and_phonon_frequencies_.28finite_differences.29.\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">IBRION=5 and 6: second derivatives, Hessian matrix and phonon frequencies (finite differences).</span></a></li>\n<li class=\"toclevel-1 tocsection-7\"><a href=\"#IBRION.3D7_and_8:_second_derivatives.2C_Hessian_matrix.2C_and_phonon_frequencies_.28perturbation_theory.29.\"><span class=\"tocnumber\">7</span> <span class=\"toctext\">IBRION=7 and 8: second derivatives, Hessian matrix, and phonon frequencies (perturbation theory).</span></a></li>\n<li class=\"toclevel-1 tocsection-8\"><a href=\"#IBRION.3D40:_calculation_of_energy_profile_along_IRC.\"><span class=\"tocnumber\">8</span> <span class=\"toctext\">IBRION=40: calculation of energy profile along IRC.</span></a></li>\n<li class=\"toclevel-1 tocsection-9\"><a href=\"#IBRION.3D44:_the_Improved_Dimer_Method.\"><span class=\"tocnumber\">9</span> <span class=\"toctext\">IBRION=44: the Improved Dimer Method.</span></a></li>\n<li class=\"toclevel-1 tocsection-10\"><a href=\"#Some_general_comments\"><span class=\"tocnumber\">10</span> <span class=\"toctext\">Some general comments</span></a></li>\n<li class=\"toclevel-1 tocsection-11\"><a href=\"#Related_Tags_and_Sections\"><span class=\"tocnumber\">11</span> <span class=\"toctext\">Related Tags and Sections</span></a></li>\n<li class=\"toclevel-1 tocsection-12\"><a href=\"#References\"><span class=\"tocnumber\">12</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span id=\"IBRION=-1:_no_update.\"></span><span class=\"mw-headline\" id=\"IBRION.3D-1:_no_update.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">-1</span>: no update.</span></span></h2>\n<p>The ions are not moved, but <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> outer loops are performed. In each outer loop the electronic degrees of freedom are re-optimized (for <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>&amp;gt;<span><span class=\"tag-value\">0</span> this obviously does not make much sense, except for test purposes). If no ionic update is required use </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>=<span><span class=\"tag-value\">0</span> instead.\n</span></p>\n<h2><span id=\"IBRION=0:_molecular_dynamics.\"></span><span class=\"mw-headline\" id=\"IBRION.3D0:_molecular_dynamics.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">0</span>: molecular dynamics.</span></span></h2>\n<p>Standard ab-initio molecular dynamics. A Verlet algorithm (or fourth-order predictor-corrector if VASP was linked with stepprecor.o) is used to integrate Newton's equations of motion. <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> supplies the timestep in femto seconds. The parameter <a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a> provides additional control.\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> <a href=\"https://www.vasp.at/wiki/index.php/NWRITE\" title=\"NWRITE\" class=\"tag-link\">NWRITE</a>=<span><span class=\"tag-value\">0</span>,1\n</span></div><h2><span id=\"IBRION=1:_ionic_relaxation_(RMM-DIIS).\"></span><span class=\"mw-headline\" id=\"IBRION.3D1:_ionic_relaxation_.28RMM-DIIS.29.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">1</span>: ionic relaxation (RMM-DIIS).</span></span></h2>\n<p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">1</span>, a quasi-Newton (variable metric) algorithm is used to relax the ions into their instantaneous groundstate. The forces and the stress tensor are used to determine the search directions for finding the equilibrium positions (the total energy is not taken into account). This algorithm is very fast and efficient close to local minima, but fails badly if the initial positions are a bad guess (use </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">2</span> in that case). Since the algorithm builds up an approximation of the Hessian matrix it requires very accurate forces, otherwise it will fail to converge. An efficient way to achieve this is to set </span><a href=\"https://www.vasp.at/wiki/index.php/NELMIN\" title=\"NELMIN\" class=\"tag-link\">NELMIN</a> to a value between 4 and 8 (for simple bulk materials 4 is usually adequate, whereas 8 might be required for complex surfaces where the charge density converges very slowly). This forces a minimum of 4 to 8 electronic steps between each ionic step, and guarantees that the forces are well converged at each step.\n</p><p>The implemented algorithm is called RMM-DIIS.<sup id=\"cite_ref-pulay:cpl:1980_1-0\" class=\"reference\"><a href=\"#cite_note-pulay:cpl:1980-1\">[1]</a></sup> It implicitly calculates an approximation of the inverse Hessian matrix by taking into account information from previous iterations. On startup, the initial Hessian matrix is diagonal and equal to <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>. Information from old steps (which can lead to linear dependencies) is automatically removed from the iteration history, if required. The number of vectors kept in the iterations history (which corresponds to the rank of the Hessian matrix must not exceed the degrees of freedom. Naively the number of degrees of freedom is 3(NIONS-1). But symmetry arguments or constraints can reduce this number significantly.\n</p><p>There are two algorithms build in to remove information from the iteration history:\n</p>\n<ol><li>If <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a> is set in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, only up to <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a> ionic steps are kept in the iteration history (the rank of the approximate Hessian matrix is not larger than <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a>).</li>\n<li>If <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a> is not specified, the criterion whether information is removed from the iteration history is based on the eigenvalue spectrum of the inverse Hessian matrix: if one eigenvalue of the inverse Hessian matrix is larger than 8, information from previous steps is discarded.</li></ol>\n<p>For complex problems <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a> can usually be set to a rather large value (i.e. 10-20), however systems of low dimensionality require a carful setting of <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a> (or preferably an exact counting of the number of degrees of freedom). To increase <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a> beyond 20 rarely improves convergence. If <a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a> is set to too large, the RMM-DIIS algorithm might diverge.\n</p><p>The choice of a reasonable <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> is also important and can speed up calculations significantly, we recommend to find an optimal <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">2</span> or performing a few test calculations (see below).\n</span></p>\n<h2><span id=\"IBRION=2:_ionic_relaxation_(conjugate_gradient_algorithm).\"></span><span class=\"mw-headline\" id=\"IBRION.3D2:_ionic_relaxation_.28conjugate_gradient_algorithm.29.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">2</span>: ionic relaxation (conjugate gradient algorithm).</span></span></h2>\n<p>A conjugate-gradient algorithm (a discussion of this algorithm can be found for instance in <i>Numerical Recipes</i>, by Press <i>et al.</i><sup id=\"cite_ref-press:book:1986_2-0\" class=\"reference\"><a href=\"#cite_note-press:book:1986-2\">[2]</a></sup>) is used to relax the ions into their instantaneous groundstate. In the first step ions (and cell shape) are changed along the direction of the steepest descent (i.e. the direction of the calculated forces and stress tensor). The conjugate gradient method requires a line minimization, which is performed in several steps: \n</p>\n<ol><li>First a trial step into the search direction (scaled gradients) is done, with the length of the trial step controlled by the <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> tag. Then the energy and the forces are recalculated.</li>\n<li>The approximate minimum of the total energy is calculated from a cubic (or quadratic) interpolation taking into account the change of the total energy and the change of the forces (3 pieces of information), then a corrector step to the approximate minimum is performed.</li>\n<li>After the corrector step the forces and energy are recalculated and it is checked whether the forces contain a significant component parallel to the previous search direction. If this is the case, the line minimization is improved by further corrector steps using a variant of Brent's algorithm.<sup id=\"cite_ref-press:book:1986_2-1\" class=\"reference\"><a href=\"#cite_note-press:book:1986-2\">[2]</a></sup></li></ol>\n<p>To summarize: In the first ionic step the forces are calculated for the initial configuration read from the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, the second step is a trial (or predictor step), the third step is a corrector step. If the line minimization is sufficiently accurate in this step, the next trial step is performed.\n</p>\n<dl><dd>NSTEP:\n<ol><li>initial positions</li>\n<li>trial step</li>\n<li>corrector step, i.e. positions corresponding to anticipated minimum</li>\n<li>trial step</li>\n<li>corrector step</li></ol>\n<dl><dd>...</dd></dl></dd></dl>\n<h2><span id=\"IBRION=3:_ionic_relaxation_(damped_molecular_dynamics).\"></span><span class=\"mw-headline\" id=\"IBRION.3D3:_ionic_relaxation_.28damped_molecular_dynamics.29.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">3</span>: ionic relaxation (damped molecular dynamics).</span></span></h2>\n<p>If a damping factor is supplied in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file by means of the <a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a> tag, a damped second order equation of motion is used for the update of the ionic degrees of freedom:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\ddot {\\vec {x}}}=-2\\alpha {\\vec {F}}-\\mu {\\dot {\\vec {x}}},}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mi>x</mi>\n                  <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n                </mover>\n              </mrow>\n              <mo>&#168;<!-- &#168; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>2</mn>\n        <mi>&#945;<!-- &#945; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>F</mi>\n              <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#956;<!-- &#956; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mi>x</mi>\n                  <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n                </mover>\n              </mrow>\n              <mo>&#729;<!-- &#729; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\ddot {\\vec {x}}}=-2\\alpha {\\vec {F}}-\\mu {\\dot {\\vec {x}}},}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/55c740509ad32102ad27186470b1f3f05bceadb3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:16.876ex; height:3.343ex;\" alt=\"{{\\ddot  {{\\vec  x}}}}=-2\\alpha {{\\vec  F}}-\\mu {{\\dot  {{\\vec  x}}}},\"></span></dd></dl>\n<p>where <a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a> supplies the damping factor &#956;, and <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> controls &#945;. A simple velocity Verlet algorithm is used to integrate the equation, the discretised equation reads: \n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}{{\\vec {v}}_{N+1/2}}=&{\\Big (}(1-\\mu /2){{\\vec {v}}_{N-1/2}}-2\\alpha {{\\vec {F}}_{N}}{\\Big )}/(1+\\mu /2)\\\\{{\\vec {x}}_{N+1}}=&{{\\vec {x}}_{N+1}}+{{\\vec {v}}_{N+1/2}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mover>\n                          <mi>v</mi>\n                          <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n                        </mover>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>N</mi>\n                      <mo>+</mo>\n                      <mn>1</mn>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo>/</mo>\n                      </mrow>\n                      <mn>2</mn>\n                    </mrow>\n                  </msub>\n                </mrow>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mo maxsize=\"1.623em\" minsize=\"1.623em\">(</mo>\n                  </mrow>\n                </mrow>\n                <mo stretchy=\"false\">(</mo>\n                <mn>1</mn>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>&#956;<!-- &#956; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mn>2</mn>\n                <mo stretchy=\"false\">)</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mover>\n                          <mi>v</mi>\n                          <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n                        </mover>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>N</mi>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <mn>1</mn>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo>/</mo>\n                      </mrow>\n                      <mn>2</mn>\n                    </mrow>\n                  </msub>\n                </mrow>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mn>2</mn>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mover>\n                          <mi>F</mi>\n                          <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n                        </mover>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>N</mi>\n                    </mrow>\n                  </msub>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mo maxsize=\"1.623em\" minsize=\"1.623em\">)</mo>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mo stretchy=\"false\">(</mo>\n                <mn>1</mn>\n                <mo>+</mo>\n                <mi>&#956;<!-- &#956; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mn>2</mn>\n                <mo stretchy=\"false\">)</mo>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mover>\n                          <mi>x</mi>\n                          <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n                        </mover>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>N</mi>\n                      <mo>+</mo>\n                      <mn>1</mn>\n                    </mrow>\n                  </msub>\n                </mrow>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mover>\n                          <mi>x</mi>\n                          <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n                        </mover>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>N</mi>\n                      <mo>+</mo>\n                      <mn>1</mn>\n                    </mrow>\n                  </msub>\n                </mrow>\n                <mo>+</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mover>\n                          <mi>v</mi>\n                          <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n                        </mover>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>N</mi>\n                      <mo>+</mo>\n                      <mn>1</mn>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo>/</mo>\n                      </mrow>\n                      <mn>2</mn>\n                    </mrow>\n                  </msub>\n                </mrow>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}{{\\vec {v}}_{N+1/2}}=&amp;{\\Big (}(1-\\mu /2){{\\vec {v}}_{N-1/2}}-2\\alpha {{\\vec {F}}_{N}}{\\Big )}/(1+\\mu /2)\\\\{{\\vec {x}}_{N+1}}=&amp;{{\\vec {x}}_{N+1}}+{{\\vec {v}}_{N+1/2}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e4ccfef5338f0f7ce73082b2c07b0024f63ba444\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.211ex; margin-bottom: -0.294ex; width:48.396ex; height:8.176ex;\" alt=\"{\\begin{aligned}{{\\vec  v}_{{N+1/2}}}=&{\\Big (}(1-\\mu /2){{\\vec  v}_{{N-1/2}}}-2\\alpha {{\\vec  F}_{N}}{\\Big )}/(1+\\mu /2)\\\\{{\\vec  x}_{{N+1}}}=&{{\\vec  x}_{{N+1}}}+{{\\vec  v}_{{N+1/2}}}\\end{aligned}}\"></span></dd></dl>\n<p>One may immediately recognize, that &#956;=2 is equivalent to a simple steepest descent algorithm (of course without line optimization). Hence, &#956;=2 corresponds to maximal damping, &#956;=0 corresponds to no damping. The optimal damping factor depends on the Hessian matrix (matrix of the second derivatives of the energy with respect to the atomic positions). A reasonable first guess for &#956; is usually 0.4.\n</p><p>Mind that our implementation is particular user-friendly, since changing &#956; usually does not require to re-adjust the time step <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>. To choose an optimal time step and damping factor, we recommend the following two step procedure: First fix &#956; (for instance to 1) and adjust <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>. <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> should be chosen as large as possible without getting divergence in the total energy. Then decrease &#956; and keep <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> fixed. If <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> and <a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a> are chosen correctly, the damped molecular dynamics mode usually outperforms the conjugate gradient method by a factor of two.\n</p><p>If <a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a> is not set in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file (respectively <a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>&amp;lt;<span><span class=\"tag-value\">0)</span>, a velocity quench algorithm is used. In this case the ionic positions are updated according using the following algorithm: </span><b>F</b> are the current forces, and &#945; equals <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>. This equation implies that, if the forces are antiparallel to the velocities, the velocities are quenched to zero. Otherwise the velocities are made parallel to the present forces, and they are increased by an amount that is proportional to the forces.\n</p><p><b>Mind</b>: For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">3</span>, a reasonable time step </span><i>must</i> be supplied by the <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> parameter. Too large time steps will result in divergence, too small ones will slow down the convergence. The stable time step is usually twice the <i>smallest</i> line minimization step in the conjugate gradient algorithm.\n</p><p><span id=\"ibrion56\">\n</span></p>\n<h2><span id=\"IBRION=5_and_6:_second_derivatives,_Hessian_matrix_and_phonon_frequencies_(finite_differences).\"></span><span class=\"mw-headline\" id=\"IBRION.3D5_and_6:_second_derivatives.2C_Hessian_matrix_and_phonon_frequencies_.28finite_differences.29.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">5</span> and 6: second derivatives, Hessian matrix and phonon frequencies (finite differences).</span></span></h2>\n<p>When <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">5</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">6</span> are set VASP computes the second order derivatives of the total energy with respect to the position of the ions using a </span><a href=\"https://www.vasp.at/wiki/index.php/Phonons_from_finite_differences\" title=\"Phonons from finite differences\">finite differences approach</a>,\nthe dynamical matrix is constructed and diagonalized and the phonon modes and frequencies of the system are reported in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">5</span> does not apply symmetry, whereas </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">6</span> uses symmetry to reduce the number of displacements.\n</span></p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">6</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>&amp;gt;<span><span class=\"tag-value\">=3</span> the elastic and internal strain tensors are computed as well.\n</span></p><p>Born effective charges, piezoelectric constants, and the ionic contribution to the dielectric tensor can be\ncalculated additionally by specifying <a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>=<span><span class=\"tag-value\">.TRUE.</span> (linear response theory) or </span><a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>=<span><span class=\"tag-value\">.TRUE.</span> (finite external field).\n\n</span></p><p><span id=\"ibrion78\">\n</span></p>\n<h2><span id=\"IBRION=7_and_8:_second_derivatives,_Hessian_matrix,_and_phonon_frequencies_(perturbation_theory).\"></span><span class=\"mw-headline\" id=\"IBRION.3D7_and_8:_second_derivatives.2C_Hessian_matrix.2C_and_phonon_frequencies_.28perturbation_theory.29.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">7</span> and 8: second derivatives, Hessian matrix, and phonon frequencies (perturbation theory).</span></span></h2>\n<p>When <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">7</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">8</span> are set VASP computes second derivatives of the total energy with respect to the position of the ions using </span><a href=\"https://www.vasp.at/wiki/index.php/Phonons_from_density-functional-perturbation_theory\" title=\"Phonons from density-functional-perturbation theory\">density-functional-perturbation theory</a> (DFPT),\nthe dynamical matrix is constructed and diagonalized and the phonon modes and frequencies of the system are reported in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">7</span> does not apply symmetry, whereas </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">8</span> uses symmetry to reduce the number of displacements.\n</span></p><p>The output is similar for <a href=\"https://www.vasp.at/wiki/index.php/IBRION#ibrion56\" title=\"IBRION\"><b>IBRION</b>=5 and 6</a> with the exception that it does not determine the elastic tensors, since the linear response with respect to the strain tensor is not implemented.\n\n</p>\n<h2><span id=\"IBRION=40:_calculation_of_energy_profile_along_IRC.\"></span><span class=\"mw-headline\" id=\"IBRION.3D40:_calculation_of_energy_profile_along_IRC.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">40</span>: calculation of energy profile along IRC.</span></span></h2>\n<p>This method is described in the <a href=\"https://www.vasp.at/wiki/index.php/IRC_calculations\" title=\"IRC calculations\">IRC calculations</a> section.\n</p>\n<h2><span id=\"IBRION=44:_the_Improved_Dimer_Method.\"></span><span class=\"mw-headline\" id=\"IBRION.3D44:_the_Improved_Dimer_Method.\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">44</span>: the Improved Dimer Method.</span></span></h2>\n<p>This method is described in the <a href=\"https://www.vasp.at/wiki/index.php/Improved_Dimer_Method\" title=\"Improved Dimer Method\">Improved Dimer Method</a> section.\n</p>\n<h2><span class=\"mw-headline\" id=\"Some_general_comments\">Some general comments</span></h2>\n<p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">1</span>, 2, and 3, the flag </span><a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a> determines whether the ions and/or the cell shape is changed. Update of the cell shape is supported for molecular dynamics (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">0)</span> only if the dynamics module of Tomas Bucko (precompiler flag </span><tt>-Dtbdyn</tt>) is used.\n</p><p>Within all relaxation algorithms (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">1</span>, 2, and 3) the parameter </span><a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> should be supplied in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>&amp;gt;<span><span class=\"tag-value\">0</span>, </span><i>the forces are scaled internally before calling the minimization routine</i>. Therefore for relaxations, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> has no physical meaning and serves only as a scaling factor. For many systems, the optimal <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> is around 0.5. Because the Quasi-Newton algorithm and the damped algorithms are sensitive to the choice of this parameter, use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">2</span>, if you are not sure how large the optimal </span><a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> is.\n</p><p>In this case, the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file and <tt>stdout</tt> will contain a line indicating a reliable <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>. For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">2</span>, the following lines will be written to </span><tt>stdout</tt> after each corrector step (usually each odd step):\n</p>\n<pre> trial: gam=  .00000 g(F)=   .152E+01 g(S)=  .000E+00 ort = .000E+00\n (trialstep = .82)\n</pre>\n<p>The quantity <tt>gam</tt> is the conjugation parameter to the previous step, <tt>g(F)</tt> and <tt>g(S)</tt> are the norm of the force respectively the norm of the stress tensor. The quantity <tt>ort</tt> is an indicator whether this search direction is orthogonal to the last search direction (for an optimal step this quantity should be much smaller than <tt>(g(F) + g(S))</tt>. The quantity <tt>trialstep</tt> is the size of the current trialstep. This value is the average step size leading to a line minimization in the previous ionic step. An optimal <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> can be determined, by multiplying the current <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a> with the quantity trialstep.\n</p><p>After at the end of a trial step, the following lines are written to <tt>stdout</tt>:\n</p>\n<pre> trial-energy change:   -1.153185  1.order   -1.133   -1.527  -.739\n step:   1.7275(harm=  2.0557)  dis=  .12277  \n                            next Energy= -1341.57 (dE= -.142E+01)\n</pre>\n<p>The quantity <tt>trial-energy</tt> change is the change of the energy in the trial step. The first value after <tt>1.order</tt> is the expected energy change calculated from the forces: (<b>F</b>(start)+<b>F</b>(trial))/2&#215;change of positions. The second and third value corresponds to  <b>F</b>(start)&#215;change of positions, and <b>F</b>(trial)&#215;change of positions.\n</p><p>The first value in the second line is the size of the step leading to a line minimization along the current search direction. It is calculated from a third order interpolation formula using data from the start and trial step (forces and energy change). <tt>harm</tt> is the optimal step using a second order (or harmonic) interpolation. Only information on the forces is used for the harmonic interpolation. Close to the minimum both values should be similar. <tt>dis</tt> is the maximum distance moved by the ions in fractional (direct) coordinates. <tt>next Energy</tt> gives an indication how large the next energy should be (i.e. the energy at the minimum of the line minimization), dE is the estimated energy change.\n</p><p>The <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file will contain the following lines, at the end of each trial step:\n</p>\n<pre> trial-energy change:   -1.148928  1.order   -1.126  -1.518  -.735\n  (g-gl).g =  .152E+01      g.g   =  .152E+01  gl.gl    =  .000E+00\n g(Force)  =  .152E+01   g(Stress)=  .000E+00 ortho     =  .000E+00\n gamma     =    .00000\n opt step  =   1.72745  (harmonic =   2.05575) max dist = .12277085\n next E    = -1341.577507   (d E  =   1.42496)\n</pre>\n<p>The line <tt>trial-energy change</tt> was already discussed. <tt>g(Force)</tt> corresponds to <tt>g(F)</tt>, <tt>g(Stress)</tt> to <tt>g(S)</tt>, <tt>ortho</tt> to <tt>ort</tt>, <tt>gamma</tt> to <tt>gam</tt>. The values after <tt>gamma</tt> correspond to the second line (<tt>step:</tt> ...) previously described.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NFREE\" title=\"NFREE\" class=\"tag-link\">NFREE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Improved_Dimer_Method\" title=\"Improved Dimer Method\">Improved Dimer Method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IBRION%22_incategory:%22Examples%22\" title='Special:Search/\"IBRION\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-pulay:cpl:1980-1\"><a href=\"#cite_ref-pulay:cpl:1980_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1016/0009-2614(80)80396-4\">P. Pulay, Chem. Phys. Lett. <b>73</b>, 393 (1980).</a></span>\n</li>\n<li id=\"cite_note-press:book:1986-2\">&#8593; <sup><a href=\"#cite_ref-press:book:1986_2-0\">a</a></sup> <sup><a href=\"#cite_ref-press:book:1986_2-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://archive.org/details/numericalrecipes00pres\">W. H. Press, B. P. Flannery, S. A. Teukolsky, and W. T. Vetterling, em Numerical Recipes (Cambridge University Press, New York, 1986).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-12-07T10:12:49Z"}, "SMASS": {"datatype": "string", "default": "-3", "options": {"-3": null, "-2": null, "-1": null, "[real] &ge; 0": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a> controls the velocities during an ab-initio molecular-dynamics run.</span>", "id": 172, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>=<span class=\"tag-value\">-3</span></li></ul>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>=<span><span class=\"tag-value\">-3</span> a micro canonical ensemble (</span><a href=\"https://www.vasp.at/wiki/index.php/NVE_ensemble\" title=\"NVE ensemble\">NVE ensemble</a>) is simulated (constant energy molecular dynamics). The calculated Hellmann-Feynman forces serve as an acceleration acting onto the ions. The total free energy (i.e. free electronic energy + Madelung energy of ions + kinetic energy of ions) is conserved. <b>Mind</b>: This option only works with <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">0</span> (not with </span><a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">2)</span> and is hence rather considered as obsolete. To calculate an </span><a href=\"https://www.vasp.at/wiki/index.php/NVE_ensemble\" title=\"NVE ensemble\">NVE_ensemble</a> we recommend the user to use <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">1</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a>=<span><span class=\"tag-value\">0</span>.0.</span></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>=<span class=\"tag-value\">-2</span></li></ul>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>=<span><span class=\"tag-value\">-2</span> the initial velocities are kept constant. This allows to calculate the energy for a set of different linear dependent positions (for instance frozen phonons, or dimers with varying bond-length).</span></dd>\n<dd><b>Mind</b>: if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>=<span><span class=\"tag-value\">-2</span> the actual steps taken are </span><a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>&#215;(velocities-read-from-the-<a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a>-file). To avoid ambiguities, set <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>=<span><span class=\"tag-value\">1</span>.</span></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>=<span class=\"tag-value\">-1</span></li></ul>\n<dl><dd>In this case the velocities are scaled each <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a> step (starting at the first step i.e. MOD(NSTEP,<a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>)=1) to the temperature: T=<a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>+(<a href=\"https://www.vasp.at/wiki/index.php/TEEND\" title=\"TEEND\" class=\"tag-link\">TEEND</a>-<a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>)&#215;NSTEP/<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>,</dd>\n<dd>where NSTEP is the current step (starting from 1). This allows a continuous increase or decrease of the kinetic energy. In the intermediate period a micro-canonical ensemble is simulated.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>&#8805;<span class=\"tag-value\">0</span></li></ul>\n<dl><dd>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>&#8805;<span><span class=\"tag-value\">0</span>, a canonical ensemble is simulated using the algorithm of Nos&#233;. The Nos&#233; mass controls the frequency of the temperature oscillations during the simulation.</span><sup id=\"cite_ref-nose:jcp:1984_1-0\" class=\"reference\"><a href=\"#cite_note-nose:jcp:1984-1\">[1]</a></sup><sup id=\"cite_ref-nose:ptp:1991_2-0\" class=\"reference\"><a href=\"#cite_note-nose:ptp:1991-2\">[2]</a></sup><sup id=\"cite_ref-bylander:prb:1992_3-0\" class=\"reference\"><a href=\"#cite_note-bylander:prb:1992-3\">[3]</a></sup> For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMASS\">SMASS</a>=<span><span class=\"tag-value\">0</span>, a Nos&#233;-mass corresponding to period of 40 time steps will be chosen. The Nos&#233;-mass should be set such that the induced temperature fluctuation show approximately the same frequencies as the typical 'phonon'-frequencies for the specific system. For liquids something like 'phonon'-frequencies might be obtained from the spectrum of the velocity auto-correlation function. If the ionic frequencies differ by an order of magnitude from the frequencies of the induced temperature fluctuations, Nos&#233; thermostat and ionic movement might decouple leading to a non canonical ensemble. The frequency of the approximate temperature fluctuations induced by the Nos&#233;-thermostat is written to the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file.</dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/TEEND\" title=\"TEEND\" class=\"tag-link\">TEEND</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SMASS%22_incategory:%22Examples%22\" title='Special:Search/\"SMASS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-nose:jcp:1984-1\"><a href=\"#cite_ref-nose:jcp:1984_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.447334\">S. Nos&#233;, J. Chem. Phys. <b>81</b>, 511 (1984).</a></span>\n</li>\n<li id=\"cite_note-nose:ptp:1991-2\"><a href=\"#cite_ref-nose:ptp:1991_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1143/PTPS.103.1\">S. Nos&#233;, Prog. Theor. Phys. Suppl. <b>103</b>, 1 (1991).</a></span>\n</li>\n<li id=\"cite_note-bylander:prb:1992-3\"><a href=\"#cite_ref-bylander:prb:1992_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.46.13756\">D. M. Bylander and L. Kleinman, Phys. Rev. B <b>46</b>, 13756 (1992).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n</div>", "last_revised": "2022-04-07T14:30:58Z"}, "TEBEG": {"datatype": "real", "default": "0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TEBEG\">TEBEG</a> sets the starting temperature (in K) for an ab-initio molecular dynamics run (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TEBEG\">IBRION</a>=<span><span class=\"tag-value\">0)</span> and other routines (e.g. {{TAG|Electron-phonon interactions from Monte-Carlo sampling}}).</span></span>", "id": 173, "info": "<div><p>If no initial velocities are supplied on the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, the velocities are set randomly according to a Maxwell-Boltzmann distribution at the initial temperature <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/TEBEG\">TEBEG</a>. Velocities are only used for molecular dynamics (<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0)</span>.\n</span></p><p><b>Mind</b>: If <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>&amp;gt;<span><span class=\"tag-value\">0</span> is used VASP defines the temperature as \n</span></p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle T={\\frac {1}{k_{B}T3(N_{\\rm {ions}}-N_{\\rm {constraints}})}}\\sum \\limits _{n}^{N_{\\rm {ions}}}M_{n}|{\\vec {v}}_{n}|^{2}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>T</mi>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <msub>\n                <mi>k</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>B</mi>\n                </mrow>\n              </msub>\n              <mi>T</mi>\n              <mn>3</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>N</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">i</mi>\n                    <mi mathvariant=\"normal\">o</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                    <mi mathvariant=\"normal\">s</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>N</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">c</mi>\n                    <mi mathvariant=\"normal\">o</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                    <mi mathvariant=\"normal\">s</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">r</mi>\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">i</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">s</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">i</mi>\n                  <mi mathvariant=\"normal\">o</mi>\n                  <mi mathvariant=\"normal\">n</mi>\n                  <mi mathvariant=\"normal\">s</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>M</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>v</mi>\n                <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n          </mrow>\n        </msub>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">|</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle T={\\frac {1}{k_{B}T3(N_{\\rm {ions}}-N_{\\rm {constraints}})}}\\sum \\limits _{n}^{N_{\\rm {ions}}}M_{n}|{\\vec {v}}_{n}|^{2}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3aa7563e3c1506918c2dc83ce08b1d00c3e58f26\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:44.053ex; height:7.343ex;\" alt=\"T={\\frac  {1}{k_{B}T3(N_{{{\\rm {ions}}}}-N_{{{\\rm {constraints}}}})}}\\sum \\limits _{{n}}^{{N_{{{\\rm {ions}}}}}}M_{n}|{\\vec  v}_{n}|^{2}.\"></span></dd></dl>\n<p>This temperature ist written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. \nDepending on the type of thermostat this temperature has to be rescaled to obtain the real simulation temperature. \n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover_thermostat\" title=\"Nose-Hoover thermostat\">Nose-Hoover thermostat</a>:</li></ul>\n<p>In this thermostat the number of degrees of freedom including constraines are already acounted for in the potential energy term. In this this method the center of mass is conserved. This lowers the degrees of freedom by one which is also taken into account in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. \n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/Andersen_thermostat\" title=\"Andersen thermostat\">Andersen thermostat</a>:</li></ul>\n<p>Same as for <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover_thermostat\" title=\"Nose-Hoover thermostat\">Nose-Hoover thermostat</a>.\n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/Langevin_thermostat\" title=\"Langevin thermostat\">Langevin thermostat</a>:</li></ul>\n<p>As for the <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover_thermostat\" title=\"Nose-Hoover thermostat\">Nose-Hoover thermostat</a> and <a href=\"https://www.vasp.at/wiki/index.php/Andersen_thermostat\" title=\"Andersen thermostat\">Andersen thermostat</a> in this thermostat the number of degrees of freedom including constraines are already acounted for. The center of mass is not conserved in this method, hence this method has 3 degrees of freedom more than the <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover_thermostat\" title=\"Nose-Hoover thermostat\">Nose-Hoover thermostat</a> and <a href=\"https://www.vasp.at/wiki/index.php/Andersen_thermostat\" title=\"Andersen thermostat\">Andersen thermostat</a>. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/TEEND\" title=\"TEEND\" class=\"tag-link\">TEEND</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22TEBEG%22_incategory:%22Examples%22\" title='Special:Search/\"TEBEG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-07T12:22:53Z"}, "TEEND": {"datatype": "real", "default": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TEBEG\">TEBEG</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TEEND\">TEEND</a> sets the final temperature (in K) for an ab-initio molecular-dynamics run (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TEEND\">IBRION</a>=<span class=\"tag-value\">0;</span> <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TEEND\">SMASS</a>=<span><span class=\"tag-value\">\u22121)</span>.</span></span>", "id": 174, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22TEEND%22_incategory:%22Examples%22\" title='Special:Search/\"TEEND\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-07T12:23:16Z"}, "NSIM": {"datatype": "integer", "default": "4", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSIM\">NSIM</a> sets the number of bands that are optimized simultaneously by the RMM-DIIS algorithm.</span>", "id": 175, "info": "<div><p>The RMM-DIIS algorithm (<a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">48)</span> works in a blocked mode. </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSIM\">NSIM</a> bands are optimized at the same time. This allows to use matrix-matrix operations instead of matrix-vector operation for the evaluations of the non local projection operators in real space, and might speed up calculations on some machines. There should be no difference in the total energy and the convergence behavior between <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSIM\">NSIM</a>=<span><span class=\"tag-value\">1</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSIM\">NSIM</a>&amp;gt;<span><span class=\"tag-value\">1</span>, only the performance should improve.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALU\" title=\"LSCALU\" class=\"tag-link\">LSCALU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\" title=\"LSCAAWARE\" class=\"tag-link\">LSCAAWARE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NSIM%22_incategory:%22Examples%22\" title='Special:Search/\"NSIM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:51:20Z"}, "WEIMIN": {"datatype": "real", "default": [["0.001", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>\u2265<span class=\"tag-value\">0</span>"], ["0", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span class=\"tag-value\">\u22121</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/WEIMIN\">WEIMIN</a> specifies the maximum weight for a band to be considered empty.</span>", "id": 177, "info": "<div><p>The tags <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/WEIMIN\">WEIMIN</a>, <a href=\"https://www.vasp.at/wiki/index.php/EBREAK\" title=\"EBREAK\" class=\"tag-link\">EBREAK</a>, and <a href=\"https://www.vasp.at/wiki/index.php/DEPER\" title=\"DEPER\" class=\"tag-link\">DEPER</a> allow fine-tuning of the iterative matrix diagonalization and are best not changed. They are optimized for a large variety of systems, and changing one of the parameters usually decreases performance or can even screw up the iterative matrix diagonalization totally.\nIn general, these tags control when the optimization of a single band is stopped within the iterative matrix diagonalization schemes:\n</p><p>Within all implemented iterative schemes a distinction between empty and occupied bands is made to speed up calculations. Unoccupied bands are optimized only twice, whereas occupied bands are optimized up to four times till another break criterion is met. Eigenvalue/eigenvector pairs for which the partial occupancies are smaller than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/WEIMIN\">WEIMIN</a> are treated as unoccupied states (and are thus only optimized twice).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/EBREAK\" title=\"EBREAK\" class=\"tag-link\">EBREAK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DEPER\" title=\"DEPER\" class=\"tag-link\">DEPER</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22WEIMIN%22_incategory:%22Examples%22\" title='Special:Search/\"WEIMIN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-06T16:07:12Z"}, "DEPER": {"datatype": "real", "default": "0.3", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/DEPER\">DEPER</a> specifies a relative stopping criterion for the optimization of an eigenvalue.</span>", "id": 178, "info": "<div><p>The tags <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/DEPER\">DEPER</a>, <a href=\"https://www.vasp.at/wiki/index.php/WEIMIN\" title=\"WEIMIN\" class=\"tag-link\">WEIMIN</a>, and <a href=\"https://www.vasp.at/wiki/index.php/EBREAK\" title=\"EBREAK\" class=\"tag-link\">EBREAK</a> allow fine tuning of the iterative matrix diagonalization, and are best not changed. They are optimized for a large variety of systems, and changing one of the parameters usually decreases performance or can even screw up the iterative matrix diagonalization totally.\nIn general, these tags control when the optimization of a single band is stopped within the iterative matrix diagonalization schemes:\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/DEPER\">DEPER</a> specifies a relative break-criterion: the optimization of a band is stopped after the energy change becomes smaller than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/DEPER\">DEPER</a> multiplied with the energy change in the first iterative optimization step. The maximum number of optimization steps is always 4.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/WEIMIN\" title=\"WEIMIN\" class=\"tag-link\">WEIMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EBREAK\" title=\"EBREAK\" class=\"tag-link\">EBREAK</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22DEPER%22_incategory:%22Examples%22\" title='Special:Search/\"DEPER\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:10:19Z"}, "EBREAK": {"datatype": "real", "default": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">EDIFF</a>/<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EDIFF\">NBANDS</a>/4</span>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EBREAK\">EBREAK</a> specifies an absolute stopping criterion for the optimization of an eigenvalue.</span>", "id": 179, "info": "<div><p>The tags <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EBREAK\">EBREAK</a>, <a href=\"https://www.vasp.at/wiki/index.php/DEPER\" title=\"DEPER\" class=\"tag-link\">DEPER</a>, and <a href=\"https://www.vasp.at/wiki/index.php/WEIMIN\" title=\"WEIMIN\" class=\"tag-link\">WEIMIN</a> allow fine tuning of the iterative matrix diagonalization, and are best not changed. They are optimized for a large variety of systems, and changing one of the parameters usually decreases performance or can even screw up the iterative matrix diagonalization totally.\nIn general, these tags control when the optimization of a single band is stopped within the iterative matrix diagonalization schemes:\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EBREAK\">EBREAK</a> determines whether a band is fully converged or not. Optimization of an eigenvalue/eigenvectors pair is stopped if the change in the eigenenergy is smaller than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EBREAK\">EBREAK</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/WEIMIN\" title=\"WEIMIN\" class=\"tag-link\">WEIMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DEPER\" title=\"DEPER\" class=\"tag-link\">DEPER</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EBREAK%22_incategory:%22Examples%22\" title='Special:Search/\"EBREAK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:11:01Z"}, "LWANNIER90": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\">LWANNIER90</a>=<span><span class=\"tag-value\">.TRUE.</span> switches on the interface between VASP and [http://www.wannier.org WANNIER90].</span></span>", "id": 180, "info": "<div><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWRITE_UNK\" title=\"LWRITE UNK\" class=\"tag-link\">LWRITE_UNK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWRITE_MMN_AMN\" title=\"LWRITE MMN AMN\" class=\"tag-link\">LWRITE_MMN_AMN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90_RUN\" title=\"LWANNIER90 RUN\" class=\"tag-link\">LWANNIER90_RUN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\" title=\"NUM WANN\" class=\"tag-link\">NUM_WANN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LWANNIER90%22_incategory:%22Examples%22\" title='Special:Search/\"LWANNIER90\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T11:53:12Z"}, "LWANNIER90_RUN": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWANNIER90_RUN\">LWANNIER90_RUN</a> executes <tt>wannier_setup</tt> (see <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWANNIER90_RUN\">LWANNIER90</a>=<span><span class=\"tag-value\">.TRUE.</span>) and subsequently runs [http://www.wannier.org WANNIER90] in library mode (</span><tt>wannier_run</tt>).</span>", "id": 181, "info": "<div><p>For details on the execution of <tt>wannier_setup</tt> in VASP, see the description of the <a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\" title=\"LWANNIER90\" class=\"tag-link\">LWANNIER90</a>-tag.\nFor information on the many tags one may set in the <a href=\"https://www.vasp.at/wiki/index.php?title=Wannier90.win&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Wannier90.win (page does not exist)\">wannier90.win</a> file to control the execution of WANNIER90 (be it standalone or in library mode) we refer to the <a rel=\"nofollow\" class=\"external text\" href=\"http://www.wannier.org/doc/user_guide.pdf\">WANNIER90 manual</a>.\n</p><p><b>Mind</b>: when running WANNIER90 in library mode, the <a href=\"https://www.vasp.at/wiki/index.php?title=Wannier90.mmn&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Wannier90.mmn (page does not exist)\">wannier90.mmn</a> and <a href=\"https://www.vasp.at/wiki/index.php?title=Wannier90.amn&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Wannier90.amn (page does not exist)\">wannier90.amn</a> files are not written. The information these files normally contain is passed on to <tt>wannier_run</tt> internally. If you want these files to be written anyway, for instance to be able to run WANNIER90 standalone later on, one should add\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/LWRITE_MMN_AMN\" title=\"LWRITE MMN AMN\" class=\"tag-link\">LWRITE_MMN_AMN</a>=<span class=\"tag-value\">.TRUE.</span>\n</pre>\n<p>to the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\" title=\"LWANNIER90\" class=\"tag-link\">LWANNIER90</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWRITE_MMN_AMN\" title=\"LWRITE MMN AMN\" class=\"tag-link\">LWRITE_MMN_AMN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWRITE_UNK\" title=\"LWRITE UNK\" class=\"tag-link\">LWRITE_UNK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\" title=\"NUM WANN\" class=\"tag-link\">NUM_WANN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LWANNIER90_RUN%22_incategory:%22Examples%22\" title='Special:Search/\"LWANNIER90 RUN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T11:53:23Z"}, "LWRITE_MMN_AMN": {"datatype": "boolean", "default": [[".TRUE.", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\">LWANNIER90</a>=<span class=\"tag-value\">.TRUE.</span>"], [".FALSE.", "otherwise"]], "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWRITE_MMN_AMN\">LWRITE_MMN_AMN</a>=<span><span class=\"tag-value\">.TRUE.</span> tells the VASP2WANNIER90 interface to write the </span><b>wannier90.mmn</b> and <b>wannier90.amn</b> files.</span>", "id": 182, "info": "<div><p>When running WANNIER90 in library mode (<a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90_RUN\" title=\"LWANNIER90 RUN\" class=\"tag-link\">LWANNIER90_RUN</a>=<span><span class=\"tag-value\">.TRUE.</span>), the </span><b>wannier90.mmn</b> and <b>wannier90.amn</b> files are not written. The information these files normally contain is passed on to <tt>wannier_run</tt> internally. If you want these files to be written anyway, for instance, to be able to run WANNIER90 standalone later on, set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWRITE_MMN_AMN\">LWRITE_MMN_AMN</a>=<span><span class=\"tag-value\">.TRUE.</span> in the </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\" title=\"LWANNIER90\" class=\"tag-link\">LWANNIER90</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90_RUN\" title=\"LWANNIER90 RUN\" class=\"tag-link\">LWANNIER90_RUN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LWRITE_MMN_AMN%22_incategory:%22Examples%22\" title='Special:Search/\"LWRITE MMN AMN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T11:55:28Z"}, "ISMEAR": {"datatype": "string", "default": "1", "options": {"-5": null, "-4": null, "-3": null, "-2": null, "-1": null, "0": null, "[integer]>0": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a> determines how the partial occupancies <i>f</i><sub>n<b>k</b></sub> are set for each orbital. <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">SIGMA</a> determines the width of the smearing in eV.</span>", "id": 183, "info": "<div><div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Tag_options\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Tag options</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#How_to_set_ISMEAR\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">How to set ISMEAR</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#Summary\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Summary</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Related_tags_and_articles\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Related tags and articles</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Tag_options\">Tag options</span></h2>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<i>N</i> (<i>N</i>&gt;0): method of Methfessel-Paxton order <i>N</i>.</li></ul>\n<dl><dd><b>Mind</b>: For the Methfessel-Paxton scheme the partial occupancies can be negative, as well as larger than 1. This can yield erroneous results for insulators.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">0</span>: Gaussian smearing.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">&#8722;1</span>: Fermi smearing.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">&#8722;2</span>: partial occupancies are read in from the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> or <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, and kept fixed throughout run.</li></ul>\n<dl><dd>To set the occupancies, specify</dd></dl>\n<pre> <a href=\"https://www.vasp.at/wiki/index.php/FERWE\" title=\"FERWE\" class=\"tag-link\">FERWE</a>=<span><span class=\"tag-value\">f(1)</span> f(2) f(3) ... f(</span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>&#215;N<sub><b>k</b></sub>)\n</pre>\n<dl><dd>and for spin-polarized calculations, additionally</dd></dl>\n<pre> <a href=\"https://www.vasp.at/wiki/index.php/FERDO\" title=\"FERDO\" class=\"tag-link\">FERDO</a>=<span><span class=\"tag-value\">f(1)</span> f(2) f(3) ... f(</span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>&#215;N<sub><b>k</b></sub>)\n</pre>\n<dl><dd>in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. The (partial) occupancies must be specified for all bands and k-points. The band-index runs fastest. The occupancies must be between 0 and 1 (for spin-polarized and non-spin-polarized calculations).</dd></dl>\n<dl><dd>The occupancies are even kept fixed during ionic relaxations or molecular dynamics simulations. However, keeping the orbital occupancies fixed, requires that the orbital order does not change during the self-consistency cycle or during the optimization of the orbitals. Imagine, for instance, that the eigenenergy of the 65th orbital moves below the orbital energy of the 64th orbital. Then the subspace diagonalization step will swap both orbitals, but the occupancies will remain as read from the INCAR file (this means that the originally unoccupied 65th orbital will move to the 64th place and it will hence become occupied). This problem can be often circumvented by specifying <a href=\"https://www.vasp.at/wiki/index.php/LDIAG\" title=\"LDIAG\" class=\"tag-link\">LDIAG</a>=<span><span class=\"tag-value\">.FALSE.</span> in the INCAR file.</span></dd></dl>\n<dl><dd>Note that the partial occupancies are also written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file, but in this case they are multiplied by 2, i.e. they are between 0 and 2.</dd></dl>\n<p><br>\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">&#8722;3</span>: perform a loop over smearing-parameters supplied in the </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.</li></ul>\n<dl><dd>In this case a tag</dd></dl>\n<pre> <a href=\"https://www.vasp.at/wiki/index.php/SMEARINGS\" title=\"SMEARINGS\" class=\"tag-link\">SMEARINGS</a>=<span class=\"tag-value\">ismear</span><sub>1</sub> sigma<sub>1</sub>  ismear<sub>2</sub> sigma<sub>2</sub>  ...\n</pre>\n<dl><dd>must be present in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, supplying different smearing parameters. <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a> has to be set to -1 and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> to the number of supplied pairs ismear<sub>i</sub>/sigma<sub>i</sub>. The first loop is done using the tetrahedron method with Bl&#246;chl corrections.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">&#8722;4</span>: tetrahedron method (use a </span><a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">&#915;-centered <b>k</b>-mesh</a>).</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">&#8722;5</span>: tetrahedron method with Bl&#246;chl corrections (use a </span><a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">&#915;-centered <b>k</b>-mesh</a>).</li></ul>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> <a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a> is ignored for the tetrahedron method.\n</div></dd></dl>\n<h2><span class=\"mw-headline\" id=\"How_to_set_ISMEAR\">How to set ISMEAR</span></h2>\n<p>For the calculation of the <i>total energy</i> in bulk materials, we recommend the tetrahedron method with Bl&#246;chl corrections (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">-5)</span>. This method also gives a good account of the electronic </span><a href=\"https://www.vasp.at/wiki/index.php/Category:Density_of_states\" title=\"Category:Density of states\">density of states</a> (DOS). The only drawback is that the method is not variational with respect to the partial occupancies. Therefore the calculated forces and the stress tensor can be wrong by up to 5 to 10% for metals. Only for semiconductors and insulators, the forces are correct because the partial occupancies do not vary and are either zero or one. For the calculation of forces and phonon frequencies in metals, we recommend the method of Methfessel-Paxton (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>&amp;gt;<span><span class=\"tag-value\">0)</span>. \nThe method of Methfessel-Paxton (</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>&amp;gt;<span><span class=\"tag-value\">0)</span> also results in a very accurate description of the total energy, nevertheless, the width of the smearing (</span><a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a>) must be chosen carefully. Too large smearing parameters might result in an incorrect total energy, small smearing parameters require a dense mesh of <b>k</b> points. <a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a> should be as large as possible, while keeping the difference between the free energy and the total energy (i.e. the term <tt>entropy T*S</tt>) in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file negligible (1 meV/atom). \n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5>  Avoid using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>&amp;gt;<span><span class=\"tag-value\">0</span> for semiconductors and insulators, since this often leads to incorrect results (the occupancies of some states might be smaller than 0, or larger than 1).\n</span></div><p> Errors for, e.g., phonons frequencies can be substantial, i.e., exceeding 20&#160;%. These errors are very hard to spot if you do not look carefully. For insulators, use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">0</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">-5</span>.\n</span></p><p>The Gaussian-smearing method leads to very reasonable results in most cases. Within this method it is necessary to extrapolate from finite <a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a> results to <a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a>=<span><span class=\"tag-value\">0</span> results. You can find an extra line in the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file: <tt>energy( SIGMA&#8594;0 )</tt>, giving the extrapolated results. Large <a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a> values lead to a similar error as the Methfessel-Paxton scheme, but in contrast to the Methfessel-Paxton scheme one can not determine how large the error due to the smearing is without systematically reducing <a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a>. In this respect, the method of Methfessel-Paxton is more convenient than the Gaussian smearing method. In addition, in the Gaussian smearing method forces and the stress tensor are consistent with the free energy and not the energy for <a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a>&#8594;0. Overall the Methfessel-Paxton method is somewhat easier to use for metallic systems.\n</p>\n<h3><span class=\"mw-headline\" id=\"Summary\">Summary</span></h3>\n<ul><li>If you have no a priori knowledge of your system, for instance, if you do not know whether your system is an insulator, semiconductor or metal then always use Gaussian smearing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">0</span> in combination with a small </span><a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a>=<span><span class=\"tag-value\">0</span>.03-0.05.</span></li></ul>\n<dl><dd>This is not the default in VASP yet, so to be on the safe side, you might want to include this setting in all your <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> files.</dd></dl>\n<ul><li>For semiconductors or insulators, use the tetrahedron method (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">-5)</span>, if the cell is too large (or if you use only a single or two </span><b>k</b> points) use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">0</span> in combination with a small </span><a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a>=<span><span class=\"tag-value\">0</span>.03-0.05.</span></li></ul>\n<ul><li>For relaxations <i>in metals</i>, use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">1</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">2</span> and an appropriate </span><a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a> value (the entropy term should be less than 1 meV per atom). For metals a reasonable value is often SIGMA= 0.2 (which is the default).</li></ul>\n<dl><dd><b>Mind again</b>: Avoid using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>&amp;gt;<span><span class=\"tag-value\">0</span> for semiconductors and insulators since it might cause severe problems.</span></dd></dl>\n<ul><li>For the calculations of the DOS and very accurate total-energy calculations (no relaxation in metals), use the tetrahedron method (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISMEAR\">ISMEAR</a>=<span><span class=\"tag-value\">-5)</span>.</span></li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/FERWE\" title=\"FERWE\" class=\"tag-link\">FERWE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/FERDO\" title=\"FERDO\" class=\"tag-link\">FERDO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMEARINGS\" title=\"SMEARINGS\" class=\"tag-link\">SMEARINGS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ISMEAR%22_incategory:%22Examples%22\" title='Special:Search/\"ISMEAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-28T07:06:26Z"}, "SIGMA": {"datatype": "real", "default": "0.2", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SIGMA\">SIGMA</a> specifies the width of the smearing in eV.</span>", "id": 184, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SIGMA%22_incategory:%22Examples%22\" title='Special:Search/\"SIGMA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-06T15:54:53Z"}, "FERWE": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERWE\">FERWE</a> sets the occupancies of the states for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERWE\">ISMEAR</a>=<span><span class=\"tag-value\">-2</span>.</span></span>", "id": 185, "info": "<div><p>To set the occupancies, specify\n</p>\n<pre> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERWE\">FERWE</a>=<span><span class=\"tag-value\">f(1)</span> f(2) f(3) ... f(</span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>&#215;N<sub><b>k</b></sub>)\n</pre>\n<p>The occupancies must be specified for all bands and k points. The band index runs fastest. The occupancies must be between 0 and 1.\n</p><p>In the case of spin-polarized calculations (<a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">2)</span>, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERWE\">FERWE</a> sets the occupancies of the states in the up-spin channel. Specify the occupancies of the states in the down-spin channel by means of the <a href=\"https://www.vasp.at/wiki/index.php/FERDO\" title=\"FERDO\" class=\"tag-link\">FERDO</a> tag.\n</p><p><br>\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> If the calculation stops with an error message when reading <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERWE\">FERWE</a>, then this may be due to an automatic increase of the number of bands <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> in parallel calculation (the new value of <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is indicated in the corresponding warning message). If this is the case, then the number of occupancies provided to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERWE\">FERWE</a> should be increased according to the new <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/FERDO\" title=\"FERDO\" class=\"tag-link\">FERDO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22FERWE%22_incategory:%22Examples%22\" title='Special:Search/\"FERWE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-06-06T13:17:30Z"}, "FERDO": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERDO\">FERDO</a> sets the occupancies of the states in the down-spin channel for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERDO\">ISMEAR</a>=<span><span class=\"tag-value\">-2</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERDO\">ISPIN</a>=<span><span class=\"tag-value\">2</span>.</span></span>", "id": 186, "info": "<div><p>To set the occupancies, specify\n</p>\n<pre> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERDO\">FERDO</a>=<span><span class=\"tag-value\">f(1)</span> f(2) f(3) ... f(</span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>&#215;N<sub><b>k</b></sub>)\n</pre>\n<p>The occupancies must be specified for all bands and k points. The band-index runs fastest. The occupancies must be between 0 and 1.\n</p><p>Specify the occupancies of the states in the spin-up channel by means of the <a href=\"https://www.vasp.at/wiki/index.php/FERWE\" title=\"FERWE\" class=\"tag-link\">FERWE</a> tag.\n</p><p><br>\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> If the calculation stops with an error message when reading <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERDO\">FERDO</a>, then this may be due to an automatic increase of the number of bands <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> in parallel calculation (the new value of <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is indicated in the corresponding warning message). If this is the case, then the number of occupancies provided to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FERDO\">FERDO</a> should be increased according to the new <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/FERWE\" title=\"FERWE\" class=\"tag-link\">FERWE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22FERDO%22_incategory:%22Examples%22\" title='Special:Search/\"FERDO\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-06-06T13:18:06Z"}, "SAXIS": {"datatype": "real array", "default": "(0+, 0, 1)", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a> specifies the quantisation axis for noncollinear spins.</span>", "id": 187, "info": "<div><p>The spin quantization axis may be specified by means of the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>-tag,\n</p>\n<pre> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>=<span class=\"tag-value\">s</span><sub>x</sub> s<sub>y</sub> s<sub>z</sub>    ! global spin quantisation axis\n</pre>\n<p>where the default for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>=<span><span class=\"tag-value\">(0+</span>,0,1) (the notation 0+ implies an infinitesimal small positive number in </span><i>x</i>-direction). All magnetic moments are now given with respect to the axis \n(s<sub>x</sub>,s<sub>y</sub>,s<sub>z</sub>), where we have adopted the convention <b>that all magnetic moments and spinor-like quantities written or read by VASP are given with respect to this axis</b>. This includes the <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> line in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, the total and local magnetizations in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a> file, the spinor-like orbitals in the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file, and the magnetization density in the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file. With respect to the Cartesian coordinates, the components of the magnetization are (internally) given by\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}^{\\rm {axis}}-\\sin(\\alpha )m_{y}^{\\rm {axis}}+\\sin(\\beta )\\cos(\\alpha )m_{z}^{\\rm {axis}}\\\\m_{y}&amp;=&amp;\\cos(\\beta )\\sin(\\alpha )m_{x}^{\\rm {axis}}+\\cos(\\alpha )m_{y}^{\\rm {axis}}+\\sin(\\beta )\\sin(\\alpha )m_{z}^{\\rm {axis}}\\\\m_{z}&amp;=&amp;-\\sin(\\beta )m_{x}^{\\rm {axis}}+\\cos(\\beta )m_{z}^{\\rm {axis}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>+</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>+</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}^{\\rm {axis}}-\\sin(\\alpha )m_{y}^{\\rm {axis}}+\\sin(\\beta )\\cos(\\alpha )m_{z}^{\\rm {axis}}\\\\m_{y}&amp;=&amp;\\cos(\\beta )\\sin(\\alpha )m_{x}^{\\rm {axis}}+\\cos(\\alpha )m_{y}^{\\rm {axis}}+\\sin(\\beta )\\sin(\\alpha )m_{z}^{\\rm {axis}}\\\\m_{z}&amp;=&amp;-\\sin(\\beta )m_{x}^{\\rm {axis}}+\\cos(\\beta )m_{z}^{\\rm {axis}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/edf141e29106026ec08481913d876755851abae1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.171ex; width:63.939ex; height:9.509ex;\" alt=\"{\\begin{aligned}m_{x}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}^{{{\\rm {axis}}}}-\\sin(\\alpha )m_{y}^{{{\\rm {axis}}}}+\\sin(\\beta )\\cos(\\alpha )m_{z}^{{{\\rm {axis}}}}\\\\m_{y}&amp;=&amp;\\cos(\\beta )\\sin(\\alpha )m_{x}^{{{\\rm {axis}}}}+\\cos(\\alpha )m_{y}^{{{\\rm {axis}}}}+\\sin(\\beta )\\sin(\\alpha )m_{z}^{{{\\rm {axis}}}}\\\\m_{z}&amp;=&amp;-\\sin(\\beta )m_{x}^{{{\\rm {axis}}}}+\\cos(\\beta )m_{z}^{{{\\rm {axis}}}}\\end{aligned}}\"></span></dd></dl>\n<p><br>\nWhere <i>m</i><sup>axis</sup> is the externally visible magnetic moment. Here, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b79333175c8b3f0840bfb4ec41b8072c83ea88d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.488ex; height:1.676ex;\" alt=\"\\alpha \"></span> is the angle between the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a> vector (s<sub>x</sub>,s<sub>y</sub>,s<sub>z</sub>) and the Cartesian vector <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {x}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>x</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {x}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/18d95a7845e4e16ffb7e18ab37a208d0ab18e0e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:2.176ex;\" alt=\"{\\hat  x}\"></span>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ed48a5e36207156fb792fa79d29925d2f7901e8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.332ex; height:2.509ex;\" alt=\"\\beta \"></span> is the angle between the vector <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a> and the Cartesian vector <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {z}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>z</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {z}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/722665b45e05afe79f4395a3de0237d8ce856273\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.296ex; height:2.176ex;\" alt=\"{\\hat  z}\"></span>:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}\\alpha &amp;=&{\\rm {atan}}{\\frac {s_{y}}{s_{x}}}\\\\\\beta &amp;=&{\\rm {atan}}{\\frac {\\sqrt {s_{x}^{2}+s_{y}^{2}}}{s_{z}}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <mi>&#945;<!-- &#945; --></mi>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mfrac>\n                    <msub>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>y</mi>\n                      </mrow>\n                    </msub>\n                    <msub>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>x</mi>\n                      </mrow>\n                    </msub>\n                  </mfrac>\n                </mrow>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <mi>&#946;<!-- &#946; --></mi>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mfrac>\n                    <msqrt>\n                      <msubsup>\n                        <mi>s</mi>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi>x</mi>\n                        </mrow>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mn>2</mn>\n                        </mrow>\n                      </msubsup>\n                      <mo>+</mo>\n                      <msubsup>\n                        <mi>s</mi>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi>y</mi>\n                        </mrow>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mn>2</mn>\n                        </mrow>\n                      </msubsup>\n                    </msqrt>\n                    <msub>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>z</mi>\n                      </mrow>\n                    </msub>\n                  </mfrac>\n                </mrow>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}\\alpha &amp;=&amp;{\\rm {atan}}{\\frac {s_{y}}{s_{x}}}\\\\\\beta &amp;=&amp;{\\rm {atan}}{\\frac {\\sqrt {s_{x}^{2}+s_{y}^{2}}}{s_{z}}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1caedb137796cb98845fa4ee429e1346d537f24a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -6.171ex; width:24.268ex; height:13.509ex;\" alt=\"{\\begin{aligned}\\alpha &amp;=&{{\\rm {atan}}}{\\frac  {s_{y}}{s_{x}}}\\\\\\beta &amp;=&{{\\rm {atan}}}{\\frac  {{\\sqrt  {s_{x}^{2}+s_{y}^{2}}}}{s_{z}}}\\end{aligned}}\"></span></dd></dl>\n<p>The inverse transformation is given by\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}m_{x}^{\\rm {axis}}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}+\\cos(\\beta )\\sin(\\alpha )m_{y}-\\sin(\\beta )m_{z}\\\\m_{y}^{\\rm {axis}}&amp;=&amp;-\\sin(\\alpha )m_{z}+\\cos(\\alpha )m_{y}\\\\m_{z}^{\\rm {axis}}&amp;=&amp;\\sin(\\beta )\\cos(\\alpha )m_{x}+\\sin(\\beta )\\sin(\\alpha )m_{y}+\\cos(\\beta )m_{z}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n                <mo>+</mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}m_{x}^{\\rm {axis}}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}+\\cos(\\beta )\\sin(\\alpha )m_{y}-\\sin(\\beta )m_{z}\\\\m_{y}^{\\rm {axis}}&amp;=&amp;-\\sin(\\alpha )m_{z}+\\cos(\\alpha )m_{y}\\\\m_{z}^{\\rm {axis}}&amp;=&amp;\\sin(\\beta )\\cos(\\alpha )m_{x}+\\sin(\\beta )\\sin(\\alpha )m_{y}+\\cos(\\beta )m_{z}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/297cf339eb8640754fb1025c25dc79e3c16dd188\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.026ex; margin-bottom: -0.312ex; width:59.78ex; height:9.843ex;\" alt=\"{\\begin{aligned}m_{x}^{{{\\rm {axis}}}}&amp;=&amp;\\cos(\\beta )\\cos(\\alpha )m_{x}+\\cos(\\beta )\\sin(\\alpha )m_{y}-\\sin(\\beta )m_{z}\\\\m_{y}^{{{\\rm {axis}}}}&amp;=&amp;-\\sin(\\alpha )m_{z}+\\cos(\\alpha )m_{y}\\\\m_{z}^{{{\\rm {axis}}}}&amp;=&amp;\\sin(\\beta )\\cos(\\alpha )m_{x}+\\sin(\\beta )\\sin(\\alpha )m_{y}+\\cos(\\beta )m_{z}\\end{aligned}}\"></span></dd></dl>\n<p>It is easy to see that for the default (s<sub>x</sub>,s<sub>y</sub>,s<sub>z</sub>)=(0+,0,1), both angles are zero, i.e. <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta =0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta =0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/60b5e78663eba7ba08e0dd4915251e6261f4f35c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:5.593ex; height:2.509ex;\" alt=\"\\beta =0\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha =0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha =0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/30cc00f65bbc630448311dd2dc82e7ce5e90985a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.749ex; height:2.176ex;\" alt=\"\\alpha =0\"></span>. In this case, the internal representation is simply equivalent to the external representation:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;m_{x}^{\\rm {axis}}\\\\m_{y}&amp;=&amp;m_{y}^{\\rm {axis}}\\\\m_{z}&amp;=&amp;m_{z}^{\\rm {axis}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <msubsup>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"normal\">a</mi>\n                      <mi mathvariant=\"normal\">x</mi>\n                      <mi mathvariant=\"normal\">i</mi>\n                      <mi mathvariant=\"normal\">s</mi>\n                    </mrow>\n                  </mrow>\n                </msubsup>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;m_{x}^{\\rm {axis}}\\\\m_{y}&amp;=&amp;m_{y}^{\\rm {axis}}\\\\m_{z}&amp;=&amp;m_{z}^{\\rm {axis}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/200596c4bf2f393e4e6290d4240396e8f68b828e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.005ex; width:16.131ex; height:9.176ex;\" alt=\"{\\begin{aligned}m_{x}&amp;=&amp;m_{x}^{{{\\rm {axis}}}}\\\\m_{y}&amp;=&amp;m_{y}^{{{\\rm {axis}}}}\\\\m_{z}&amp;=&amp;m_{z}^{{{\\rm {axis}}}}\\end{aligned}}\"></span></dd></dl>\n<p>The second important case, is <i>m</i><sup>axis</sup>=(0,0,<i>m</i>). In this case\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;\\sin(\\beta )*\\cos(\\alpha )m=ms_{x}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{y}&amp;=&amp;\\sin(\\beta )*\\sin(\\alpha )m=ms_{y}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{z}&amp;=&amp;\\cos(\\beta )m=ms_{z}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mo>&#8727;<!-- &#8727; --></mo>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>m</mi>\n                <mo>=</mo>\n                <mi>m</mi>\n                <msub>\n                  <mi>s</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>x</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msqrt>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>x</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>y</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>z</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                  </msqrt>\n                </mrow>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mo>&#8727;<!-- &#8727; --></mo>\n                <mi>sin</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>m</mi>\n                <mo>=</mo>\n                <mi>m</mi>\n                <msub>\n                  <mi>s</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>y</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msqrt>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>x</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>y</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>z</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                  </msqrt>\n                </mrow>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd>\n                <msub>\n                  <mi>m</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n              </mtd>\n              <mtd>\n                <mi>cos</mi>\n                <mo>&#8289;<!-- &#8289; --></mo>\n                <mo stretchy=\"false\">(</mo>\n                <mi>&#946;<!-- &#946; --></mi>\n                <mo stretchy=\"false\">)</mo>\n                <mi>m</mi>\n                <mo>=</mo>\n                <mi>m</mi>\n                <msub>\n                  <mi>s</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>z</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msqrt>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>x</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>y</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                    <mo>+</mo>\n                    <msubsup>\n                      <mi>s</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi>z</mi>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msubsup>\n                  </msqrt>\n                </mrow>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}m_{x}&amp;=&amp;\\sin(\\beta )*\\cos(\\alpha )m=ms_{x}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{y}&amp;=&amp;\\sin(\\beta )*\\sin(\\alpha )m=ms_{y}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{z}&amp;=&amp;\\cos(\\beta )m=ms_{z}/{\\sqrt {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cda4d8d4073bb36681ad115dec47b8cac56d9466\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -6.838ex; width:50.824ex; height:14.843ex;\" alt=\"{\\begin{aligned}m_{x}&amp;=&amp;\\sin(\\beta )*\\cos(\\alpha )m=ms_{x}/{\\sqrt  {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{y}&amp;=&amp;\\sin(\\beta )*\\sin(\\alpha )m=ms_{y}/{\\sqrt  {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\\\m_{z}&amp;=&amp;\\cos(\\beta )m=ms_{z}/{\\sqrt  {s_{x}^{2}+s_{y}^{2}+s_{z}^{2}}}\\end{aligned}}\"></span></dd></dl>\n<p><br>\nHence now the magnetic moment is parallel to the vector <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>. Thus there are two ways to rotate the spins in an arbitrary direction, either by changing the initial magnetic moments <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> or by changing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>.\n</p><p>To initialize calculations with the magnetic moment parallel to a chosen vector (<i>x</i>,<i>y</i>,<i>z</i>), it is therefore possible to either specify (assuming a single atom in the cell)\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>=<span><span class=\"tag-value\">x</span> y z   ! local magnetic moment in x,y,z\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>=<span><span class=\"tag-value\">0</span> 0 1   ! quantisation axis parallel to z\n</span></pre>\n<p>or\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>=<span><span class=\"tag-value\">0</span> 0 total_magnetic_moment   ! local magnetic moment parallel to </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>=<span><span class=\"tag-value\">x</span> y z   ! quantization axis parallel to vector (</span><i>x</i>,<i>y</i>,<i>z</i>)\n</pre>\n<p>Both setups should in principle yield exactly the same energy, but for implementation reasons the second method is usually more precise. The second method also allows to read a preexisting <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file (from a collinear or non collinear run), and to continue the calculation with a different spin orientation. When a non collinear <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file is read, the spin is assumed to be parallel to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a> (hence VASP will initially report a magnetic moment in the <i>z</i>-direction only).\n</p><p>The recommended procedure for the calculation of magnetic anisotropies is therefore (please check the section on <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>):\n</p>\n<ul><li>Start with a collinear calculation and calculate a <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file.</li>\n<li>Add the tags</li></ul>\n<pre>  <a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>=<span class=\"tag-value\">.TRUE.</span>\n  <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">11</span>      ! non selfconsistent run, read </span><a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a>\n  <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>=<span><span class=\"tag-value\">4</span>      ! for d-elements increase </span><a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> to 4, f-elements: <a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a>=<span><span class=\"tag-value\">6</span>\n                           ! you need to set </span><a href=\"https://www.vasp.at/wiki/index.php/LMAXMIX\" title=\"LMAXMIX\" class=\"tag-link\">LMAXMIX</a> already in the collinear calculation\n  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>=<span><span class=\"tag-value\">x</span> y z   ! direction of the magnetic field\n  </span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>=<span><span class=\"tag-value\">2</span> * number of bands of collinear run\n</span></pre>\n<p>VASP reads in the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> files, aligns the spin quantization axis parallel to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>, which implies that the magnetic field is now parallel to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a>, and performs a non selfconsistent calculation. By comparing the energies for different orientations the magnetic anisotropy can be determined. Please mind, that a completely selfconsistent calculation (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">1)</span> is in principle also possible with VASP, but this would allow the spinor wavefunctions to rotate from their initial orientation parallel to </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SAXIS\">SAXIS</a> until the correct groundstate is obtained, i.e. until the magnetic moment is parallel to the easy axis. In practice this rotation will be slow, however, since reorientation of the spin gains little energy. Therefore if the convergence criterion is not too tight, sensible results might be obtained even for fully selfconsistent calculations (in the few cases we have tried this worked beautifully).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\" title=\"LNONCOLLINEAR\" class=\"tag-link\">LNONCOLLINEAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SAXIS%22_incategory:%22Examples%22\" title='Special:Search/\"SAXIS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:54:31Z"}, "LORBIT": {"datatype": "integer", "default": "None", "options": {"0": null, "1": null, "2": null, "5": null, "10": null, "11": null, "12": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LORBIT\">LORBIT</a>, together with an appropriate <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LORBIT\">RWIGS</a>, determines whether the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PROCAR\">PROCAR</a> or <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PROCAR\">PROOUT</a> files are written.</span>", "id": 188, "info": "<div><dl><dd><table border=\"1\" cellspacing=\"0\" cellpadding=\"5\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LORBIT\">LORBIT</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a> tag</td>\n<td>files written\n</td></tr>\n<tr>\n<td>0</td>\n<td>required</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a>\n</td></tr>\n<tr>\n<td>1</td>\n<td>required</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <i>lm</i>-decomposed <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a>\n</td></tr>\n<tr>\n<td>2</td>\n<td>required</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <i>lm</i>-decomposed <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a> + phase factors\n</td></tr>\n<tr>\n<td>5</td>\n<td>required</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/PROOUT\" title=\"PROOUT\" class=\"tag-link\">PROOUT</a>\n</td></tr>\n<tr>\n<td>10</td>\n<td>ignored</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a>\n</td></tr>\n<tr>\n<td>11</td>\n<td>ignored</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <i>lm</i>-decomposed <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a>\n</td></tr>\n<tr>\n<td>12</td>\n<td>ignored</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <i>lm</i>-decomposed <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a> + phase factors\n</td></tr>\n<tr>\n<td>13</td>\n<td>ignored</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <i>lm</i>-decomposed <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a> + phase factors, choose best projector for each band\n</td></tr>\n<tr>\n<td>14</td>\n<td>ignored</td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a> and <i>lm</i>-decomposed <a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a> + phase factors, choose single projector for interval EMIN,EMAX\n</td></tr></tbody></table></dd></dl>\n<h3><span class=\"mw-headline\" id=\"Remarks:\">Remarks:</span></h3>\n<p>LORBIT=13 and LORBIT=14 are only supported by version &gt;=5.4.4. For LORBIT &gt;= 11 and ISYM = 2 the partial charge densities are not correctly symmetrized and can result in different charges for symmetrically equivalent partial charge densities. This issue is fixed as of version &gt;=6. For older versions of vasp a two-step procedure is recommended: \n</p>\n<ul><li>1. Self-consistent calculation with symmetry switched on (ISYM=2)</li>\n<li>2. Recalculation of the partial charge density with symmetry switched off (ISYM=0)</li></ul>\n<p>To avoid unnecessary large <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> files it recommended to set <a href=\"https://www.vasp.at/wiki/index.php/LWAVE\" title=\"LWAVE\" class=\"tag-link\">LWAVE</a>=<span><span class=\"tag-value\">.FALSE.</span> in step 2\n</span></p><p>The phase factors written by VASP can usually only be used as a qualitative measure of the projection of the orbitals into the atomic sphere. The main issue is\nthat most VASP POTCAR files have two or three projectors per l-quantum number, and projecting an orbital onto two projectors will obviously yield two complex numbers. VASP \ncombines these two numbers into a single number. The precise algorithms differ in different versions of VASP, and we recommend that you inspect the source\ncode for more details. From vasp.6 onward, a new improved scheme has been implemented and can be selected using LORBIT=14. In this case, VASP first\nselects a single projector for each l-quantum number by linearly combining all projectors with the same l-quantum number. This is done in such a way that the new projector is optimally chosen\nto represent the calculated orbitals in the energy interval specified by <a href=\"https://www.vasp.at/wiki/index.php/EMAX\" title=\"EMAX\" class=\"tag-link\">EMAX</a> and <a href=\"https://www.vasp.at/wiki/index.php/EMIN\" title=\"EMIN\" class=\"tag-link\">EMIN</a>. In the second step, VASP projects onto these optimized\nprojectors yielding a single complex number for each orbital, site and l-quantum number, which is written to the PROCAR file. For details we also refer to <sup id=\"cite_ref-Schuler:JPCM:2018_1-0\" class=\"reference\"><a href=\"#cite_note-Schuler:JPCM:2018-1\">[1]</a></sup>.\nLORBIT=12 should no longer be used except for qualitative calculations. LORBIT=13 chooses the projectors also automatically, but allows for different optimal linear combinations for each orbital.\nNote that this is generally not desirable, since the  resultant projection is not compatible with the required properties of a projection operator (a projection operator needs\nto use energy and orbital independent projectors).\nHence do not use LORBIT=13 for anything but a qualitative analysis.\n</p>\n<ul><li>If LORBIT is set the partial charge densities can be found in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\"><span style=\"color:black\">OUTCAR</span></a></li></ul>\n<pre>total charge     \n\n# of ion       s       p       d       tot\n------------------------------------------\n    1        1.514   0.000   0.000   1.514\n    2        0.123   0.345   0.000   0.468\n</pre>\n<p>Here the first column corresponds to the ion index <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b79333175c8b3f0840bfb4ec41b8072c83ea88d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.488ex; height:1.676ex;\" alt=\"\\alpha \"></span>, the s, p, d,... columns correspond to the partial charges for <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle l=0,1,2,\\cdots }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>l</mi>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mn>1</mn>\n        <mo>,</mo>\n        <mn>2</mn>\n        <mo>,</mo>\n        <mo>&#8943;<!-- &#8943; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle l=0,1,2,\\cdots }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0277f0a267d094897b867689262d1afac288ffa5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:13.104ex; height:2.509ex;\" alt=\"l=0,1,2,\\cdots \"></span> defined as\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{\\alpha l}={\\frac {1}{N_{\\bf {k}}}}\\sum _{n{\\bf {k}}}f_{n{\\bf {k}}}\\sum _{m=-l}^{l}|\\langle Y_{lm}^{\\alpha }|\\phi _{n\\mathbf {k} }\\rangle |^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <munderover>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mo>=</mo>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </munderover>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mi>Y</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">|</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{\\alpha l}={\\frac {1}{N_{\\bf {k}}}}\\sum _{n{\\bf {k}}}f_{n{\\bf {k}}}\\sum _{m=-l}^{l}|\\langle Y_{lm}^{\\alpha }|\\phi _{n\\mathbf {k} }\\rangle |^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cb94f3a25a3c1d0894651b736f7df6ac6e8f644d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:34.677ex; height:7.509ex;\" alt=\"\\rho _{{\\alpha l}}={\\frac  {1}{N_{{{\\bf {k}}}}}}\\sum _{{n{{\\bf {k}}}}}f_{{n{{\\bf {k}}}}}\\sum _{{m=-l}}^{{l}}|\\langle Y_{{lm}}^{{\\alpha }}|\\phi _{{n{\\mathbf  {k}}}}\\rangle |^{2}\"></span>\n</p><p>The <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\langle Y_{lm}^{\\alpha }|\\phi _{n\\mathbf {k} }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mi>Y</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\langle Y_{lm}^{\\alpha }|\\phi _{n\\mathbf {k} }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cb266dc810bbba29a42205e33c42964d2fb418e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:9.574ex; height:3.009ex;\" alt=\"\\langle Y_{{lm}}^{{\\alpha }}|\\phi _{{n{\\mathbf  {k}}}}\\rangle \"></span> are obtained from the projection of the (occupied) wavefunctions <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\phi _{n{\\bf {k}}}\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\phi _{n{\\bf {k}}}\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/06cba116ca186190310a56a367e3c5cc88b276ab\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.153ex; height:2.843ex;\" alt=\"|\\phi _{{n{{\\bf {k}}}}}\\rangle \"></span> onto spherical harmonics that are non zero within spheres of a radius <a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a> centered at ion <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b79333175c8b3f0840bfb4ec41b8072c83ea88d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.488ex; height:1.676ex;\" alt=\"\\alpha \"></span> and\nthe last column is the sum <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sum _{l}\\rho _{\\alpha l}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sum _{l}\\rho _{\\alpha l}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/10fa09d572f04e5eef782aae2d7f3ed43f996084\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:6.718ex; height:5.509ex;\" alt=\"\\sum _{{l}}\\rho _{{\\alpha l}}\"></span>. \n</p><p>Note that depending on the system an \"f\" column can be found as well. \n</p>\n<ul><li>In case of collinear calculations (<a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\"><span style=\"color:black\">ISPIN</span></a>=<span><span class=\"tag-value\">2)</span> the magnetization densities are written to the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\"><span style=\"color:black\">OUTCAR</span></a></li></ul>\n<pre>magnetization (x)\n \n# of ion       s       p       d       tot\n------------------------------------------\n    1        0.000   0.000   0.000   0.000\n    2        0.000   0.245   0.000   0.245\n</pre>\n<p>Here the magnetization density (projection axis is the z-axis) is calculated from the difference in the up and down spin channel <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle m_{z}^{\\alpha l}=\\rho _{\\alpha l}^{\\uparrow }-\\rho _{\\alpha l}^{\\downarrow }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>m</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>z</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">&#8593;<!-- &#8593; --></mo>\n          </mrow>\n        </msubsup>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">&#8595;<!-- &#8595; --></mo>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle m_{z}^{\\alpha l}=\\rho _{\\alpha l}^{\\uparrow }-\\rho _{\\alpha l}^{\\downarrow }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/afa165ea2d03fff762d6db511852bdb319cf5e2e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:15.706ex; height:3.509ex;\" alt=\"m_{z}^{{\\alpha l}}=\\rho _{{\\alpha l}}^{{\\uparrow }}-\\rho _{{\\alpha l}}^{{\\downarrow }}\"></span>\n</p>\n<ul><li>In case of non-collinear calculations (<a href=\"https://www.vasp.at/wiki/index.php/LNONCOLLINEAR\" title=\"LNONCOLLINEAR\" class=\"tag-link\"><span style=\"color:black\">LNONCOLLINEAR</span></a>=<span><span class=\"tag-value\">.TRUE.</span>) the lines after \"total charge\" correspond to the diagonal average</span></li></ul>\n<p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\frac {\\rho _{\\alpha l}^{\\uparrow \\uparrow }-\\rho _{\\alpha l}^{\\downarrow \\downarrow }}{2}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msubsup>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>&#945;<!-- &#945; --></mi>\n                  <mi>l</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">&#8593;<!-- &#8593; -->&#8593;<!-- &#8593; --></mo>\n                </mrow>\n              </msubsup>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msubsup>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>&#945;<!-- &#945; --></mi>\n                  <mi>l</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">&#8595;<!-- &#8595; -->&#8595;<!-- &#8595; --></mo>\n                </mrow>\n              </msubsup>\n            </mrow>\n            <mn>2</mn>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\frac {\\rho _{\\alpha l}^{\\uparrow \\uparrow }-\\rho _{\\alpha l}^{\\downarrow \\downarrow }}{2}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/95ee1f951505b23bf66390647320c7ed6bb67dca\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.838ex; width:9.833ex; height:6.343ex;\" alt=\"{\\frac  {\\rho _{{\\alpha l}}^{{\\uparrow \\uparrow }}-\\rho _{{\\alpha l}}^{{\\downarrow \\downarrow }}}{2}}\"></span>\nof the density tensor\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{\\alpha l}=\\left({\\begin{matrix}\\rho _{\\alpha l}^{\\uparrow \\uparrow }&amp;\\rho _{\\alpha l}^{\\uparrow \\downarrow }\\\\\\rho _{\\alpha l}^{\\downarrow \\uparrow }&amp;\\rho _{\\alpha l}^{\\downarrow \\downarrow }\\\\\\end{matrix}}\\right),}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtable rowspacing=\"4pt\" columnspacing=\"1em\">\n              <mtr>\n                <mtd>\n                  <msubsup>\n                    <mi>&#961;<!-- &#961; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>&#945;<!-- &#945; --></mi>\n                      <mi>l</mi>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">&#8593;<!-- &#8593; -->&#8593;<!-- &#8593; --></mo>\n                    </mrow>\n                  </msubsup>\n                </mtd>\n                <mtd>\n                  <msubsup>\n                    <mi>&#961;<!-- &#961; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>&#945;<!-- &#945; --></mi>\n                      <mi>l</mi>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">&#8593;<!-- &#8593; -->&#8595;<!-- &#8595; --></mo>\n                    </mrow>\n                  </msubsup>\n                </mtd>\n              </mtr>\n              <mtr>\n                <mtd>\n                  <msubsup>\n                    <mi>&#961;<!-- &#961; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>&#945;<!-- &#945; --></mi>\n                      <mi>l</mi>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">&#8595;<!-- &#8595; -->&#8593;<!-- &#8593; --></mo>\n                    </mrow>\n                  </msubsup>\n                </mtd>\n                <mtd>\n                  <msubsup>\n                    <mi>&#961;<!-- &#961; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>&#945;<!-- &#945; --></mi>\n                      <mi>l</mi>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">&#8595;<!-- &#8595; -->&#8595;<!-- &#8595; --></mo>\n                    </mrow>\n                  </msubsup>\n                </mtd>\n              </mtr>\n            </mtable>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{\\alpha l}=\\left({\\begin{matrix}\\rho _{\\alpha l}^{\\uparrow \\uparrow }&amp;\\rho _{\\alpha l}^{\\uparrow \\downarrow }\\\\\\rho _{\\alpha l}^{\\downarrow \\uparrow }&amp;\\rho _{\\alpha l}^{\\downarrow \\downarrow }\\\\\\end{matrix}}\\right),}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/6c7bacd6309ee67c0f6c17d7e03293e4b2b4d5d2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.928ex; margin-bottom: -0.243ex; width:20.02ex; height:7.509ex;\" alt=\"\\rho _{{\\alpha l}}=\\left({\\begin{matrix}\\rho _{{\\alpha l}}^{{\\uparrow \\uparrow }}&amp;\\rho _{{\\alpha l}}^{{\\uparrow \\downarrow }}\\\\\\rho _{{\\alpha l}}^{{\\downarrow \\uparrow }}&amp;\\rho _{{\\alpha l}}^{{\\downarrow \\downarrow }}\\\\\\end{matrix}}\\right),\"></span></dd></dl></dd></dl>\n<p>which is determined from the projected components \n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{\\alpha l}^{\\mu \\nu }={\\frac {1}{N_{\\bf {k}}}}\\sum _{n{\\bf {k}}}f_{n{\\bf {k}}}\\sum _{m=-l}^{l}\\langle \\chi _{n{\\bf {k}}}^{\\mu }|Y_{lm}^{\\alpha }\\rangle \\langle Y_{lm}^{\\alpha }|\\chi _{n{\\bf {k}}}^{\\nu }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#956;<!-- &#956; --></mi>\n            <mi>&#957;<!-- &#957; --></mi>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <munderover>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mo>=</mo>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </munderover>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#956;<!-- &#956; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mi>Y</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mi>Y</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#957;<!-- &#957; --></mi>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{\\alpha l}^{\\mu \\nu }={\\frac {1}{N_{\\bf {k}}}}\\sum _{n{\\bf {k}}}f_{n{\\bf {k}}}\\sum _{m=-l}^{l}\\langle \\chi _{n{\\bf {k}}}^{\\mu }|Y_{lm}^{\\alpha }\\rangle \\langle Y_{lm}^{\\alpha }|\\chi _{n{\\bf {k}}}^{\\nu }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9054e8fe0aa3fa7737874e8bcd1479d12f3fd291\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:41.976ex; height:7.509ex;\" alt=\"\\rho _{{\\alpha l}}^{{\\mu \\nu }}={\\frac  {1}{N_{{{\\bf {k}}}}}}\\sum _{{n{{\\bf {k}}}}}f_{{n{{\\bf {k}}}}}\\sum _{{m=-l}}^{{l}}\\langle \\chi _{{n{{\\bf {k}}}}}^{\\mu }|Y_{{lm}}^{\\alpha }\\rangle \\langle Y_{{lm}}^{\\alpha }|\\chi _{{n{{\\bf {k}}}}}^{\\nu }\\rangle \"></span></dd></dl></dd></dl>\n<p>of the spinor <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\Psi _{n{\\bf {k}}}\\rangle =\\left({\\begin{matrix}\\chi _{n{\\bf {k}}}^{\\uparrow }\\\\\\chi _{n{\\bf {k}}}^{\\downarrow }\\end{matrix}}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi mathvariant=\"normal\">&#936;<!-- &#936; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>=</mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtable rowspacing=\"4pt\" columnspacing=\"1em\">\n              <mtr>\n                <mtd>\n                  <msubsup>\n                    <mi>&#967;<!-- &#967; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>n</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi mathvariant=\"bold\">k</mi>\n                        </mrow>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">&#8593;<!-- &#8593; --></mo>\n                    </mrow>\n                  </msubsup>\n                </mtd>\n              </mtr>\n              <mtr>\n                <mtd>\n                  <msubsup>\n                    <mi>&#967;<!-- &#967; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>n</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi mathvariant=\"bold\">k</mi>\n                        </mrow>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">&#8595;<!-- &#8595; --></mo>\n                    </mrow>\n                  </msubsup>\n                </mtd>\n              </mtr>\n            </mtable>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\Psi _{n{\\bf {k}}}\\rangle =\\left({\\begin{matrix}\\chi _{n{\\bf {k}}}^{\\uparrow }\\\\\\chi _{n{\\bf {k}}}^{\\downarrow }\\end{matrix}}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b83d8da54a8177661c5152e988d421bd9f9fb7ef\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:16.778ex; height:7.509ex;\" alt=\"|\\Psi _{{n{{\\bf {k}}}}}\\rangle =\\left({\\begin{matrix}\\chi _{{n{{\\bf {k}}}}}^{\\uparrow }\\\\\\chi _{{n{{\\bf {k}}}}}^{\\downarrow }\\end{matrix}}\\right)\"></span> \n</p><p>Similarly, the lines after \"magnetization (x)\" correspond to the partial magnetization density projected onto the x direction and two additional entries \"magnetization (y)\", \"magnetization (z)\" are written for the y and z direction and are calculated from the three Pauli matrices \n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma ^{x}=\\left({\\begin{matrix}0&amp;1\\\\1&amp;0\\\\\\end{matrix}}\\right),\\quad \\sigma ^{y}=\\left({\\begin{matrix}0&amp;-i\\\\i&amp;0\\\\\\end{matrix}}\\right),\\quad \\sigma ^{z}=\\left({\\begin{matrix}1&amp;0\\\\0&amp;-1\\\\\\end{matrix}}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n          </mrow>\n        </msup>\n        <mo>=</mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtable rowspacing=\"4pt\" columnspacing=\"1em\">\n              <mtr>\n                <mtd>\n                  <mn>0</mn>\n                </mtd>\n                <mtd>\n                  <mn>1</mn>\n                </mtd>\n              </mtr>\n              <mtr>\n                <mtd>\n                  <mn>1</mn>\n                </mtd>\n                <mtd>\n                  <mn>0</mn>\n                </mtd>\n              </mtr>\n            </mtable>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <msup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>y</mi>\n          </mrow>\n        </msup>\n        <mo>=</mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtable rowspacing=\"4pt\" columnspacing=\"1em\">\n              <mtr>\n                <mtd>\n                  <mn>0</mn>\n                </mtd>\n                <mtd>\n                  <mo>&#8722;<!-- &#8722; --></mo>\n                  <mi>i</mi>\n                </mtd>\n              </mtr>\n              <mtr>\n                <mtd>\n                  <mi>i</mi>\n                </mtd>\n                <mtd>\n                  <mn>0</mn>\n                </mtd>\n              </mtr>\n            </mtable>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <msup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>z</mi>\n          </mrow>\n        </msup>\n        <mo>=</mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtable rowspacing=\"4pt\" columnspacing=\"1em\">\n              <mtr>\n                <mtd>\n                  <mn>1</mn>\n                </mtd>\n                <mtd>\n                  <mn>0</mn>\n                </mtd>\n              </mtr>\n              <mtr>\n                <mtd>\n                  <mn>0</mn>\n                </mtd>\n                <mtd>\n                  <mo>&#8722;<!-- &#8722; --></mo>\n                  <mn>1</mn>\n                </mtd>\n              </mtr>\n            </mtable>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma ^{x}=\\left({\\begin{matrix}0&amp;1\\\\1&amp;0\\\\\\end{matrix}}\\right),\\quad \\sigma ^{y}=\\left({\\begin{matrix}0&amp;-i\\\\i&amp;0\\\\\\end{matrix}}\\right),\\quad \\sigma ^{z}=\\left({\\begin{matrix}1&amp;0\\\\0&amp;-1\\\\\\end{matrix}}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/42477da1cd3e178cfe00c716e1d94e74da41681f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.505ex; width:53.714ex; height:6.176ex;\" alt=\"\\sigma ^{x}=\\left({\\begin{matrix}0&amp;1\\\\1&amp;0\\\\\\end{matrix}}\\right),\\quad \\sigma ^{y}=\\left({\\begin{matrix}0&amp;-i\\\\i&amp;0\\\\\\end{matrix}}\\right),\\quad \\sigma ^{z}=\\left({\\begin{matrix}1&amp;0\\\\0&amp;-1\\\\\\end{matrix}}\\right)\"></span></dd></dl></dd></dl>\n<p>via\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle m_{\\alpha l}^{j}={\\frac {1}{2}}\\sum _{\\mu ,\\nu =1}^{2}\\sigma _{\\mu \\nu }^{j}\\rho _{\\alpha l}^{\\mu \\nu }.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>m</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mn>2</mn>\n          </mfrac>\n        </mrow>\n        <munderover>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#956;<!-- &#956; --></mi>\n            <mo>,</mo>\n            <mi>&#957;<!-- &#957; --></mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </munderover>\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#956;<!-- &#956; --></mi>\n            <mi>&#957;<!-- &#957; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msubsup>\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#956;<!-- &#956; --></mi>\n            <mi>&#957;<!-- &#957; --></mi>\n          </mrow>\n        </msubsup>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle m_{\\alpha l}^{j}={\\frac {1}{2}}\\sum _{\\mu ,\\nu =1}^{2}\\sigma _{\\mu \\nu }^{j}\\rho _{\\alpha l}^{\\mu \\nu }.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bca047fd5e0ebe2dc0cb7f84cd350452196662c9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:21.472ex; height:7.676ex;\" alt=\"m_{{\\alpha l}}^{j}={\\frac  {1}{2}}\\sum _{{\\mu ,\\nu =1}}^{2}\\sigma _{{\\mu \\nu }}^{j}\\rho _{{\\alpha l}}^{{\\mu \\nu }}.\"></span></dd></dl></dd></dl>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Schuler:JPCM:2018-1\"><a href=\"#cite_ref-Schuler:JPCM:2018_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1088/1361-648X/aae80a\">M. Sch&#252;ler, O.E. Peil, G.J. Kraberger, R. Pordzik, M. Marsman, G. Kresse, T.O. Wehling, and M. Aichhorn, J. Phys.: Condens. Matter <b>30</b>, 475901 (2018).</a></span>\n</li>\n</ol></div>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/RWIGS\" title=\"RWIGS\" class=\"tag-link\">RWIGS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PROCAR\" title=\"PROCAR\" class=\"tag-link\">PROCAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PROOUT\" title=\"PROOUT\" class=\"tag-link\">PROOUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LORBIT%22_incategory:%22Examples%22\" title='Special:Search/\"LORBIT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:38:24Z"}, "Profiling": {"datatype": null, "default": null, "options": {}, "summary": null, "id": 190, "info": "<div class=\"mw-parser-output\"><p>In the most recent version of VASP, profiling routines were added to all important routines in VASP. Using profiling will print at the end of the OUTCAR a list of all routines called during the specific run of VASP, its overall execution time, the number of times it was called and the level at which it was called.\n</p>\n<div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Compilation\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Compilation</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#Support_for_new_routines\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Support for new routines</span></a></li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#Output\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Output</span></a></li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#INCAR_Flags\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">INCAR Flags</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Compilation\">Compilation</span></h2>\n<p>To add support for profiling add <code>-DPROFILING</code> to the already existing preprocessor flags\n</p>\n<pre> CPP = $(CPP_) -DMPI .... -DPROFILING\n</pre>\n<p>Then you have to entirely recompile VASP by executing\n</p>\n<pre> make clean\n make vasp\n</pre>\n<h2><span class=\"mw-headline\" id=\"Support_for_new_routines\">Support for new routines</span></h2>\n<p>If you want to include newly developed routines to the profiling, you have to include the profiling module (if it is not already included in the enclosing module your routine is in) by adding \n</p>\n<pre> USE profiling\n</pre>\n<p>Furthermore you have to put the following statement at the very beginning of the routine with the name <code>[name]</code>\n</p>\n<pre>#ifdef PROFILING\n  CALL START_PROFILING('[name]')\n#endif \n</pre>\n<p>and at every possible return to the outer subroutine you have to put \n</p>\n<pre>#ifdef PROFILING\n  CALL STOP_PROFILING('[name]')\n#endif\n</pre>\n<p>Mind that there are sometimes other <code>#ifdef</code> constructs, which change the starting or return point of subroutines. \nIf a subroutine is not started or not stopped appropriately the profiling will get messed up. There is still some room for improvement, but it works so far. \n</p><p>In addition one can also profile certain parts of a routine or calls to LAPACK routines by enclosing this parts with calls to  <code>START_PROFILING</code> and <code>STOP_PROFILING</code>, e.g.:\n</p>\n<pre>#ifdef PROFILING\n  CALL START_PROFILING('dgemvn')\n#endif\nCALL DGEMVn( 'N' , INDMAX, LMMAXC,  ONE , NONLR_S%RPROJ(1+NLIIND), &amp;\n            INDMAX,  TMP(1,1+NP) , 1 , ZERO ,  WORK(1+NONLR_S%IRMAX*NP), 1)\n#ifdef PROFILING\n  CALL STOP_PROFILING('dgemvn')\n#endif\n</pre>\n<h2><span class=\"mw-headline\" id=\"Output\">Output</span></h2>\n<p>All the timings will be summarized at the end of the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file.\n</p>\n<pre> PROFILE, used timers:    2017\n =============================\n  index                 routine                    time                            calls level                                        \n ----------------------------------------------------------------------------------------------\n     1    total_time                         4134.378029                                1   1\n     2      initialization                       21.859301                              1   2\n     6        init_mpi                              2.456473                            1   3\n     7          m_init                                2.312794                          1   4\n     .           .                                   .                                  .   .\n     .           .                                   .                                  .   .\n     .           .                                   .                                  .   .\n \n   721      loop+                              4112.458616                              1   2\n   727        elmin_all                          3857.453593                            1   3\n   734          potlok                                6.538449                         20   4\n   735            fft3d_mpi                             2.587358                       80   5\n   736              fftbrc_mpi                            2.545392                     80   6\n   737                fftbas_plan_mpi                       2.545311                   80   7\n   743                  map_forward                           2.228926                120   8\n   745                    m_alltoallv_z                         2.208413               80   9\n</pre>\n<p>In the first row we have just an index number, then the name of the called routine, its total execution time at this place in the program, the number of calls and the nesting level inside VASP (so <code>total_time</code> has level <code>1</code>, since it includes all other routines. <code>initialization</code> is called from inside <code>total_time</code> so it has level <code>2</code> and so on). After the detailed profile the Flat profile in printed\n</p>\n<pre>Flat profile\n============\n            routine name                   CPU           calls\n---------------------------------------------------------------\nm_sumb_d                              687.598978        6060\nfftbas                                550.950960      309943\ndllmm_kernel                          438.080414    29933568\nrholm_kernel                          371.424660    26191872\nracc0_hf                              314.036521      150528\nrpro1_hf                              298.218335      172032\nm_bcast_z_from                        187.539585       66560\nm_alltoall_d                          183.903689       18992\nroteta                                134.378198          20\npw_charge_trace                       130.274880      150528\nvhamil_trace                          112.664470      143360\nlinbas                                 92.481414         658\npdssyex_zheevx                         87.056319         289\ncrrexp_mul_gwave                       75.224447    29933568\north1                                  50.643717        2632\nrs_coulomb_green_func                  50.344199        2822\n       .                                   .             .\n       .                                   .             .\n       .                                   .             .\n</pre>\n<p>Here all execution times of a routine are summed up and all timings from routines called from inside this routine are subtraced. So we get the real execution time of this routine and can track down the most time consuming routines for this specific run.\n</p>\n<h2><span class=\"mw-headline\" id=\"INCAR_Flags\"><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> Flags</span></h2>\n<p>In the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> the output of the profiling can be controlled by four different flag:\n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/PTHRESHOLD\" title=\"PTHRESHOLD\" class=\"tag-link\">PTHRESHOLD</a></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/PROUTINE\" title=\"PROUTINE\" class=\"tag-link\">PROUTINE</a></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/PLEVEL\" title=\"PLEVEL\" class=\"tag-link\">PLEVEL</a></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/PFLAT\" title=\"PFLAT\" class=\"tag-link\">PFLAT</a></li></ul>\n<!-- \nNewPP limit report\nCached time: 20230614035132\nCache expiry: 86400\nDynamic content: false\nComplications: []\nCPU time usage: 0.011 seconds\nReal time usage: 0.018 seconds\nPreprocessor visited node count: 42/1000000\nPost&#8208;expand include size: 73/2097152 bytes\nTemplate argument size: 45/2097152 bytes\nHighest expansion depth: 4/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post&#8208;expand size: 0/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%    6.709      1 -total\n 50.20%    3.368      3 Template:FILE\n 43.78%    2.937      4 Template:TAG\n-->\n\n<!-- Saved in parser cache with key mediawiki-vw:pcache:idhash:190-1!canonical and timestamp 20230614035131 and revision id 16991\n -->\n</div>", "last_revised": "2022-04-08T14:53:43Z"}, "PTHRESHOLD": {"datatype": "real", "default": null, "options": {}, "summary": "Control flag for the output of the profiling routines.", "id": 191, "info": "<div><p>If specified all routines with less execution time than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PTHRESHOLD\">PTHRESHOLD</a>=<i>time</i> are not printed out in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PTHRESHOLD%22_incategory:%22Examples%22\" title='Special:Search/\"PTHRESHOLD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:53:56Z"}, "PROUTINE": {"datatype": "integer", "default": null, "options": {}, "summary": "Control flag for the output of the profiling routines.", "id": 192, "info": "<div><p>If specified only the routine with the name <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PROUTINE\">PROUTINE</a>=<i>routine</i> is taken into account.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PROUTINE%22_incategory:%22Examples%22\" title='Special:Search/\"PROUTINE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:53:50Z"}, "PLEVEL": {"datatype": "integer", "default": null, "options": {}, "summary": "Control flag for the output of the profiling routines.", "id": 193, "info": "<div><p>If specified all routines with a level higher than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PLEVEL\">PLEVEL</a>=<i>level</i> are not printed out in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PLEVEL%22_incategory:%22Examples%22\" title='Special:Search/\"PLEVEL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-06T15:30:04Z"}, "PFLAT": {"datatype": "boolean", "default": null, "options": {}, "summary": "Control flag for the output of the profiling routines.", "id": 194, "info": "<div><p>If specified as <a href=\"https://www.vasp.at/wiki/index.php/PMASS\" title=\"PMASS\" class=\"tag-link\">PMASS</a>=<i>.TRUE.</i>, only the flat profile is printed out in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PFLAT%22_incategory:%22Examples%22\" title='Special:Search/\"PFLAT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:53:16Z"}, "DIPOL": {"datatype": "real array", "default": null, "options": {}, "summary": "specifies the center of the cell in direct lattice coordinates with respect to which the total dipole-moment in the cell is calculated.", "id": 256, "info": "<div><p>The center of the cell w.r.t. which the total dipole-moment in the cell is calculated is specified as\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/DIPOL\">DIPOL</a>=<b>R</b><sub>x</sub> <b>R</b><sub>y</sub> <b>R</b><sub>z</sub>\n</pre>\n<p>where <b>R</b><sub>x</sub>, <b>R</b><sub>y</sub> and <b>R</b><sub>z</sub> are given in direct lattice coordinates.\n</p><p><b>Mind</b>: the calculation of the dipole (<a href=\"https://www.vasp.at/wiki/index.php/IDIPOL\" title=\"IDIPOL\" class=\"tag-link\">IDIPOL</a>=<span><span class=\"tag-value\">1-4)</span> requires a definition of the center of the cell, and results might differ for different positions.\nYou should use this option only for surfaces and isolated molecules.\nIn this case, use the center of mass for the position. Additionally, mind that for surfaces, only the component normal to the surface is meaningful.\n</span></p><p>The main problem is that the definition of the dipole 'destroys' the translational symmetry, i.e., the dipole is defined as\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\int ({\\mathbf {r} }-{\\mathbf {R} }_{\\rm {center}})\\rho _{\\rm {ions+valence}}({\\mathbf {r} })d^{3}{\\mathbf {r} }.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">R</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">r</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mo>+</mo>\n              <mi mathvariant=\"normal\">v</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">l</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">e</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msup>\n          <mi>d</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\int ({\\mathbf {r} }-{\\mathbf {R} }_{\\rm {center}})\\rho _{\\rm {ions+valence}}({\\mathbf {r} })d^{3}{\\mathbf {r} }.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/10783a84dda3de097af0ab1482bce3f60860b624\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:32.307ex; height:5.676ex;\" alt=\"\\int ({{\\mathbf  r}}-{{\\mathbf  R}}_{{{\\rm {center}}}})\\rho _{{{\\rm {ions+valence}}}}({{\\mathbf  r}})d^{3}{{\\mathbf  r}}.\"></span></dd></dl>\n<p>Now, this makes only sense if <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{\\rm {ions+valence}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mo>+</mo>\n              <mi mathvariant=\"normal\">v</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">l</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">e</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{\\rm {ions+valence}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/76ba1dd67d2887eaf05b4f333f9401a76c4bd0e1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:10.805ex; height:2.176ex;\" alt=\"\\rho _{{{\\rm {ions+valence}}}}\"></span> drops to zero at some distance from <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {R} _{\\rm {center}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">R</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">r</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {R} _{\\rm {center}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/eaf86fca642658d24d15d1098e7714abdcf2fff2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:6.624ex; height:2.509ex;\" alt=\"{\\mathbf  R}_{{{\\rm {center}}}}\"></span>. If this is \nnot the case, the values are extremely sensitive with respect to changes in <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {R} _{\\rm {center}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">R</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">r</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {R} _{\\rm {center}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/eaf86fca642658d24d15d1098e7714abdcf2fff2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:6.624ex; height:2.509ex;\" alt=\"{\\mathbf  R}_{{{\\rm {center}}}}\"></span>.\n</p><p><b>Note</b>: If the flag is not set, VASP determines where the charge density averaged over one plane drops to a minimum and calculates the center of the charge distribution by adding half of the lattice vector perpendicular to the plane where the charge density has a minimum (this is a rather reliable approach for orthorhombic cells).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NELECT\" title=\"NELECT\" class=\"tag-link\">NELECT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EPSILON\" title=\"EPSILON\" class=\"tag-link\">EPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IDIPOL\" title=\"IDIPOL\" class=\"tag-link\">IDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMONO\" title=\"LMONO\" class=\"tag-link\">LMONO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD\" title=\"EFIELD\" class=\"tag-link\">EFIELD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Monopole_Dipole_and_Quadrupole_corrections\" title=\"Monopole Dipole and Quadrupole corrections\">Monopole, Dipole and Quadrupole corrections</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22DIPOL%22_incategory:%22Examples%22\" title='Special:Search/\"DIPOL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:10:36Z"}, "NEDOS": {"datatype": "integer", "default": "301", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NEDOS\">NEDOS</a> specifies the number of grid points on which the DOS is evaluated</span>", "id": 257, "info": "<div><p>The energy range between <a href=\"https://www.vasp.at/wiki/index.php/EMIN\" title=\"EMIN\" class=\"tag-link\">EMIN</a> and <a href=\"https://www.vasp.at/wiki/index.php/EMAX\" title=\"EMAX\" class=\"tag-link\">EMAX</a> is divided into\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NEDOS\">NEDOS</a> intervals, the DOS for each corresponding energy is written in\n<a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>.\n</p><p><b>Mind</b>: If the DOS has narrow peaks, the default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NEDOS\">NEDOS</a> may be too\nsmall to resolve all peaks properly. It may be helpful to compare the DOS\nto the integrated DOS (also written on <a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>) to find out whether\nthis is the case: at least one peak should show up at every step of the integrated DOS.\nIf so, the smallest peak widths from the dispersion of\nthe respective bands can be estimated by having a look at the Kohn-Sham eigenvalues written\nin <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NEDOS\">NEDOS</a> has to be chosen sufficiently large to resolve this dispersion. Alternatively, the\nenergy interval defined by <a href=\"https://www.vasp.at/wiki/index.php/EMIN\" title=\"EMIN\" class=\"tag-link\">EMIN</a> and <a href=\"https://www.vasp.at/wiki/index.php/EMAX\" title=\"EMAX\" class=\"tag-link\">EMAX</a> can be modified.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NEDOS\">NEDOS</a> is also used to set the total number of frequency points when calculating the dielectric function. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/EMIN\" title=\"EMIN\" class=\"tag-link\">EMIN</a>, <a href=\"https://www.vasp.at/wiki/index.php/EMAX\" title=\"EMAX\" class=\"tag-link\">EMAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NEDOS%22_incategory:%22Examples%22\" title='Special:Search/\"NEDOS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:29Z"}, "EMIN": {"datatype": "real", "default": "lowest KS-eigenvalue  - <math>\\Delta</math>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EMAX\">EMAX</a> specifies the  lower boundary of the energy range </span>", "id": 258, "info": "<div><p>The DOS is evaluated each <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a> steps, <a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>  is updated\neach  <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>*<a href=\"https://www.vasp.at/wiki/index.php/KBLOCK\" title=\"KBLOCK\" class=\"tag-link\">KBLOCK</a> steps. \n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5>  Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EMIN\">EMIN</a> to a value larger than <a href=\"https://www.vasp.at/wiki/index.php/EMAX\" title=\"EMAX\" class=\"tag-link\">EMAX</a>, if you are not sure where the region of interest lies.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/EMAX\" title=\"EMAX\" class=\"tag-link\">EMAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/NEDOS\" title=\"NEDOS\" class=\"tag-link\">NEDOS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EMIN%22_incategory:%22Examples%22\" title='Special:Search/\"EMIN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:11:56Z"}, "EMAX": {"datatype": "real", "default": "highest KS-eigenvalue  + <math>\\Delta</math>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EMAX\">EMAX</a> specifies the  upper boundary of the energy range</span>", "id": 259, "info": "<div><p>The DOS is evaluated each <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a> steps, <a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>  is updated     each  <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>*<a href=\"https://www.vasp.at/wiki/index.php/KBLOCK\" title=\"KBLOCK\" class=\"tag-link\">KBLOCK</a> steps.\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/EMIN\" title=\"EMIN\" class=\"tag-link\">EMIN</a>, <a href=\"https://www.vasp.at/wiki/index.php/NEDOS\" title=\"NEDOS\" class=\"tag-link\">NEDOS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DOSCAR\" title=\"DOSCAR\" class=\"tag-link\">DOSCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EMAX%22_incategory:%22Examples%22\" title='Special:Search/\"EMAX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:11:45Z"}, "ENCUT": {"datatype": "real", "default": "largest <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENMAX\">ENMAX</a> on the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a> file", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUT\">ENCUT</a> specifies the cutoff energy for the plane-wave-basis set in eV.</span>", "id": 260, "info": "<div><p>All plane waves with a kinetic energy smaller than <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\mathrm {cut} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\mathrm {cut} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/47ea637e921a313d8e1cd0b8f65173233dd45e89\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.231ex; height:2.509ex;\" alt=\"E_{{{\\mathrm  {cut}}}}\"></span> are included in the basis set, i.e.,\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\mathbf {G} +\\mathbf {k} |&lt;G_{\\mathrm {cut} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo>&lt;</mo>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\mathbf {G} +\\mathbf {k} |&lt;G_{\\mathrm {cut} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/051b783f4fc022e30ea79090391ae41a912b0905\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:15.087ex; height:2.843ex;\" alt=\"|{\\mathbf  {G}}+{\\mathbf  {k}}|&lt;G_{{{\\mathrm  {cut}}}}\"></span> with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\mathrm {cut} }={\\frac {\\hbar ^{2}}{2m}}G_{\\mathrm {cut} }^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msup>\n              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n            <mrow>\n              <mn>2</mn>\n              <mi>m</mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\mathrm {cut} }={\\frac {\\hbar ^{2}}{2m}}G_{\\mathrm {cut} }^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ab553d32799a0a4e00670bb7eb1bb6e97fb55372\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.838ex; width:15.711ex; height:5.676ex;\" alt=\"E_{{{\\mathrm  {cut}}}}={\\frac  {\\hbar ^{2}}{2m}}G_{{{\\mathrm  {cut}}}}^{2}\"></span></dd></dl></dd></dl>\n<p>The number of plane waves differs for each <b>k</b>-point, leading to a superior behavior for, e.g. energy-volume calculations.\nIf the volume is increased the total number of plane waves changes fairly smoothly.\nThe criterion <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\mathbf {G} |&lt;G_{\\mathrm {cut} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo>&lt;</mo>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\mathbf {G} |&lt;G_{\\mathrm {cut} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8ca26f869bd8c84519b1db3257075b8125769ba6\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:10.836ex; height:2.843ex;\" alt=\"|{\\mathbf  {G}}|&lt;G_{{{\\mathrm  {cut}}}}\"></span> (i.e. same basis set for each <b>k</b>-point) would lead to a very rough energy-volume curve and, generally, slower energy convergence.\n</p><p>The <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> files contain a default <a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a> (and <a href=\"https://www.vasp.at/wiki/index.php?title=ENMIN&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ENMIN (page does not exist)\">ENMIN</a>) line, therefore it is in principle not necessary to specify <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUT\">ENCUT</a> in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.\nFor calculations with more than one species, the maximum cutoff <a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a> or <a href=\"https://www.vasp.at/wiki/index.php?title=ENMIN&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ENMIN (page does not exist)\">ENMIN</a> value is used for the calculation (see <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>).\nFor consistency reasons we still recommend to specify the cutoff manually in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file and keep it constant throughout a set of calculations.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php?title=ENMIN&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"ENMIN (page does not exist)\">ENMIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENINI\" title=\"ENINI\" class=\"tag-link\">ENINI</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ENCUT%22_incategory:%22Examples%22\" title='Special:Search/\"ENCUT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:12:27Z"}, "KPAR": {"datatype": "integer", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPAR\">KPAR</a> determines the number of <b>k</b>-points that are to be treated in parallel (available as of VASP.5.3.2). Also, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPAR\">KPAR</a> is used as parallelization tag for <a href=\"https://www.vasp.at/wiki/index.php/LTMP2_-_Tutorial\">Laplace transformed MP2 calculations</a>. </span>", "id": 269, "info": "<div><p>VASP currently offers parallelization and data distribution over bands and/or over plane wave coefficients (see <a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a> and <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>), and as of VASP.5.3.2, parallelization over <b>k</b>-points.\nTo obtain high efficiency on massively parallel systems or modern multi-core machines, it is strongly recommended to use all at the same time. Most algorithms work with any data distribution (except for the single band conjugated gradient, which is considered to be obsolete).\n</p><p>The set of <b>k</b>-points is distributed over <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPAR\">KPAR</a> groups of compute cores, in a round-robin fashion.\nThis means that a group of <i>N</i>=(# of cores/<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPAR\">KPAR</a>) compute cores together work on an individual <b>k</b>-point (choose <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPAR\">KPAR</a> such that it is an integer divisor of the total number of cores).\nWithin this group of <i>N</i> cores that share the work on an individual <b>k</b>-point, the usual parallelism over bands and/or plane wave coefficients applies (as set by means of the <a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a> and <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> tags).\n</p><p><b>Note</b>: the data is not distributed additionally over <b>k</b>-points.\n</p><p><b>Note</b>: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPAR\"><span style=\"color:black\">KPAR</span></a> becomes obsolete if <a href=\"https://www.vasp.at/wiki/index.php/LMP2LT\" title=\"LMP2LT\" class=\"tag-link\">LMP2LT</a> or <a href=\"https://www.vasp.at/wiki/index.php/LSMP2LT\" title=\"LSMP2LT\" class=\"tag-link\">LSMP2LT</a> are set and specifies the number of plane-waves treated in parallel, see <a href=\"https://www.vasp.at/wiki/index.php/LTMP2_-_Tutorial#Parallelization\" title=\"LTMP2 - Tutorial\">here</a> for more information.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALU\" title=\"LSCALU\" class=\"tag-link\">LSCALU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\" title=\"LSCAAWARE\" class=\"tag-link\">LSCAAWARE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSMP2LT\" title=\"LSMP2LT\" class=\"tag-link\">LSMP2LT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMP2LT\" title=\"LMP2LT\" class=\"tag-link\">LMP2LT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22KPAR%22_incategory:%22Examples%22\" title='Special:Search/\"KPAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:24:51Z"}, "NCORE": {"datatype": "integer", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> determines the number of compute cores that work on an individual orbital (available as of VASP.5.2.13). </span>", "id": 270, "info": "<div><p>VASP currently offers parallelization and data distribution over bands and/or over plane wave coefficients, and as of VASP.5.3.2, parallelization over <b>k</b>-points (no data distribution, see <a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>).\nTo achieve high efficiency on massively parallel systems or modern multi-core machines, it is strongly recommended to use all parallelization options available. Most algorithms work with any data distribution (except for the single band conjugated gradient, which is obsolete).\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> is available from VASP.5.2.13 on, and is more handy than the previous parameter <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>. The user should either specify <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> or <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>, where <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> takes a higher preference. The relation between both parameters is \n</p><p>NCORE =number-of-cores /KPAR / NPAR\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> determines how many cores share the work on an individual orbital. The current default is <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a>=<span><span class=\"tag-value\">1</span>, meaning that one orbital is treated by one core. </span><a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> is then set to the total number of cores (divided by KPAR). If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> equals the total number of cores, <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> is set to 1. This implies data distribution over plane wave coefficients only: all cores will work together on every individual band, i.e., the plane wave coefficients of each band are distributed over all cores. This is usually very slow and should be avoided.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a>=<span><span class=\"tag-value\">1</span> is the optimal setting for small unit cells, and platforms with a small communication bandwidth. It is also a good choice for up to 8 cores. However, this mode substantially increases the memory requirements, because the non-local projector functions must be stored entirely on each core. In addition, substantial all-to-all communications are required to orthogonalize the bands. \n</span></p><p>On massively parallel systems and modern multi-core machines we strongly recommend to set \n</p>\n<pre>NCORE = 2 up to number-of-cores-per-socket (or number-of-cores-per-node)\n</pre>\n<p><br>\nFor large unit cells, we found that this can improve the performance by up to a factor four compared to the default, and it also significantly improves the stability of the code due to reduced memory requirements. Ideally, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> should be a factor of the number-of-cores-per-socket (or number-of-cores-per-node), since this reduces communication between the sockets or nodes. The best value <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> depends somewhat on the number of atoms in the unit cell. Values around 4 are usually ideal for 100 atoms in the unit cell. For very large unit cells (more than 400 atoms) values around 12-16 are often optimal. If you run extensive simulations for similar systems, make your own tests.\n</p><p><br>\nFinally, the optimal settings for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> and <a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a> depend strongly on the type of machine you are using.\nSome recommended setups:\n</p>\n<ul><li>LINUX cluster linked by Infiniband, modern multicore machines:</li></ul>\n<dl><dd>On a LINUX cluster with multicore machines linked by a fast network we recommend to set</dd></dl>\n<pre>LPLANE = .TRUE.\nNCORE  = 2 up to number-of-cores-per-node\nLSCALU = .FALSE.\nNSIM   = 4\n</pre>\n<dl><dd>If very many nodes are used, it might be necessary to set LPLANE = .FALSE., but usually this offers only a very modest performance boost (if at all).</dd></dl>\n<ul><li>LINUX cluster linked by 1 Gbit Ethernet, and LINUX clusters with single cores:</li></ul>\n<dl><dd>On a LINUX cluster linked by a relatively slow network, LPLANE must be set to .TRUE., and the NCORE should be equal to 1:</dd></dl>\n<pre>LPLANE = .TRUE.\nNCORE  = 1\nLSCALU = .FALSE.\nNSIM   = 4\n</pre>\n<dl><dd>Mind that you need at least a 100 Mbit full duplex network, with a fast switch offering at least 2 Gbit switch capacity to find useful speedups. Multi-core machines should be always linked by an Infiniband, since Gbit is too slow for multi-core machines.</dd></dl>\n<ul><li>Massively parallel machines with dedicated network (maybe Cray):</li></ul>\n<dl><dd>On massively parallel machines one is sometimes forced to use a large number of cores. In this case load balancing problems and problems with the communication bandwidth are likely to be experienced. In addition the local memory is fairly small on some massively parallel machines (too small keep the real space projectors in the cache using any reasonable VASP setting). Therefore, we recommend to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE\">NCORE</a> on these machines to &#8730;<i># of cores</i> (explicit timing can be helpful to find the optimum value). The use of <a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>=<span><span class=\"tag-value\">.TRUE.</span> is only recommended if the number of nodes is significantly smaller than </span><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a> and <a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>.</dd></dl>\n<dl><dd>In summary, the following setting is recommended</dd></dl>\n<pre>LPLANE = .FALSE.\nNPAR   = sqrt(number of cores)\nNSIM   = 1\n</pre>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALU\" title=\"LSCALU\" class=\"tag-link\">LSCALU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\" title=\"LSCAAWARE\" class=\"tag-link\">LSCAAWARE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/OpenACC_GPU_port_of_VASP\" title=\"OpenACC GPU port of VASP\">OpenACC GPU Port of VASP</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Combining_MPI_and_OpenMP\" title=\"Combining MPI and OpenMP\">Combining MPI and OpenMP</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NCORE%22_incategory:%22Examples%22\" title='Special:Search/\"NCORE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-25T09:23:58Z"}, "NPAR": {"datatype": "integer", "default": "number of cores", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a> determines the number of bands that are treated in parallel. </span>", "id": 271, "info": "<div><p>VASP currently offers parallelization and data distribution over bands and/or over plane wave coefficients, and as of VASP.5.3.2, parallelization over <b>k</b>-points (no data distribution, see <a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>).\nTo obtain high efficiency on massively parallel systems or modern multi-core machines, it is strongly recommended to use all at the same time. Most algorithms work with any data distribution (except for the single band conjugated gradient, which is considered to be obsolete).\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a> determines how many bands are treated in parallel. The current default is <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a>=<i>number of cores</i>, meaning that one orbital is treated by one core. <a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a> is then set to 1. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a>=<span><span class=\"tag-value\">1</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a> is set to the number of cores. This implies data distribution over plane wave coefficients only: all cores will work together on every individual band, i.e., the plane wave coefficients of each band are distributed over all cores. This is usually very slow and should be avoided.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a>=<i>number of cores</i> is the optimal setting for platforms with a small communication bandwidth and is a good choice for up to 8 cores, as well as for machines with a single core per node and a Gigabit network. However, this mode substantially increases the memory requirements, because the non-local projector functions must be stored entirely on each core. In addition, substantial all-to-all communications are required to orthogonalize the bands. On massively parallel systems and modern multi-core machines we strongly urge to set \n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\textrm {NPAR}}\\approx {\\sqrt {{\\textrm {\\#of}}\\;{\\textrm {cores}}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>NPAR</mtext>\n          </mrow>\n        </mrow>\n        <mo>&#8776;<!-- &#8776; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mtext>\\#of</mtext>\n              </mrow>\n            </mrow>\n            <mspace width=\"thickmathspace\"></mspace>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mtext>cores</mtext>\n              </mrow>\n            </mrow>\n          </msqrt>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\textrm {NPAR}}\\approx {\\sqrt {{\\textrm {\\#of}}\\;{\\textrm {cores}}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ea610c1e93d4c96eba8f9b9809dac1eca90be1e4\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.838ex; width:22.875ex; height:4.843ex;\" alt=\"{\\textrm  {NPAR}}\\approx {\\sqrt  {{\\textrm  {\\#of}}\\;{\\textrm  {cores}}}}\"></span></dd></dl>\n<p>or\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\textrm {NCORE}}={\\textrm {\\#of}}\\;{\\textrm {cores}}\\;{\\textrm {per}}\\;{\\textrm {compute}}\\;{\\textrm {node}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>NCORE</mtext>\n          </mrow>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>\\#of</mtext>\n          </mrow>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>cores</mtext>\n          </mrow>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>per</mtext>\n          </mrow>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>compute</mtext>\n          </mrow>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>node</mtext>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\textrm {NCORE}}={\\textrm {\\#of}}\\;{\\textrm {cores}}\\;{\\textrm {per}}\\;{\\textrm {compute}}\\;{\\textrm {node}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bf0b3f02f4eca99024b369fd3cab6adc504eda2d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:40.899ex; height:2.843ex;\" alt=\"{\\textrm  {NCORE}}={\\textrm  {\\#of}}\\;{\\textrm  {cores}}\\;{\\textrm  {per}}\\;{\\textrm  {compute}}\\;{\\textrm  {node}}\"></span></dd></dl>\n<p><br>\nIn selected cases, we found that this improves the performance by a factor of up to four compared to the default, and it also significantly improves the stability of the code due to reduced memory requirements.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a> is available from VASP.5.2.13 on, and is more handy than the previous parameter <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a>.\nThe user should either specify <a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a> or <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a>, where <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a> takes a higher preference.\nThe relation between both parameters is \n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\textrm {NCORE}}={\\textrm {\\#of}}\\;{\\textrm {cores}}/{\\textrm {NPAR}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>NCORE</mtext>\n          </mrow>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>\\#of</mtext>\n          </mrow>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>cores</mtext>\n          </mrow>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>NPAR</mtext>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\textrm {NCORE}}={\\textrm {\\#of}}\\;{\\textrm {cores}}/{\\textrm {NPAR}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3b6282b80fd6682e9522618ed5f41b88117d9237\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:30.236ex; height:2.843ex;\" alt=\"{\\textrm  {NCORE}}={\\textrm  {\\#of}}\\;{\\textrm  {cores}}/{\\textrm  {NPAR}}\"></span></dd></dl>\n<p><br>\nThe optimum settings for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a> depend strongly on the type of machine you are using.\nSome recommended setups:\n</p>\n<ul><li>LINUX cluster linked by Infiniband, modern multicore machines:</li></ul>\n<dl><dd>On a LINUX cluster with multicore machines linked by a fast network we recommend to set</dd></dl>\n<pre>LPLANE = .TRUE.\nNCORE  = number of cores per node (e.g. 4 or 8)\nLSCALU = .FALSE.\nNSIM   = 4\n</pre>\n<dl><dd>If very many nodes are used, it might be necessary to set <a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>=<span><span class=\"tag-value\">.FALSE.</span>, but usually this offers very little advantage. For long (e.g. molecular dynamics runs), we recommend to optimize </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a> by trying short runs for different settings.</dd></dl>\n<ul><li>LINUX cluster linked by 1 Gbit Ethernet, and LINUX clusters with single cores:</li></ul>\n<dl><dd>On a LINUX cluster linked by a relatively slow network, <a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a> must be set to .TRUE., and the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a> flag should be equal to the number of cores:</dd></dl>\n<pre>LPLANE = .TRUE.\nNCORE  = 1\nLSCALU = .FALSE.\nNSIM   = 4\n</pre>\n<dl><dd>Mind that you need at least a 100 Mbit full duplex network, with a fast switch offering at least 2 Gbit switch capacity to find usefull speedups. Multi-core machines should be always linked by an Infiniband, since Gbit is too slow for multi-core machines.</dd></dl>\n<ul><li>Massively parallel machines (Cray, Blue Gene):</li></ul>\n<dl><dd>On many massively parallel machines one is forced to use a huge number of cores. In this case load balancing problems and problems with the communication bandwidth are likely to be experienced. In addition the local memory is fairly small on some massively parallel machines; too small keep the real space projectors in the cache with any setting. Therefore, we recommend to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPAR\">NPAR</a> on these machines to &#8730;<i># of cores</i> (explicit timing can be helpful to find the optimum value). The use of <a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>=<span><span class=\"tag-value\">.TRUE.</span> is only recommended if the number of nodes is significantly smaller than </span><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a> and <a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>.</dd></dl>\n<dl><dd>In summary, the following setting is recommended</dd></dl>\n<pre>LPLANE = .FALSE.\nNPAR   = sqrt(number of cores)\nNSIM   = 1\n</pre>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALU\" title=\"LSCALU\" class=\"tag-link\">LSCALU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\" title=\"LSCAAWARE\" class=\"tag-link\">LSCAAWARE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NPAR%22_incategory:%22Examples%22\" title='Special:Search/\"NPAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:50:25Z"}, "METAGGA": {"datatype": "string", "default": "none", "options": {"SCAN": null, "RTPSS": null, "MBJ": null, "LIBXC": null, "...": null}, "summary": "selects a meta-GGA functional.", "id": 273, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span><span class=\"tag-value\">SCAN</span> | RTPSS | MBJ | LIBXC | ...</span><br> Default: <b>METAGGA</b> = none&#160;\n</p><p>Description: selects a meta-GGA functional.\n</p><p><b>N.B.I:</b> If you select a meta-GGA functional, make sure that you use <a href=\"https://www.vasp.at/wiki/index.php/METAGGA#POTCAR_files:_required_information\" title=\"METAGGA\"> POTCAR files that are suited for meta-GGA functionals</a>.\n</p><p><b>N.B.II:</b> Depending on the meta-GGA that is chosen, it may be recommended to use a <a href=\"https://www.vasp.at/wiki/index.php/Available_PAW_potentials\" title=\"Available PAW potentials\">PAW potential</a> that is more accurate than the standard/recommended one. This is particularly the case with functionals (e.g., MBJ or the Minnesota functionals) that are very different from the standard ones like PBE or SCAN. The reason is that for such <i>special</i> functionals, using a PAW potential that includes more states in the valence or that is harder may be required to obtain results that are closer to the results that would be obtained with an all-electron code. Thus, it may be a good idea to do test calculations with different PAW potentials.\n</p><p><b>N.B.III:</b> It is strongly recommended to set <a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>=<span><span class=\"tag-value\">.TRUE.</span> to </span><a href=\"https://www.vasp.at/wiki/index.php/METAGGA#Aspherical_contribtutions_related_to_one-center_terms\" title=\"METAGGA\"> account for aspherical contributions to the PAW one-centre terms</a>. \n</p><p><b>N.B.IV:</b> Since VASP.6.4.0 it is possible to use hybrid functionals that mix meta-GGA and Hartree-Fock exchange (<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>). Furthermore, two new tags, <a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a> and <a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>, were created.\n</p>\n<div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Available_functionals\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Available functionals</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#POTCAR_files:_required_information\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">POTCAR files: required information</span></a></li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#Aspherical_contributions_related_to_one-center_terms\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Aspherical contributions related to one-center terms</span></a></li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Convergence_issues\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Convergence issues</span></a></li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#Related_tags_and_articles\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">Related tags and articles</span></a></li>\n<li class=\"toclevel-1 tocsection-6\"><a href=\"#References\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Available_functionals\">Available functionals</span></h2>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">LIBXC</span></li></ul>\n<dl><dd>The LIBXC tag allows to use a meta-GGA functional from the library of exchange-correlation functionals Libxc<sup id=\"cite_ref-marques:cpc:2012_1-0\" class=\"reference\"><a href=\"#cite_note-marques:cpc:2012-1\">[1]</a></sup><sup id=\"cite_ref-lehtola:sx:2018_2-0\" class=\"reference\"><a href=\"#cite_note-lehtola:sx:2018-2\">[2]</a></sup><sup id=\"cite_ref-libxc_3-0\" class=\"reference\"><a href=\"#cite_note-libxc-3\">[3]</a></sup>. Along with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span><span class=\"tag-value\">LIBXC</span>, it is also necessary to specify the tags </span><a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a> that specify the particular functional. Note that it is necessary to have <a href=\"https://www.vasp.at/wiki/index.php/Makefile.include#Libxc_.28optional.29\" title=\"Makefile.include\">Libxc &gt;= 5.2.0 installed</a> and VASP.6.3.0 or higher compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options#-DUSELIBXC\" title=\"Precompiler options\">precompiler options</a>.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span><span class=\"tag-value\">TPSS</span>, RTPSS, or M06L</span></li></ul>\n<dl><dd>The implementation of the TPSS and RTPSS (revTPSS) self-consistent meta-generalized gradient approximation within the projector-augmented-wave method in VASP is discussed by Sun <i>et al.</i><sup id=\"cite_ref-sun:prb:11_4-0\" class=\"reference\"><a href=\"#cite_note-sun:prb:11-4\">[4]</a></sup>. For details on the M06-L functional, refer to the paper by Zhao and Truhlar<sup id=\"cite_ref-zhao:jcp:06_5-0\" class=\"reference\"><a href=\"#cite_note-zhao:jcp:06-5\">[5]</a></sup>.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span><span class=\"tag-value\">MS0</span>, MS1, or MS2</span></li></ul>\n<dl><dd>The MS (where MS stands for \"made simple\") functionals are presented in detail in references <sup id=\"cite_ref-sun:jcp:12_6-0\" class=\"reference\"><a href=\"#cite_note-sun:jcp:12-6\">[6]</a></sup> and <sup id=\"cite_ref-sun:jcp:13_7-0\" class=\"reference\"><a href=\"#cite_note-sun:jcp:13-7\">[7]</a></sup>. These functionals are believed to improve the description of noncovalent interactions over PBE, TPSS and revTPSS but not over M06L. The MS functionals are available as of VASP version &#8805; 5.4.1.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">SCAN</span></li></ul>\n<dl><dd>The SCAN (Strongly constrained and appropriately normed) <sup id=\"cite_ref-sun:prl:15_8-0\" class=\"reference\"><a href=\"#cite_note-sun:prl:15-8\">[8]</a></sup> functional is a semilocal density functional that fulfills all known constraints that the exact density functional must fulfill. There are indications that this functional is superior to most gradient corrected functionals <sup id=\"cite_ref-sun:natm:16_9-0\" class=\"reference\"><a href=\"#cite_note-sun:natm:16-9\">[9]</a></sup>. This functional is only available as of VASP version &#8805; 5.4.3.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">RSCAN</span></li></ul>\n<dl><dd>The rSCAN (regularized SCAN) functional <sup id=\"cite_ref-bartok:jcp:19_10-0\" class=\"reference\"><a href=\"#cite_note-bartok:jcp:19-10\">[10]</a></sup>, introduces regularizations that improve the numerical sensitivity and convergence behavior. These regularizations break several of the exact constraints that the parent SCAN functional was designed to satisfy. However, testing has indicated that the accuracy of rSCAN can be inferior to SCAN in some cases <sup id=\"cite_ref-mejia-rodriguez:jcp:19_11-0\" class=\"reference\"><a href=\"#cite_note-mejia-rodriguez:jcp:19-11\">[11]</a></sup>. This functional is available as of VASP version &#8805; 6.2.0.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">R2SCAN</span></li></ul>\n<dl><dd>The r<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3abccdd2a8344117c797bb9b8cb39fe082fdf14b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.171ex; width:1.054ex; height:2.509ex;\" alt=\"^{2}\"></span>SCAN (regularized-restored SCAN) functional <sup id=\"cite_ref-furness:jpcl:20_12-0\" class=\"reference\"><a href=\"#cite_note-furness:jpcl:20-12\">[12]</a></sup> modifies the regularizations introduced in rSCAN to enforce adherence to the exact constraints obeyed by SCAN. It fulfills all known constraints. However, it only recovers the slowly varying density-gradient expansion for exchange to second order, while SCAN recovers the expansion to 4th order. Testing indicates that r<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3abccdd2a8344117c797bb9b8cb39fe082fdf14b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.171ex; width:1.054ex; height:2.509ex;\" alt=\"^{2}\"></span>SCAN at least matches the accuracy of the parent SCAN functional but with significantly improved numerical efficiency and accuracy under low-cost computational settings. This functional is available as of VASP version &#8805; 6.2.0, or in version 5.4.4 by <a rel=\"nofollow\" class=\"external text\" href=\"https://gitlab.com/dhamil/r2scan-subroutines/-/tree/master/vasp_patch_files\">patch 4</a>.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span><span class=\"tag-value\">SCANL</span>, RSCANL, or R2SCANL</span></li></ul>\n<dl><dd>The functionals SCAN-L<sup id=\"cite_ref-mejia-rodriguez:pra:2017_13-0\" class=\"reference\"><a href=\"#cite_note-mejia-rodriguez:pra:2017-13\">[13]</a></sup><sup id=\"cite_ref-mejia-rodriguez:prb:2018_14-0\" class=\"reference\"><a href=\"#cite_note-mejia-rodriguez:prb:2018-14\">[14]</a></sup>, rSCAN-L, and r<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3abccdd2a8344117c797bb9b8cb39fe082fdf14b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.171ex; width:1.054ex; height:2.509ex;\" alt=\"^{2}\"></span>SCAN-L<sup id=\"cite_ref-mejia-rodriguez:prb:2020_15-0\" class=\"reference\"><a href=\"#cite_note-mejia-rodriguez:prb:2020-15\">[15]</a></sup><sup id=\"cite_ref-kaplan:prm:2022_16-0\" class=\"reference\"><a href=\"#cite_note-kaplan:prm:2022-16\">[16]</a></sup> are deorbitalized versions of SCAN, rSCAN, and r<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3abccdd2a8344117c797bb9b8cb39fe082fdf14b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.171ex; width:1.054ex; height:2.509ex;\" alt=\"^{2}\"></span>SCAN, respectively. They do not depend on the kinetic-energy density <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#964;<!-- &#964; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/38a7dcde9730ef0853809fefc18d88771f95206c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.202ex; height:1.676ex;\" alt=\"\\tau \"></span>, but on the Laplacian of the density <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\nabla ^{2}n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\nabla ^{2}n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ceea79481d0811b0305df91124c197b4905a2aae\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:4.385ex; height:2.676ex;\" alt=\"{\\displaystyle \\nabla ^{2}n}\"></span>, instead.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">OFR2</span></li></ul>\n<dl><dd>The OFR2<sup id=\"cite_ref-kaplan:prm:2022_16-1\" class=\"reference\"><a href=\"#cite_note-kaplan:prm:2022-16\">[16]</a></sup> functional depends on the Laplacian of the density <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\nabla ^{2}n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\nabla ^{2}n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ceea79481d0811b0305df91124c197b4905a2aae\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:4.385ex; height:2.676ex;\" alt=\"{\\displaystyle \\nabla ^{2}n}\"></span>, but not on the kinetic-energy density <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#964;<!-- &#964; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/38a7dcde9730ef0853809fefc18d88771f95206c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.202ex; height:1.676ex;\" alt=\"\\tau \"></span>.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">MBJ</span></li></ul>\n<dl><dd>The modified Becke-Johnson (MBJ) potential<sup id=\"cite_ref-becke:jcp:06_17-0\" class=\"reference\"><a href=\"#cite_note-becke:jcp:06-17\">[17]</a></sup><sup id=\"cite_ref-tran:prl:09_18-0\" class=\"reference\"><a href=\"#cite_note-tran:prl:09-18\">[18]</a></sup> yields band gaps with an accuracy similar to hybrid functionals or GW methods, but is computationally less expensive. The exchange part of the MBJ potential (that is combined with the LDA correlation potential, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle v_{xc}^{\\rm {MBJ}}=v_{x}^{\\rm {MBJ}}+v_{c}^{\\rm {LDA}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n            <mi>c</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">M</mi>\n              <mi mathvariant=\"normal\">B</mi>\n              <mi mathvariant=\"normal\">J</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <msubsup>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">M</mi>\n              <mi mathvariant=\"normal\">B</mi>\n              <mi mathvariant=\"normal\">J</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>+</mo>\n        <msubsup>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle v_{xc}^{\\rm {MBJ}}=v_{x}^{\\rm {MBJ}}+v_{c}^{\\rm {LDA}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4829fa9ab839549ca672a99f1f3029d745010258\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:20.565ex; height:2.843ex;\" alt=\"{\\displaystyle v_{xc}^{\\rm {MBJ}}=v_{x}^{\\rm {MBJ}}+v_{c}^{\\rm {LDA}}}\"></span>) consists of two terms whose relative weights are determined by a system-dependent constant <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>c</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/86a67b81c2de995bd608d5b2df50cd8cd7d92455\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.007ex; height:1.676ex;\" alt=\"c\"></span>:</dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle v_{x}^{\\rm {MBJ}}(\\mathbf {r} )=cv_{x}^{\\rm {BR}}(\\mathbf {r} )+(3c-2){\\frac {1}{\\pi }}{\\sqrt {\\frac {5}{6}}}{\\sqrt {\\frac {\\tau (\\mathbf {r} )}{n(\\mathbf {r} )}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">M</mi>\n              <mi mathvariant=\"normal\">B</mi>\n              <mi mathvariant=\"normal\">J</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mi>c</mi>\n        <msubsup>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">B</mi>\n              <mi mathvariant=\"normal\">R</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>+</mo>\n        <mo stretchy=\"false\">(</mo>\n        <mn>3</mn>\n        <mi>c</mi>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>2</mn>\n        <mo stretchy=\"false\">)</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mi>&#960;<!-- &#960; --></mi>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mfrac>\n              <mn>5</mn>\n              <mn>6</mn>\n            </mfrac>\n          </msqrt>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mfrac>\n              <mrow>\n                <mi>&#964;<!-- &#964; --></mi>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n              <mrow>\n                <mi>n</mi>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n            </mfrac>\n          </msqrt>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle v_{x}^{\\rm {MBJ}}(\\mathbf {r} )=cv_{x}^{\\rm {BR}}(\\mathbf {r} )+(3c-2){\\frac {1}{\\pi }}{\\sqrt {\\frac {5}{6}}}{\\sqrt {\\frac {\\tau (\\mathbf {r} )}{n(\\mathbf {r} )}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b15c3be3d6e410d8380b6988d5867f0ff141b860\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:43.315ex; height:7.509ex;\" alt=\"{\\displaystyle v_{x}^{\\rm {MBJ}}(\\mathbf {r} )=cv_{x}^{\\rm {BR}}(\\mathbf {r} )+(3c-2){\\frac {1}{\\pi }}{\\sqrt {\\frac {5}{6}}}{\\sqrt {\\frac {\\tau (\\mathbf {r} )}{n(\\mathbf {r} )}}}}\"></span></dd>\n<dd>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle v_{x}^{\\rm {BR}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">B</mi>\n              <mi mathvariant=\"normal\">R</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle v_{x}^{\\rm {BR}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/53278289785cf049005a706dc23c206288feae91\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.733ex; height:2.843ex;\" alt=\"{\\displaystyle v_{x}^{\\rm {BR}}}\"></span> is the Becke-Roussel (BR) potential that mimics the Coulomb potential created by the exchange hole<sup id=\"cite_ref-becke:pra:1989_19-0\" class=\"reference\"><a href=\"#cite_note-becke:pra:1989-19\">[19]</a></sup> and depends on <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.395ex; height:1.676ex;\" alt=\"n\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\nabla n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\nabla n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0e1b2c200324e35f520841cf24c6bb2f9ecc0e1c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:3.331ex; height:2.176ex;\" alt=\"{\\displaystyle \\nabla n}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\nabla ^{2}n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\nabla ^{2}n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ceea79481d0811b0305df91124c197b4905a2aae\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:4.385ex; height:2.676ex;\" alt=\"{\\displaystyle \\nabla ^{2}n}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#964;<!-- &#964; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/38a7dcde9730ef0853809fefc18d88771f95206c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.202ex; height:1.676ex;\" alt=\"\\tau \"></span>.</dd></dl>\n<dl><dd>The system-dependent <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>c</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/86a67b81c2de995bd608d5b2df50cd8cd7d92455\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.007ex; height:1.676ex;\" alt=\"c\"></span> is a function of the average of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\nabla n|/n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n        <mi>n</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\nabla n|/n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2370686af423bace46bb74ed56c9123afb10a37a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:7.181ex; height:2.843ex;\" alt=\"{\\displaystyle |\\nabla n|/n}\"></span> in the unit cell (of volume <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V_{\\mathrm {cell} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">l</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V_{\\mathrm {cell} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5514b47469d8bd6bcdd6ebf2af9574d67b45ac26\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.962ex; height:2.509ex;\" alt=\"{\\displaystyle V_{\\mathrm {cell} }}\"></span>):</dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c=\\alpha +\\beta \\left({\\frac {1}{V_{\\mathrm {cell} }}}\\int _{\\mathrm {cell} }{\\frac {|\\nabla n(\\mathbf {r} ')|}{n(\\mathbf {r} ')}}d{\\mathbf {r} '}\\right)^{e}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>c</mi>\n        <mo>=</mo>\n        <mi>&#945;<!-- &#945; --></mi>\n        <mo>+</mo>\n        <mi>&#946;<!-- &#946; --></mi>\n        <msup>\n          <mrow>\n            <mo>(</mo>\n            <mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mfrac>\n                  <mn>1</mn>\n                  <msub>\n                    <mi>V</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">c</mi>\n                        <mi mathvariant=\"normal\">e</mi>\n                        <mi mathvariant=\"normal\">l</mi>\n                        <mi mathvariant=\"normal\">l</mi>\n                      </mrow>\n                    </mrow>\n                  </msub>\n                </mfrac>\n              </mrow>\n              <msub>\n                <mo>&#8747;<!-- &#8747; --></mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">c</mi>\n                    <mi mathvariant=\"normal\">e</mi>\n                    <mi mathvariant=\"normal\">l</mi>\n                    <mi mathvariant=\"normal\">l</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mfrac>\n                  <mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">|</mo>\n                    </mrow>\n                    <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n                    <mi>n</mi>\n                    <mo stretchy=\"false\">(</mo>\n                    <msup>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"bold\">r</mi>\n                      </mrow>\n                      <mo>&#8242;</mo>\n                    </msup>\n                    <mo stretchy=\"false\">)</mo>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">|</mo>\n                    </mrow>\n                  </mrow>\n                  <mrow>\n                    <mi>n</mi>\n                    <mo stretchy=\"false\">(</mo>\n                    <msup>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"bold\">r</mi>\n                      </mrow>\n                      <mo>&#8242;</mo>\n                    </msup>\n                    <mo stretchy=\"false\">)</mo>\n                  </mrow>\n                </mfrac>\n              </mrow>\n              <mi>d</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo>&#8242;</mo>\n                </msup>\n              </mrow>\n            </mrow>\n            <mo>)</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>e</mi>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c=\\alpha +\\beta \\left({\\frac {1}{V_{\\mathrm {cell} }}}\\int _{\\mathrm {cell} }{\\frac {|\\nabla n(\\mathbf {r} ')|}{n(\\mathbf {r} ')}}d{\\mathbf {r} '}\\right)^{e}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/fbe4b9ef0ceeea3e44546c384f4c84d739facb3e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.671ex; width:35.716ex; height:6.509ex;\" alt=\"{\\displaystyle c=\\alpha +\\beta \\left({\\frac {1}{V_{\\mathrm {cell} }}}\\int _{\\mathrm {cell} }{\\frac {|\\nabla n(\\mathbf {r} ')|}{n(\\mathbf {r} ')}}d{\\mathbf {r} '}\\right)^{e}}\"></span></dd>\n<dd>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b79333175c8b3f0840bfb4ec41b8072c83ea88d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.488ex; height:1.676ex;\" alt=\"\\alpha \"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ed48a5e36207156fb792fa79d29925d2f7901e8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.332ex; height:2.509ex;\" alt=\"\\beta \"></span>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cd253103f0876afc68ebead27a5aa9867d927467\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.083ex; height:1.676ex;\" alt=\"e\"></span> are free parameters that can be set by means of the <a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>, <a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>, and <a href=\"https://www.vasp.at/wiki/index.php/CMBJE\" title=\"CMBJE\" class=\"tag-link\">CMBJE</a> tags, respectively. The default values are <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha =-0.012}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>0.012</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha =-0.012}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/831b212f6673ffca05813ddea9690eebf65b79fe\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:11.691ex; height:2.343ex;\" alt=\"{\\displaystyle \\alpha =-0.012}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta =1.023}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n        <mo>=</mo>\n        <mn>1.023</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta =1.023}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/254f4a1c8ad9dd71c1a9512c92dbb3c9ee982d04\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:9.727ex; height:2.509ex;\" alt=\"{\\displaystyle \\beta =1.023}\"></span> bohr<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ^{1/2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ^{1/2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1cc87816a07463e0b409f4189ed9885fcddd55b1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.171ex; width:2.698ex; height:2.676ex;\" alt=\"{\\displaystyle ^{1/2}}\"></span>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e=1/2}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>=</mo>\n        <mn>1</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mn>2</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e=1/2}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ade666537516a2230a78000c9c90eef4803d166d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:7.669ex; height:2.843ex;\" alt=\"{\\displaystyle e=1/2}\"></span><sup id=\"cite_ref-tran:prl:09_18-1\" class=\"reference\"><a href=\"#cite_note-tran:prl:09-18\">[18]</a></sup>. In Ref. <sup id=\"cite_ref-koller:prb:2012_20-0\" class=\"reference\"><a href=\"#cite_note-koller:prb:2012-20\">[20]</a></sup>, the alternative values <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha =0.488}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n        <mo>=</mo>\n        <mn>0.488</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha =0.488}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/db890ac13adf662d2a81c3fd09b7ccb9a30d9c1c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:9.883ex; height:2.176ex;\" alt=\"{\\displaystyle \\alpha =0.488}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta =0.5}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n        <mo>=</mo>\n        <mn>0.5</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta =0.5}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d386c17e24752525188d8b1f5231a4999f177d71\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:7.402ex; height:2.509ex;\" alt=\"{\\displaystyle \\beta =0.5}\"></span> bohr, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e=1}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>=</mo>\n        <mn>1</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e=1}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9c2f5932668126c63c844dc00ca187bc58a29e5a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.344ex; height:2.176ex;\" alt=\"{\\displaystyle e=1}\"></span> were proposed.</dd></dl>\n<dl><dd><b>N.B.I</b>: The MBJ functional is a <i>potential-only</i> functional, <i>i.e.</i>, there is no corresponding MBJ exchange-correlation energy, instead <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{xc}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n            <mi>c</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{xc}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/623bc8f546b5a2001b67cda7cb344629eb2fc69d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.6ex; height:2.509ex;\" alt=\"{\\displaystyle E_{xc}}\"></span> is taken from LDA. This means that MBJ calculations can never be self-consistent with respect to the total energy, and thus we cannot compute Hellmann-Feynman forces (<i>i.e.</i>, no ionic relaxation, etc.). Actually, MBJ calculations aim solely at a description of the electronic properties, primarily band gaps.</dd></dl>\n<dl><dd><b>N.B.II</b>: MBJ calculations converge very slowly, so the number of maximum electronic steps (<a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a>) should be set higher than usual.</dd></dl>\n<dl><dd><b>N.B.III</b>: In the presence of an extended vacuum region (e.g., surfaces), the average of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\nabla n|/n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n        <mi>n</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\nabla n|/n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2370686af423bace46bb74ed56c9123afb10a37a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:7.181ex; height:2.843ex;\" alt=\"{\\displaystyle |\\nabla n|/n}\"></span> has no meaning. Therefore, MBJ calculations should be done with a fixed value of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>c</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/86a67b81c2de995bd608d5b2df50cd8cd7d92455\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.007ex; height:1.676ex;\" alt=\"c\"></span>, which can be done with the <a href=\"https://www.vasp.at/wiki/index.php/CMBJ\" title=\"CMBJ\" class=\"tag-link\">CMBJ</a> tag.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">LMBJ</span></li></ul>\n<dl><dd>The local MBJ (LMBJ) potential<sup id=\"cite_ref-rauch:jctc:2020_21-0\" class=\"reference\"><a href=\"#cite_note-rauch:jctc:2020-21\">[21]</a></sup><sup id=\"cite_ref-rauch:prb:2020_22-0\" class=\"reference\"><a href=\"#cite_note-rauch:prb:2020-22\">[22]</a></sup> is a variant of the MBJ potential that was modified such that it does not suffer from the problems related to the presence of vacuum mentioned above for MBJ. The LMBJ potential has the same analytical form as the MBJ potential:</dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle v_{x}^{\\rm {LMBJ}}(\\mathbf {r} )=c(\\mathbf {r} )v_{x}^{\\rm {BR}}(\\mathbf {r} )+(3c(\\mathbf {r} )-2){\\frac {1}{\\pi }}{\\sqrt {\\frac {5}{6}}}{\\sqrt {\\frac {\\tau (\\mathbf {r} )}{n(\\mathbf {r} )}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">M</mi>\n              <mi mathvariant=\"normal\">B</mi>\n              <mi mathvariant=\"normal\">J</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mi>c</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msubsup>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">B</mi>\n              <mi mathvariant=\"normal\">R</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>+</mo>\n        <mo stretchy=\"false\">(</mo>\n        <mn>3</mn>\n        <mi>c</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>2</mn>\n        <mo stretchy=\"false\">)</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mi>&#960;<!-- &#960; --></mi>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mfrac>\n              <mn>5</mn>\n              <mn>6</mn>\n            </mfrac>\n          </msqrt>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mfrac>\n              <mrow>\n                <mi>&#964;<!-- &#964; --></mi>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n              <mrow>\n                <mi>n</mi>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n            </mfrac>\n          </msqrt>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle v_{x}^{\\rm {LMBJ}}(\\mathbf {r} )=c(\\mathbf {r} )v_{x}^{\\rm {BR}}(\\mathbf {r} )+(3c(\\mathbf {r} )-2){\\frac {1}{\\pi }}{\\sqrt {\\frac {5}{6}}}{\\sqrt {\\frac {\\tau (\\mathbf {r} )}{n(\\mathbf {r} )}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7376abd56b7686106c199d3909faa063ca4c80a2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:50.165ex; height:7.509ex;\" alt=\"{\\displaystyle v_{x}^{\\rm {LMBJ}}(\\mathbf {r} )=c(\\mathbf {r} )v_{x}^{\\rm {BR}}(\\mathbf {r} )+(3c(\\mathbf {r} )-2){\\frac {1}{\\pi }}{\\sqrt {\\frac {5}{6}}}{\\sqrt {\\frac {\\tau (\\mathbf {r} )}{n(\\mathbf {r} )}}}}\"></span></dd>\n<dd>with the difference that <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>c</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/86a67b81c2de995bd608d5b2df50cd8cd7d92455\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.007ex; height:1.676ex;\" alt=\"c\"></span> is now a position-dependent function:</dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c(\\mathbf {r} )=\\alpha +\\beta ({\\tilde {g}}(\\mathbf {r} ))^{e}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>c</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mi>&#945;<!-- &#945; --></mi>\n        <mo>+</mo>\n        <mi>&#946;<!-- &#946; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>g</mi>\n              <mo stretchy=\"false\">~<!-- ~ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msup>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>e</mi>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c(\\mathbf {r} )=\\alpha +\\beta ({\\tilde {g}}(\\mathbf {r} ))^{e}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/41a5080f21c27b4d602afecf25a136e9b8fec4b8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:19.627ex; height:2.843ex;\" alt=\"{\\displaystyle c(\\mathbf {r} )=\\alpha +\\beta ({\\tilde {g}}(\\mathbf {r} ))^{e}}\"></span></dd>\n<dd>where</dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {g}}(\\mathbf {r} )={\\frac {1}{\\left(2\\pi \\sigma ^{2}\\right)^{3/2}}}\\int g(\\mathbf {r} ')e^{-{\\frac {\\left\\vert \\mathbf {r} -\\mathbf {r} '\\right\\vert ^{2}}{2\\sigma ^{2}}}}d{\\mathbf {r} '}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>g</mi>\n              <mo stretchy=\"false\">~<!-- ~ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msup>\n              <mrow>\n                <mo>(</mo>\n                <mrow>\n                  <mn>2</mn>\n                  <mi>&#960;<!-- &#960; --></mi>\n                  <msup>\n                    <mi>&#963;<!-- &#963; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mn>2</mn>\n                    </mrow>\n                  </msup>\n                </mrow>\n                <mo>)</mo>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>/</mo>\n                </mrow>\n                <mn>2</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <mi>g</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo stretchy=\"false\">)</mo>\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mfrac>\n                <msup>\n                  <mrow>\n                    <mo>|</mo>\n                    <mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"bold\">r</mi>\n                      </mrow>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <msup>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mi mathvariant=\"bold\">r</mi>\n                        </mrow>\n                        <mo>&#8242;</mo>\n                      </msup>\n                    </mrow>\n                    <mo>|</mo>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mn>2</mn>\n                  </mrow>\n                </msup>\n                <mrow>\n                  <mn>2</mn>\n                  <msup>\n                    <mi>&#963;<!-- &#963; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mn>2</mn>\n                    </mrow>\n                  </msup>\n                </mrow>\n              </mfrac>\n            </mrow>\n          </mrow>\n        </msup>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8242;</mo>\n          </msup>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {g}}(\\mathbf {r} )={\\frac {1}{\\left(2\\pi \\sigma ^{2}\\right)^{3/2}}}\\int g(\\mathbf {r} ')e^{-{\\frac {\\left\\vert \\mathbf {r} -\\mathbf {r} '\\right\\vert ^{2}}{2\\sigma ^{2}}}}d{\\mathbf {r} '}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3b5a4c7862edcb8e560d55977f146feb84bd836c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:35.925ex; height:8.009ex;\" alt=\"{\\displaystyle {\\tilde {g}}(\\mathbf {r} )={\\frac {1}{\\left(2\\pi \\sigma ^{2}\\right)^{3/2}}}\\int g(\\mathbf {r} ')e^{-{\\frac {\\left\\vert \\mathbf {r} -\\mathbf {r} '\\right\\vert ^{2}}{2\\sigma ^{2}}}}d{\\mathbf {r} '}}\"></span></dd>\n<dd>with</dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g(\\mathbf {r} )={\\frac {1-\\alpha }{\\beta }}\\left(1-\\mathrm {erf} \\left({\\frac {n(\\mathbf {r} )}{n_{\\mathrm {th} }}}\\right)\\right)+{\\frac {\\left\\vert \\nabla n\\right\\vert }{n}}\\mathrm {erf} \\left({\\frac {n(\\mathbf {r} )}{n_{\\mathrm {th} }}}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mn>1</mn>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>&#945;<!-- &#945; --></mi>\n            </mrow>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mfrac>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mn>1</mn>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">f</mi>\n            </mrow>\n            <mrow>\n              <mo>(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mfrac>\n                  <mrow>\n                    <mi>n</mi>\n                    <mo stretchy=\"false\">(</mo>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">r</mi>\n                    </mrow>\n                    <mo stretchy=\"false\">)</mo>\n                  </mrow>\n                  <msub>\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">t</mi>\n                        <mi mathvariant=\"normal\">h</mi>\n                      </mrow>\n                    </mrow>\n                  </msub>\n                </mfrac>\n              </mrow>\n              <mo>)</mo>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mo>|</mo>\n              <mrow>\n                <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n                <mi>n</mi>\n              </mrow>\n              <mo>|</mo>\n            </mrow>\n            <mi>n</mi>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">e</mi>\n          <mi mathvariant=\"normal\">r</mi>\n          <mi mathvariant=\"normal\">f</mi>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mfrac>\n              <mrow>\n                <mi>n</mi>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n              </mrow>\n              <msub>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">h</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n            </mfrac>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g(\\mathbf {r} )={\\frac {1-\\alpha }{\\beta }}\\left(1-\\mathrm {erf} \\left({\\frac {n(\\mathbf {r} )}{n_{\\mathrm {th} }}}\\right)\\right)+{\\frac {\\left\\vert \\nabla n\\right\\vert }{n}}\\mathrm {erf} \\left({\\frac {n(\\mathbf {r} )}{n_{\\mathrm {th} }}}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/af128d254268fb8539edf6888a5341acaf7ff7d7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.505ex; width:53.084ex; height:6.343ex;\" alt=\"{\\displaystyle g(\\mathbf {r} )={\\frac {1-\\alpha }{\\beta }}\\left(1-\\mathrm {erf} \\left({\\frac {n(\\mathbf {r} )}{n_{\\mathrm {th} }}}\\right)\\right)+{\\frac {\\left\\vert \\nabla n\\right\\vert }{n}}\\mathrm {erf} \\left({\\frac {n(\\mathbf {r} )}{n_{\\mathrm {th} }}}\\right)}\"></span></dd>\n<dd>The default values of the parameters in LMBJ are (see erratum of Ref. <sup id=\"cite_ref-rauch:prb:2020_22-1\" class=\"reference\"><a href=\"#cite_note-rauch:prb:2020-22\">[22]</a></sup>) <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha =0.488}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n        <mo>=</mo>\n        <mn>0.488</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha =0.488}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/db890ac13adf662d2a81c3fd09b7ccb9a30d9c1c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:9.883ex; height:2.176ex;\" alt=\"{\\displaystyle \\alpha =0.488}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta =0.5}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n        <mo>=</mo>\n        <mn>0.5</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta =0.5}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d386c17e24752525188d8b1f5231a4999f177d71\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:7.402ex; height:2.509ex;\" alt=\"{\\displaystyle \\beta =0.5}\"></span> bohr, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e=1}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>=</mo>\n        <mn>1</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e=1}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9c2f5932668126c63c844dc00ca187bc58a29e5a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.344ex; height:2.176ex;\" alt=\"{\\displaystyle e=1}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma =2}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#963;<!-- &#963; --></mi>\n        <mo>=</mo>\n        <mn>2</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma =2}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/6d8eb2b251a10e93d8965ecdaed576789aac49ad\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.591ex; height:2.176ex;\" alt=\"{\\displaystyle \\sigma =2}\"></span> <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span> (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle =3.78}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>=</mo>\n        <mn>3.78</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle =3.78}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/60c8126ec2e678bf02fd8e3a3d58262fc205ab11\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.588ex; height:2.176ex;\" alt=\"{\\displaystyle =3.78}\"></span> bohr), and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n_{\\mathrm {th} }=6.96\\times 10^{-4}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">h</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>6.96</mn>\n        <mo>&#215;<!-- &#215; --></mo>\n        <msup>\n          <mn>10</mn>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>4</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n_{\\mathrm {th} }=6.96\\times 10^{-4}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e922e3f7d9757a7eaa34bdc58554407cefbd77ce\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:17.911ex; height:3.009ex;\" alt=\"{\\displaystyle n_{\\mathrm {th} }=6.96\\times 10^{-4}}\"></span> e/bohr<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ^{3}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ^{3}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/73c05e3410279c99fc3d8b9fcdaa15b71a98772a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.171ex; width:1.054ex; height:2.509ex;\" alt=\"{\\displaystyle ^{3}}\"></span>. <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#963;<!-- &#963; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/59f59b7c3e6fdb1d0365a494b81fb9a696138c36\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:1.676ex;\" alt=\"\\sigma \"></span> is the smearing parameter that determines the size of the region over which the average of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d3556280e66fe2c0d0140df20935a6f057381d77\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.116ex; height:2.009ex;\" alt=\"g\"></span> is calculated, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n_{\\mathrm {th} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">h</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n_{\\mathrm {th} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ff0a35ca9f1d2e9e8038119baf96f24f4fd07c01\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.181ex; height:2.009ex;\" alt=\"{\\displaystyle n_{\\mathrm {th} }}\"></span> is the threshold density, which corresponds to the Wigner&#8211;Seitz radius <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle r_{s}^{\\mathrm {th} }=((4/3)\\pi n_{\\mathrm {th} })^{-1/3}=7}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>r</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">h</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mo stretchy=\"false\">(</mo>\n        <mo stretchy=\"false\">(</mo>\n        <mn>4</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mn>3</mn>\n        <mo stretchy=\"false\">)</mo>\n        <mi>&#960;<!-- &#960; --></mi>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">h</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msup>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>1</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mo>=</mo>\n        <mn>7</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle r_{s}^{\\mathrm {th} }=((4/3)\\pi n_{\\mathrm {th} })^{-1/3}=7}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/884413231c58ff671b9876894522eac9053d5865\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:25.789ex; height:3.343ex;\" alt=\"{\\displaystyle r_{s}^{\\mathrm {th} }=((4/3)\\pi n_{\\mathrm {th} })^{-1/3}=7}\"></span> bohr. <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\alpha }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#945;<!-- &#945; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\alpha }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b79333175c8b3f0840bfb4ec41b8072c83ea88d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.488ex; height:1.676ex;\" alt=\"\\alpha \"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ed48a5e36207156fb792fa79d29925d2f7901e8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.332ex; height:2.509ex;\" alt=\"\\beta \"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cd253103f0876afc68ebead27a5aa9867d927467\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.083ex; height:1.676ex;\" alt=\"e\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#963;<!-- &#963; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/59f59b7c3e6fdb1d0365a494b81fb9a696138c36\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:1.676ex;\" alt=\"\\sigma \"></span>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle r_{s}^{\\mathrm {th} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>r</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">h</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle r_{s}^{\\mathrm {th} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5b8044150541879102f2012ee9f744d0af1eade5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.835ex; height:2.843ex;\" alt=\"{\\displaystyle r_{s}^{\\mathrm {th} }}\"></span> can be set by means of the <a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>, <a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>, <a href=\"https://www.vasp.at/wiki/index.php/CMBJE\" title=\"CMBJE\" class=\"tag-link\">CMBJE</a>, <a href=\"https://www.vasp.at/wiki/index.php/SMBJ\" title=\"SMBJ\" class=\"tag-link\">SMBJ</a>, and <a href=\"https://www.vasp.at/wiki/index.php/RSMBJ\" title=\"RSMBJ\" class=\"tag-link\">RSMBJ</a> tags, respectively.</dd></dl>\n<dl><dd>The points <b>N.B.I</b> and <b>N.B.II</b> for the MBJ potential also apply for the LMBJ potential.</dd></dl>\n<h2><span class=\"mw-headline\" id=\"POTCAR_files:_required_information\">POTCAR files: required information</span></h2>\n<p>Meta-GGA calculations require <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> files that include information on the kinetic energy density of the core-electrons. To check whether a particular <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> contains this information, type:\n</p>\n<pre>grep kinetic POTCAR\n</pre>\n<p>This should yield at least the following lines (for each element on the file):\n</p>\n<pre>kinetic energy-density\nmkinetic energy-density pseudized\n</pre>\n<p>and for PAW datasets with partial core corrections:\n</p>\n<pre>kinetic energy density (partial)\n</pre>\n<h2><span class=\"mw-headline\" id=\"Aspherical_contributions_related_to_one-center_terms\">Aspherical contributions related to one-center terms</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>=<span><span class=\"tag-value\">.TRUE.</span> should be selected if a meta-GGA functional is selected. If </span><a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>=<span><span class=\"tag-value\">.FALSE.</span>,\nthe one-center contributions are only calculated for a spherically averaged density and kinetic-energy\ndensity. This means that the one-center contributions to the Kohn-Sham potential are also spherical. \nSince the PAW method describes the entire space using plane waves, errors are often small even\nif the non-spherical contributions to the Kohn-Sham potential are neglected inside the PAW spheres\n(additive augmentation, as opposed to the APW or FLAPW method where the plane wave contribution only\ndescribes the interstitial region between the atoms). Anyhow, if the density is strongly non-spherical\naround some atoms in your structure, </span><a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>=<span><span class=\"tag-value\">.TRUE.</span> must be selected. Non-spherical terms are particularly encountered\nin d- and f-elements, dimers, molecules, and solids with strong directional bonds.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Convergence_issues\">Convergence issues</span></h2>\n<p>If convergence problems are encountered, it is recommended to preconverge the\ncalculations using the PBE functional, and start the calculation from the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file corresponding to the PBE ground state. Furthermore,\n<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">A</span> (conjugate gradient algorithm for orbitals) is often more stable\nthan charge density mixing, in particular, if the system contains vacuum regions.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJ\" title=\"CMBJ\" class=\"tag-link\">CMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJE\" title=\"CMBJE\" class=\"tag-link\">CMBJE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMBJ\" title=\"SMBJ\" class=\"tag-link\">SMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RSMBJ\" title=\"RSMBJ\" class=\"tag-link\">RSMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Band-structure_calculation_using_meta-GGA_functionals\" title=\"Band-structure calculation using meta-GGA functionals\">Band-structure calculation using meta-GGA functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22METAGGA%22_incategory:%22Examples%22\" title='Special:Search/\"METAGGA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap mw-references-columns\"><ol class=\"references\">\n<li id=\"cite_note-marques:cpc:2012-1\"><a href=\"#cite_ref-marques:cpc:2012_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.cpc.2012.05.007\">M. A. L. Marques, M. J. T. Oliveira, and T. Burnus, Comput. Phys. Commun., <b>183</b>, 2272 (2012).</a></span>\n</li>\n<li id=\"cite_note-lehtola:sx:2018-2\"><a href=\"#cite_ref-lehtola:sx:2018_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.softx.2017.11.002\">S. Lehtola, C. Steigemann, M. J. T. Oliveira, and M. A. L. Marques, SoftwareX, <b>7</b>, 1 (2018).</a></span>\n</li>\n<li id=\"cite_note-libxc-3\"><a href=\"#cite_ref-libxc_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://www.tddft.org/programs/libxc/\">https://www.tddft.org/programs/libxc/</a></span>\n</li>\n<li id=\"cite_note-sun:prb:11-4\"><a href=\"#cite_ref-sun:prb:11_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.84.035117\">J. Sun, M. Marsman, G. Csonka, A. Ruzsinszky, P. Hao, Y.-S. Kim, G. Kresse, and J. P. Perdew, Phys. Rev. B <b>84</b>, 035117 (2011).</a></span>\n</li>\n<li id=\"cite_note-zhao:jcp:06-5\"><a href=\"#cite_ref-zhao:jcp:06_5-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.2370993\">Y. Zhao and D. G. Truhlar, J. Chem. Phys. <b>125</b>, 194101 (2006).</a></span>\n</li>\n<li id=\"cite_note-sun:jcp:12-6\"><a href=\"#cite_ref-sun:jcp:12_6-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.4742312\">J. Sun, B. Xiao, and A. Ruzsinszky, J. Chem. Phys. <b>137</b>, 051101 (2012).</a></span>\n</li>\n<li id=\"cite_note-sun:jcp:13-7\"><a href=\"#cite_ref-sun:jcp:13_7-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.4789414\">J. Sun, R. Haunschild, B. Xiao, I. W. Bulik, G. E. Scuseria, and J. P. Perdew, J. Chem. Phys. <b>138</b>, 044113 (2013).</a></span>\n</li>\n<li id=\"cite_note-sun:prl:15-8\"><a href=\"#cite_ref-sun:prl:15_8-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.115.036402\">J. Sun, A. Ruzsinszky, and J. P. Perdew, Phys. Rev. Lett. <b>115</b>, 036402 (2015).</a></span>\n</li>\n<li id=\"cite_note-sun:natm:16-9\"><a href=\"#cite_ref-sun:natm:16_9-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1038/nchem.2535\">J. Sun, R.&#8201;C. Remsing, Y. Zhang, Z. Sun, A. Ruzsinszky, H. Peng, Z. Yang, A. Paul, U. Waghmare, X. Wu, M.&#8201;L. Klein, and J.&#8201;P. Perdew, Nat. Chem. <b>8</b>, 831 (2016).</a></span>\n</li>\n<li id=\"cite_note-bartok:jcp:19-10\"><a href=\"#cite_ref-bartok:jcp:19_10-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.5094646\">A. P. Bart&#243;k and J. R. Yates, J. Chem. Phys. <b>150</b>, 161101 (2019).</a></span>\n</li>\n<li id=\"cite_note-mejia-rodriguez:jcp:19-11\"><a href=\"#cite_ref-mejia-rodriguez:jcp:19_11-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.5120408\">D. Mej&#237;a-Rodr&#237;guez and S. B. Trickey, J. Chem. Phys. <b>151</b>, 207101 (2019).</a></span>\n</li>\n<li id=\"cite_note-furness:jpcl:20-12\"><a href=\"#cite_ref-furness:jpcl:20_12-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1021/acs.jpclett.0c02405\">J. W. Furness, A. D. Kaplan, J. Ning, J. P. Perdew, and J. Sun, J. Phys. Chem. Lett. <b>11</b>, 8208 (2020).</a></span>\n</li>\n<li id=\"cite_note-mejia-rodriguez:pra:2017-13\"><a href=\"#cite_ref-mejia-rodriguez:pra:2017_13-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevA.96.052512\">D. Mej&#237;a-Rodr&#237;guez and S. B. Trickey, Phys. Rev. A <b>91</b>, 052512 (2017).</a></span>\n</li>\n<li id=\"cite_note-mejia-rodriguez:prb:2018-14\"><a href=\"#cite_ref-mejia-rodriguez:prb:2018_14-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.98.115161\">D. Mejia-Rodriguez and S. B. Trickey, Phys. Rev. B <b>98</b>, 115161 (2018).</a></span>\n</li>\n<li id=\"cite_note-mejia-rodriguez:prb:2020-15\"><a href=\"#cite_ref-mejia-rodriguez:prb:2020_15-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.102.121109\">D. Mej&#237;a-Rodr&#237;guez and S. B. Trickey, Phys. Rev. B <b>102</b>, 121109(R) (2020).</a></span>\n</li>\n<li id=\"cite_note-kaplan:prm:2022-16\">&#8593; <sup><a href=\"#cite_ref-kaplan:prm:2022_16-0\">a</a></sup> <sup><a href=\"#cite_ref-kaplan:prm:2022_16-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevMaterials.6.083803\">A. D. Kaplan and J. P. Perdew, Phys. Rev. Mater. <b>6</b>, 083803 (2022).</a></span>\n</li>\n<li id=\"cite_note-becke:jcp:06-17\"><a href=\"#cite_ref-becke:jcp:06_17-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.2213970\">A. D. Becke and E. R. Johnson, J. Chem. Phys. <b>124</b>, 221101 (2006).</a></span>\n</li>\n<li id=\"cite_note-tran:prl:09-18\">&#8593; <sup><a href=\"#cite_ref-tran:prl:09_18-0\">a</a></sup> <sup><a href=\"#cite_ref-tran:prl:09_18-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.102.226401\">F. Tran and P. Blaha, Phys. Rev. Lett. <b>102</b>, 226401 (2009).</a></span>\n</li>\n<li id=\"cite_note-becke:pra:1989-19\"><a href=\"#cite_ref-becke:pra:1989_19-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevA.39.3761\">A. D. Becke and M. R. Roussel, Phys. Rev. A <b>39</b>, 3761 (1989).</a></span>\n</li>\n<li id=\"cite_note-koller:prb:2012-20\"><a href=\"#cite_ref-koller:prb:2012_20-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://doi.org/10.1103/PhysRevB.85.155109\">D. Koller, F. Tran, and P. Blaha, Phys. Rev. B <b>85</b>, 155109 (2012).</a></span>\n</li>\n<li id=\"cite_note-rauch:jctc:2020-21\"><a href=\"#cite_ref-rauch:jctc:2020_21-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1021/acs.jctc.9b01147\">T. Rauch, M. A. L. Marques, and S. Botti, J. Chem. Theory Comput. <b>16</b>, 2654 (2020).</a></span>\n</li>\n<li id=\"cite_note-rauch:prb:2020-22\">&#8593; <sup><a href=\"#cite_ref-rauch:prb:2020_22-0\">a</a></sup> <sup><a href=\"#cite_ref-rauch:prb:2020_22-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.101.245163\">T. Rauch, M. A. L. Marques, and S. Botti, Phys. Rev. B <b>101</b>, 245163 (2020).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n</div>", "last_revised": "2023-04-10T16:01:06Z"}, "LKPROJ": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "switches on the <b>k</b>-point projection scheme.", "id": 274, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LKPROJ\">LKPROJ</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP will project the orbitals onto the reciprocal space of an alternative unit cell.\nThis unit cell has to be supplied in the file </span><a href=\"https://www.vasp.at/wiki/index.php/POSCAR.prim\" title=\"POSCAR.prim\">POSCAR.prim</a>, in the usual <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> format.\n</p><p>As a first step, the <b>k</b>-projection scheme determines the set {<b>k&#8242;</b>}, of <b>k</b>-points in the irreducible part of the first Brillouin zone of the structure given in <a href=\"https://www.vasp.at/wiki/index.php/POSCAR.prim\" title=\"POSCAR.prim\">POSCAR.prim</a>, for which\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\langle \\mathbf {k} '+\\mathbf {G} '|\\mathbf {k} +\\mathbf {G} \\rangle \\neq 0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">k</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo>+</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>&#8800;<!-- &#8800; --></mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\langle \\mathbf {k} '+\\mathbf {G} '|\\mathbf {k} +\\mathbf {G} \\rangle \\neq 0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ffda1fc7f03fb4c501815c9665e3f35c2bcef0a9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:20.791ex; height:3.009ex;\" alt=\"\\langle {\\mathbf  {k}}'+{\\mathbf  {G}}'|{\\mathbf  {k}}+{\\mathbf  {G}}\\rangle \\neq 0\"></span></dd></dl>\n<p>where <b>G</b> and <b>G&#8242;</b> are reciprocal space vectors in the reciprocal spaces of the structures specified in <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/POSCAR.prim\" title=\"POSCAR.prim\">POSCAR.prim</a>, respectively. As usual, the set of points {<b>k</b>} is specified in the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file.\nThe set {<b>k&#8242;</b>} is written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. Look at the part of the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> following <tt>NKPTS_PRIM</tt>. \n</p><p>Once the set {<b>k&#8242;</b>} has been determined VASP will compute the following\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {K} _{n\\mathbf {k} \\sigma \\mathbf {k} '}=\\sum _{\\mathbf {GG} '}|\\langle \\mathbf {k} '+\\mathbf {G} '|\\mathbf {k} +\\mathbf {G} \\rangle \\langle \\mathbf {k} +\\mathbf {G} |\\psi _{n\\mathbf {k} \\sigma }\\rangle |^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">K</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n            <mi>&#963;<!-- &#963; --></mi>\n            <msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">G</mi>\n                <mi mathvariant=\"bold\">G</mi>\n              </mrow>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n        </munder>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">k</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo>+</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">|</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {K} _{n\\mathbf {k} \\sigma \\mathbf {k} '}=\\sum _{\\mathbf {GG} '}|\\langle \\mathbf {k} '+\\mathbf {G} '|\\mathbf {k} +\\mathbf {G} \\rangle \\langle \\mathbf {k} +\\mathbf {G} |\\psi _{n\\mathbf {k} \\sigma }\\rangle |^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f539105702f604d296ac2579dee237accd6ee622\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:45.838ex; height:5.843ex;\" alt=\"\\mathrm{K} _{{n{\\mathbf  {k}}\\sigma {\\mathbf  {k}}'}}=\\sum _{{{\\mathbf  {GG}}'}}|\\langle {\\mathbf  {k}}'+{\\mathbf  {G}}'|{\\mathbf  {k}}+{\\mathbf  {G}}\\rangle \\langle {\\mathbf  {k}}+{\\mathbf  {G}}|\\psi _{{n{\\mathbf  {k}}\\sigma }}\\rangle |^{2}\"></span></dd></dl>\n<p>and writes this information onto the <a href=\"https://www.vasp.at/wiki/index.php/PRJCAR\" title=\"PRJCAR\" class=\"tag-link\">PRJCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php?title=Vasprun.xml&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vasprun.xml (page does not exist)\">vasprun.xml</a> files.\n</p><p>K<sub>n<b>k</b>&#963;<b>k&#8242;</b></sub> provides a measure of how strongly the orbital <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Psi }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#936;<!-- &#936; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Psi }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f5471531a3fe80741a839bc98d49fae862a6439a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.808ex; height:2.176ex;\" alt=\"{\\displaystyle \\Psi }\"></span><sub>n<b>k</b>&#963;</sub> contributes at the point <b>k&#8242;</b> in the reciprocal space of structure <a href=\"https://www.vasp.at/wiki/index.php/POSCAR.prim\" title=\"POSCAR.prim\">POSCAR.prim</a>.\n</p><p>One may, for instance, use this scheme to project the orbitals of a supercell onto the reciprocal space of a generating primitive cell.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5>  At the moment the <b>k</b>-point projection only works with <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>=<span><span class=\"tag-value\">1</span>.\n</span></div><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  Available as of VASP version 6.0.0.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PRJCAR\" title=\"PRJCAR\" class=\"tag-link\">PRJCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LKPROJ%22_incategory:%22Examples%22\" title='Special:Search/\"LKPROJ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:33:09Z"}, "LHYPERFINE": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "compute the hyperfine tensors at the atomic sites (available as of vasp.5.3.2).", "id": 276, "info": "<div><p>To have VASP compute the hyperfine tensors at the atomic sites, set\n</p>\n<pre>LHYPERFINE = .TRUE.\n</pre>\n<p>The hyperfine tensor A<sup>I</sup> describes the interaction between a nuclear spin S<sup>I</sup> (located at site <b>R</b><sub>I</sub>) and the electronic spin distribution S<sup>e</sup> (in most cases associated with a paramagnetic defect state):\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E=\\sum _{ij}S_{i}^{e}A_{ij}^{I}S_{j}^{I}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>E</mi>\n        <mo>=</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </munder>\n        <msubsup>\n          <mi>S</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>e</mi>\n          </mrow>\n        </msubsup>\n        <msubsup>\n          <mi>A</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>I</mi>\n          </mrow>\n        </msubsup>\n        <msubsup>\n          <mi>S</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>I</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E=\\sum _{ij}S_{i}^{e}A_{ij}^{I}S_{j}^{I}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/286abcb5e483f601ff107e8bf64f956c73fdb0eb\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:16.939ex; height:5.843ex;\" alt=\"E=\\sum _{{ij}}S_{i}^{e}A_{{ij}}^{I}S_{j}^{I}\"></span></dd></dl>\n<p>In general it is written as the sum of an isotropic part, the so-called Fermi contact term, and an anisotropic (dipolar) part.\n</p><p>The Fermi contact term is given by\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle (A_{\\mathrm {iso} }^{I})_{ij}={\\frac {2}{3}}{\\frac {\\mu _{0}\\gamma _{e}\\gamma _{I}}{\\langle S_{z}\\rangle }}\\delta _{ij}\\int \\delta _{T}(\\mathbf {r} )\\rho _{s}(\\mathbf {r} +\\mathbf {R} _{I})d\\mathbf {r} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">(</mo>\n        <msubsup>\n          <mi>A</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">o</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>I</mi>\n          </mrow>\n        </msubsup>\n        <msub>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>2</mn>\n            <mn>3</mn>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>&#956;<!-- &#956; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>0</mn>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>&#947;<!-- &#947; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>&#947;<!-- &#947; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>I</mi>\n                </mrow>\n              </msub>\n            </mrow>\n            <mrow>\n              <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n              <msub>\n                <mi>S</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>z</mi>\n                </mrow>\n              </msub>\n              <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>T</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>s</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">R</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>I</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle (A_{\\mathrm {iso} }^{I})_{ij}={\\frac {2}{3}}{\\frac {\\mu _{0}\\gamma _{e}\\gamma _{I}}{\\langle S_{z}\\rangle }}\\delta _{ij}\\int \\delta _{T}(\\mathbf {r} )\\rho _{s}(\\mathbf {r} +\\mathbf {R} _{I})d\\mathbf {r} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f0ea34a88f595164a40d34089f81b945725fe90d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.671ex; width:44.195ex; height:6.009ex;\" alt=\"(A_{{{\\mathrm  {iso}}}}^{I})_{{ij}}={\\frac  {2}{3}}{\\frac  {\\mu _{0}\\gamma _{e}\\gamma _{I}}{\\langle S_{z}\\rangle }}\\delta _{{ij}}\\int \\delta _{T}({\\mathbf  {r}})\\rho _{s}({\\mathbf  {r}}+{\\mathbf  {R}}_{I})d{\\mathbf  {r}}\"></span></dd></dl>\n<p>where &#961;<sub>s</sub> is the spin density, &#956;<sub>0</sub> is the magnetic susceptibility of free space,\n&#947;<sub>e</sub> the electron gyromagnetic ratio, &#947;<sub>I</sub> the nuclear gyromagnetic ratio of the nucleus at <b>R</b><sub>I</sub>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\langle S_{z}\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>S</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>z</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\langle S_{z}\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/22e89107ea07e8cbb87619bfdabd26114bbb82fa\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.236ex; height:2.843ex;\" alt=\"\\langle S_{z}\\rangle \"></span> the expectation value of the <i>z</i>-component of the total electronic spin.\n</p><p>&#948;<sub>T</sub>(<b>r</b>) is a smeared out &#948; function, as described in\nthe Appendix of Ref.<sup id=\"cite_ref-bloechl:prb:00_1-0\" class=\"reference\"><a href=\"#cite_note-bloechl:prb:00-1\">[1]</a></sup>.\n</p><p>The dipolar contributions to the hyperfine tensor are given by\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle (A_{\\mathrm {ani} }^{I})_{ij}={\\frac {\\mu _{0}}{4\\pi }}{\\frac {\\gamma _{e}\\gamma _{I}}{\\langle S_{z}\\rangle }}\\int {\\frac {\\rho _{s}(\\mathbf {r} +\\mathbf {R} _{I})}{r^{3}}}{\\frac {3r_{i}r_{j}-\\delta _{ij}r^{2}}{r^{2}}}d\\mathbf {r} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">(</mo>\n        <msubsup>\n          <mi>A</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">i</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>I</mi>\n          </mrow>\n        </msubsup>\n        <msub>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msub>\n              <mi>&#956;<!-- &#956; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>0</mn>\n              </mrow>\n            </msub>\n            <mrow>\n              <mn>4</mn>\n              <mi>&#960;<!-- &#960; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>&#947;<!-- &#947; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>&#947;<!-- &#947; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>I</mi>\n                </mrow>\n              </msub>\n            </mrow>\n            <mrow>\n              <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n              <msub>\n                <mi>S</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>z</mi>\n                </mrow>\n              </msub>\n              <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>s</mi>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo>+</mo>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">R</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>I</mi>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <msup>\n              <mi>r</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mn>3</mn>\n              <msub>\n                <mi>r</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n              </msub>\n              <msub>\n                <mi>r</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>j</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>&#948;<!-- &#948; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                  <mi>j</mi>\n                </mrow>\n              </msub>\n              <msup>\n                <mi>r</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <msup>\n              <mi>r</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle (A_{\\mathrm {ani} }^{I})_{ij}={\\frac {\\mu _{0}}{4\\pi }}{\\frac {\\gamma _{e}\\gamma _{I}}{\\langle S_{z}\\rangle }}\\int {\\frac {\\rho _{s}(\\mathbf {r} +\\mathbf {R} _{I})}{r^{3}}}{\\frac {3r_{i}r_{j}-\\delta _{ij}r^{2}}{r^{2}}}d\\mathbf {r} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2b9d3b290208633289ca2a4557f7848bb92d938a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.671ex; width:49.589ex; height:6.676ex;\" alt=\"(A_{{{\\mathrm  {ani}}}}^{I})_{{ij}}={\\frac  {\\mu _{0}}{4\\pi }}{\\frac  {\\gamma _{e}\\gamma _{I}}{\\langle S_{z}\\rangle }}\\int {\\frac  {\\rho _{s}({\\mathbf  {r}}+{\\mathbf  {R}}_{I})}{r^{3}}}{\\frac  {3r_{i}r_{j}-\\delta _{{ij}}r^{2}}{r^{2}}}d{\\mathbf  {r}}\"></span></dd></dl>\n<p>In the equations above <i>r</i>=|<b>r</b>|, <i>r</i><sub>i</sub> the i-th component of <b>r</b>, and <b>r</b> is\ntaken relative to the position of the nucleus <b>R</b><sub>I</sub>.\n</p><p>The nuclear gyromagnetic ratios should be specified by means of the <a href=\"https://www.vasp.at/wiki/index.php/NGYROMAG\" title=\"NGYROMAG\" class=\"tag-link\">NGYROMAG</a>-tag:\n</p>\n<pre>NGYROMAG = gamma_1  gamma_2 ... gamma_N\n</pre>\n<p>where one should specify one number for each of the <i>N</i> species on the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file.\nIf one does not set <a href=\"https://www.vasp.at/wiki/index.php/NGYROMAG\" title=\"NGYROMAG\" class=\"tag-link\">NGYROMAG</a> in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, VASP assumes a factor of 1 for each species.\n</p><p>As usual, all output is written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. VASP writes three blocks of data, that look\nsomething like:\n</p>\n<pre> Fermi contact (isotropic) hyperfine coupling parameter (MHz)\n -------------------------------------------------------------\n  ion      A_pw      A_1PS     A_1AE     A_1c      A_tot\n -------------------------------------------------------------\n   1       ...       ...       ...       ...       ...\n  ..       ...       ...       ...       ...       ...\n\n -------------------------------------------------------------\n</pre>\n<p>with an entry for each ion on the POSCAR file.\nA<sub>pw</sub>, A<sub>1PS</sub>, A<sub>1AE</sub>, and A<sub>1c</sub> are the plane wave, pseudo one-center, all-electron one-center, and one-center core contributions to the Fermi contact term, respectively.\nThe total Fermi contact term is given by A<sub>tot</sub>. Beware: for the moment we\nhave chosen <b>NOT</b> to include the core contributions A<sub>1c</sub> in A<sub>tot</sub>.\nIf you so want, you should add them by hand to A<sub>tot</sub>.\nCore electronic contributions to the Fermi contact term are calculated in the frozen valence approximation as proposed by Yazyev <i>et al.</i><sup id=\"cite_ref-yazyev:prb:05_2-0\" class=\"reference\"><a href=\"#cite_note-yazyev:prb:05-2\">[2]</a></sup>\n</p><p>The dipolar constributions are listed next:\n</p>\n<pre> Dipolar hyperfine coupling parameters (MHz)\n ---------------------------------------------------------------------\n  ion      A_xx      A_yy      A_zz      A_xy      A_xz      A_yz\n ---------------------------------------------------------------------\n   1       ...       ...       ...       ...       ...       ...\n  ..       ...       ...       ...       ...       ...       ...\n\n ---------------------------------------------------------------------\n</pre>\n<p>Again one line per ion in the POSCAR file.\n</p><p>The total hyperfine tensors are written as:\n</p>\n<pre> Total hyperfine coupling parameters after diagonalization (MHz)\n (convention: |A_zz| &gt; |A_xx| &gt; |A_yy|)\n ----------------------------------------------------------------------\n  ion      A_xx      A_yy      A_zz     asymmetry (A_yy - A_xx)/ A_zz\n ----------------------------------------------------------------------\n   1       ...       ...       ...         ...\n  ..       ...       ...       ...         ...\n\n ----------------------------------------------------------------------\n</pre>\n<p>i.e., the tensors have been diagonalized and rearranged.\n</p><p><b>N.B.</b>: The Fermi contact term is strongly dominated by the all-electron one-center contribution A<sub>1AE</sub>.\nUnfortunately, this particular term is quite sensitive to the number and eigenenergy of the all-electron partial waves that\nmake up the one-center basis set, <i>i.e.</i>, to the particulars of the PAW dataset you are using.\nAs a result the Fermi contact term may strongly depend on the choice of PAW dataset.\n</p>\n<h3><span class=\"mw-headline\" id=\"Units\">Units</span></h3>\n<p>The Fermi contact term <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>A</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.743ex; height:2.176ex;\" alt=\"A\"></span> is measured in following units\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle [A]=\\left[\\mu _{0}\\right]\\times \\left[g_{e}\\mu _{e}\\right]\\times \\left[g_{j}\\mu _{j}\\right]\\times \\left[|\\psi (0)|^{2}\\right]={\\frac {T^{2}m^{3}}{J}}\\times {\\frac {J}{T}}\\times {\\frac {MHz}{T}}\\times {\\frac {1}{m^{3}}}=MHz}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">[</mo>\n        <mi>A</mi>\n        <mo stretchy=\"false\">]</mo>\n        <mo>=</mo>\n        <mrow>\n          <mo>[</mo>\n          <msub>\n            <mi>&#956;<!-- &#956; --></mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mn>0</mn>\n            </mrow>\n          </msub>\n          <mo>]</mo>\n        </mrow>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow>\n          <mo>[</mo>\n          <mrow>\n            <msub>\n              <mi>g</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>e</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>&#956;<!-- &#956; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>e</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>]</mo>\n        </mrow>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow>\n          <mo>[</mo>\n          <mrow>\n            <msub>\n              <mi>g</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>&#956;<!-- &#956; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>]</mo>\n        </mrow>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow>\n          <mo>[</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo stretchy=\"false\">|</mo>\n            </mrow>\n            <mi>&#968;<!-- &#968; --></mi>\n            <mo stretchy=\"false\">(</mo>\n            <mn>0</mn>\n            <mo stretchy=\"false\">)</mo>\n            <msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n          </mrow>\n          <mo>]</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi>T</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msup>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>3</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mi>J</mi>\n          </mfrac>\n        </mrow>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mi>J</mi>\n            <mi>T</mi>\n          </mfrac>\n        </mrow>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mi>M</mi>\n              <mi>H</mi>\n              <mi>z</mi>\n            </mrow>\n            <mi>T</mi>\n          </mfrac>\n        </mrow>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msup>\n              <mi>m</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n        <mo>=</mo>\n        <mi>M</mi>\n        <mi>H</mi>\n        <mi>z</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle [A]=\\left[\\mu _{0}\\right]\\times \\left[g_{e}\\mu _{e}\\right]\\times \\left[g_{j}\\mu _{j}\\right]\\times \\left[|\\psi (0)|^{2}\\right]={\\frac {T^{2}m^{3}}{J}}\\times {\\frac {J}{T}}\\times {\\frac {MHz}{T}}\\times {\\frac {1}{m^{3}}}=MHz}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/22cb3ba573742ddec09ebe3162670747fe5e6049\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:78.709ex; height:6.009ex;\" alt=\"[A]=\\left[\\mu _{0}\\right]\\times \\left[g_{e}\\mu _{e}\\right]\\times \\left[g_{j}\\mu _{j}\\right]\\times \\left[|\\psi (0)|^{2}\\right]={\\frac  {T^{2}m^{3}}{J}}\\times {\\frac  {J}{T}}\\times {\\frac  {MHz}{T}}\\times {\\frac  {1}{m^{3}}}=MHz\"></span>\n</p><p>with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu _{0}=4\\pi \\times 10^{-7}T^{2}m^{3}J^{-1}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#956;<!-- &#956; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>4</mn>\n        <mi>&#960;<!-- &#960; --></mi>\n        <mo>&#215;<!-- &#215; --></mo>\n        <msup>\n          <mn>10</mn>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>7</mn>\n          </mrow>\n        </msup>\n        <msup>\n          <mi>T</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <msup>\n          <mi>m</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <msup>\n          <mi>J</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>1</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu _{0}=4\\pi \\times 10^{-7}T^{2}m^{3}J^{-1}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3935a9f9953096820be08b6e114e697f951ebf19\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:25.274ex; height:3.176ex;\" alt=\"\\mu _{0}=4\\pi \\times 10^{{-7}}T^{2}m^{3}J^{{-1}}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g_{e}\\mu _{e}=9.28476377\\times 10^{-24}JT^{-1},|\\psi (0)|^{2}=10^{30}m^{-3}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>g</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>e</mi>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>&#956;<!-- &#956; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>e</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>9.28476377</mn>\n        <mo>&#215;<!-- &#215; --></mo>\n        <msup>\n          <mn>10</mn>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>24</mn>\n          </mrow>\n        </msup>\n        <mi>J</mi>\n        <msup>\n          <mi>T</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>1</mn>\n          </mrow>\n        </msup>\n        <mo>,</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi>&#968;<!-- &#968; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <mn>0</mn>\n        <mo stretchy=\"false\">)</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">|</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mo>=</mo>\n        <msup>\n          <mn>10</mn>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>30</mn>\n          </mrow>\n        </msup>\n        <msup>\n          <mi>m</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>3</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g_{e}\\mu _{e}=9.28476377\\times 10^{-24}JT^{-1},|\\psi (0)|^{2}=10^{30}m^{-3}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/45e9ceeaeb3c9fca96d4c6a0cc9383b3a47f54d9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:52.099ex; height:3.343ex;\" alt=\"g_{e}\\mu _{e}=9.28476377\\times 10^{{-24}}JT^{{-1}},|\\psi (0)|^{2}=10^{{30}}m^{{-3}}\"></span>. \n<a href=\"https://www.vasp.at/wiki/index.php/NGYROMAG\" title=\"NGYROMAG\" class=\"tag-link\"><span style=\"color:black\">NGYROMAG</span></a> is given in units of MHz/T, see <a rel=\"nofollow\" class=\"external text\" href=\"https://en.wikipedia.org/wiki/Gyromagnetic_ratio#For_a_nucleus\">here</a> for a table of different gyromagnetic ratios.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NGYROMAG\" title=\"NGYROMAG\" class=\"tag-link\">NGYROMAG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LHYPERFINE%22_incategory:%22Examples%22\" title='Special:Search/\"LHYPERFINE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-bloechl:prb:00-1\"><a href=\"#cite_ref-bloechl:prb:00_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.62.6158\">P. E. Bl&#246;chl, Phys. Rev. B 62, 6158 (2000).</a></span>\n</li>\n<li id=\"cite_note-yazyev:prb:05-2\"><a href=\"#cite_ref-yazyev:prb:05_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.71.115110\">O. V. Yazyev, I. Tavernelli, L. Helm, and U. R. R&#246;thlisberger, Phys. Rev. B 71, 115110 (2006).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:32:08Z"}, "NGYROMAG": {"datatype": "real array", "default": "NTYP*1.0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGYROMAG\">NGYROMAG</a> specifies the nuclear gyromagnetic ratios (in MHz, for H<sub>0</sub> = 1 T) for the atomic types on the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a> file. </span>", "id": 277, "info": "<div><p>By means of the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGYROMAG\">NGYROMAG</a>-tag one can specify the nuclear gyromagnetic ratio:\n</p>\n<pre>NGYROMAG = gamma_1  gamma_2 ... gamma_N\n</pre>\n<p>where one should specify one number for each of the <i>N</i> species on the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file.\nIf one does not set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NGYROMAG\">NGYROMAG</a> in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, VASP assumes a factor of 1 for each species.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LHYPERFINE\" title=\"LHYPERFINE\" class=\"tag-link\">LHYPERFINE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NGYROMAG%22_incategory:%22Examples%22\" title='Special:Search/\"NGYROMAG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T14:23:11Z"}, "LEFG": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "The <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LEFG\">LEFG</a> Computes the {{TAG|Electric Field Gradient}} at positions of the atomic nuclei.", "id": 278, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LEFG\">LEFG</a>=<span><span class=\"tag-value\">.TRUE.</span>, the electric field gradient tensors at the positions of the atomic nuclei are calculated using the method of Petrilli </span><i>et al.</i><sup id=\"cite_ref-petrilli:prb:98_1-0\" class=\"reference\"><a href=\"#cite_note-petrilli:prb:98-1\">[1]</a></sup>\n</p><p>The EFG tensors are symmetric. The principal components <i>V</i><sub>ii</sub> and asymmetry parameter &#951; are printed for each atom. Following convention the principal components <i>V</i><sub>ii</sub> are ordered such that:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |V_{zz}|&gt;|V_{xx}|&gt;|V_{yy}|.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>z</mi>\n            <mi>z</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo>&gt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>x</mi>\n            <mi>x</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo>&gt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>y</mi>\n            <mi>y</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |V_{zz}|&gt;|V_{xx}|&gt;|V_{yy}|.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/157304d80b433571279b69b5ade2d04eecc49b6f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:20.541ex; height:3.009ex;\" alt=\"|V_{{zz}}|&gt;|V_{{xx}}|&gt;|V_{{yy}}|.\"></span></dd></dl>\n<p>The asymmetry parameter is defined as &#951;=(<i>V</i><sub>yy</sub>-<i>V</i><sub>xx</sub>)/<i>V</i><sub>zz</sub>.\nFor so-called \"quadrupolar nuclei\", <i>i.e.</i>, nuclei with nuclear spin I&gt;1/2, NMR experiments can\naccess <i>V</i><sub>zz</sub> and &#951;.\n</p><p><b>Beware</b>: Attaining convergence can require somewhat smaller <a href=\"https://www.vasp.at/wiki/index.php/EDIFF\" title=\"EDIFF\" class=\"tag-link\">EDIFF</a> than the default of <tt>1.e-4</tt>\nand somewhat larger cutoff <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> than default with <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">A</span>. Moreover, the calculation of\nEFGs typically requires high quality PAW data sets. Semi-core electrons can be important (check with\n</span><tt>*_pv</tt> or <tt>*_sv</tt> POTCARs) as well as explicit inclusion of augmentation channel(s) with <i>d</i>-projectors.\n</p><p>To convert the <i>V</i><sub>zz</sub> values into the <i>C</i><sub>q</sub> often encountered in NMR literature, one has to specify the nuclear quadrupole moment by means of the <a href=\"https://www.vasp.at/wiki/index.php/QUAD_EFG\" title=\"QUAD EFG\" class=\"tag-link\">QUAD_EFG</a>-tag.\n</p><p><b>Beware</b>: for heavy nuclei inaccuracies are to be expected because of an incomplete treatement of relativistic effects.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/QUAD_EFG\" title=\"QUAD EFG\" class=\"tag-link\">QUAD_EFG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LEFG%22_incategory:%22Examples%22\" title='Special:Search/\"LEFG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-petrilli:prb:98-1\"><a href=\"#cite_ref-petrilli:prb:98_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.57.14690\">H. M. Petrilli, P. E. Bl&#246;chl, P. Blaha, and K. Schwarz, Phys. Rev. B 57, 14690 (1998).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-19T14:23:00Z"}, "QUAD_EFG": {"datatype": "real array", "default": "NTYP*1.0", "options": {}, "summary": "nuclear quadrupole moment (in millbarn) for the atomic types on the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a> file.", "id": 279, "info": "<div><p>Setting the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/QUAD_EFG\">QUAD_EFG</a>-tag allows the conversion of the <i>V</i><sub>zz</sub> (see <a href=\"https://www.vasp.at/wiki/index.php/LEFG\" title=\"LEFG\" class=\"tag-link\">LEFG</a>) values into the <i>C</i><sub>q</sub> often encountered in NMR literature.\nThe conversion formula is as follows (<i>Q</i> is the element and isotope specific quadrupole moment):\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle C_{q}={\\frac {eQV_{zz}}{h}}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>C</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>q</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mi>e</mi>\n              <mi>Q</mi>\n              <msub>\n                <mi>V</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>z</mi>\n                  <mi>z</mi>\n                </mrow>\n              </msub>\n            </mrow>\n            <mi>h</mi>\n          </mfrac>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle C_{q}={\\frac {eQV_{zz}}{h}}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9291ee25f742444eae2bab0331adcb8aae3bba4a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.005ex; width:13.28ex; height:5.509ex;\" alt=\"C_{q}={\\frac  {eQV_{{zz}}}{h}}.\"></span></dd></dl>\n<p>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/QUAD_EFG\">QUAD_EFG</a>-tag specifies the nuclear quadrupole moment in millibarns for each atomic species, in the same\norder as in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file. The output <i>C</i><sub>q</sub> is in MHz. An online compilation of nuclear quadrupole moments can be found <a rel=\"nofollow\" class=\"external text\" href=\"http://www.chem.helsinki.fi/~pyykko/Q2008.pdf\">here</a> or in Ref.<sup id=\"cite_ref-pyykko:molphys:08_1-0\" class=\"reference\"><a href=\"#cite_note-pyykko:molphys:08-1\">[1]</a></sup> (updated numbers in Ref.<sup id=\"cite_ref-pyykko:molphys:17_2-0\" class=\"reference\"><a href=\"#cite_note-pyykko:molphys:17-2\">[2]</a></sup>).\n</p><p>Suppose a solid contains Al, C and Si, than the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/QUAD_EFG\">QUAD_EFG</a>-tag could read:\n</p>\n<pre>QUAD_EFG = 146.6 33.27 0\n</pre>\n<p><sup>27</sup>Al is the stable isotope of Al with a natural abundance of 100% and <i>Q</i>=146.6.\nThe stable isotopes <sup>12</sup>C and <sup>13</sup>C are not quadrupolar nuclei, however, the radioactive\n<sup>11</sup>C is. It has <i>Q</i>=33.27. For Si it is pointless to calculate a <i>C</i><sub>q</sub>: again all stable isotopes have I&#8804;1/2. No moments are known for the other isotopes.\n</p><p><b>Beware</b>: several definitions of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle C_{q}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>C</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>q</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle C_{q}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0db4db5fca40e4355ed911b2d0dfa42832af00ec\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:2.65ex; height:2.843ex;\" alt=\"C_{q}\"></span> are used in the NMR community. \n</p><p><b>Beware</b>: for heavy nuclei inaccuracies are to be expected because of an incomplete treatement of relativistic effects. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LEFG\" title=\"LEFG\" class=\"tag-link\">LEFG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22QUAD_EFG%22_incategory:%22Examples%22\" title='Special:Search/\"QUAD EFG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-pyykko:molphys:08-1\"><a href=\"#cite_ref-pyykko:molphys:08_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1080/00268970802018367\">P. Pyykk&#246;, Mol. Phys. 106, 1965 (2008).</a></span>\n</li>\n<li id=\"cite_note-pyykko:molphys:17-2\"><a href=\"#cite_ref-pyykko:molphys:17_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1080/00268976.2018.1426131\">P. Pyykk&#246;, Mol. Phys. 116, 1328 (2017).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-19T14:23:22Z"}, "LCHIMAG": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "calculate the chemical shifts by means of linear response.", "id": 280, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\">LCHIMAG</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP calculates the chemical shift tensors.\n</span></p><p>The chemical shielding tensor is defined as:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{ij}(\\mathbf {R} )=-{\\frac {\\partial B_{i}^{\\mathrm {ind} }(\\mathbf {R} )}{\\partial B_{j}^{\\mathrm {ext} }}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mi mathvariant=\"normal\">&#8706;<!-- &#8706; --></mi>\n              <msubsup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">i</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                    <mi mathvariant=\"normal\">d</mi>\n                  </mrow>\n                </mrow>\n              </msubsup>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">R</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <mrow>\n              <mi mathvariant=\"normal\">&#8706;<!-- &#8706; --></mi>\n              <msubsup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>j</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">e</mi>\n                    <mi mathvariant=\"normal\">x</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                  </mrow>\n                </mrow>\n              </msubsup>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{ij}(\\mathbf {R} )=-{\\frac {\\partial B_{i}^{\\mathrm {ind} }(\\mathbf {R} )}{\\partial B_{j}^{\\mathrm {ext} }}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/de90acab38daaccdf5e8f86cb7328533466a933e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:21.772ex; height:7.343ex;\" alt=\"{\\displaystyle \\sigma _{ij}(\\mathbf {R} )=-{\\frac {\\partial B_{i}^{\\mathrm {ind} }(\\mathbf {R} )}{\\partial B_{j}^{\\mathrm {ext} }}}}\"></span></dd></dl>\n<p>Here <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {R} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {R} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5de85fcc2a00d8ba14aae84aeef812d7fef4b3d5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.003ex; height:2.176ex;\" alt=\"{\\mathbf  {R}}\"></span> denotes the atomic nuclear site, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle i}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>i</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle i}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.802ex; height:2.176ex;\" alt=\"i\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle j}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>j</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle j}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2f461e54f5c093e92a55547b9764291390f0b5d0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; margin-left: -0.027ex; width:0.985ex; height:2.509ex;\" alt=\"j\"></span> denote cartesian indices, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle B^{\\mathrm {ext} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi>B</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">x</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle B^{\\mathrm {ext} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/747d36502316961f28408e007a1f08fbf4176a6a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:4.234ex; height:2.509ex;\" alt=\"{\\displaystyle B^{\\mathrm {ext} }}\"></span> an applied DC external magnetic field and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle B^{\\mathrm {ind} }(\\mathbf {R} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi>B</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n            </mrow>\n          </mrow>\n        </msup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle B^{\\mathrm {ind} }(\\mathbf {R} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5a8889e576b22ba7a742135a2f1832865dc201fb\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:8.094ex; height:3.176ex;\" alt=\"{\\displaystyle B^{\\mathrm {ind} }(\\mathbf {R} )}\"></span> the induced magnetic field at the nucleus.\nNMR experiments yield information on the symmetric part of the tensor. Typical NMR experiments yield information on the shielding relative to that of a reference compound:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\delta _{ij}(\\mathbf {R} )=\\sigma _{ij}^{\\mathrm {ref} }-\\sigma _{ij}(\\mathbf {R} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">f</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\delta _{ij}(\\mathbf {R} )=\\sigma _{ij}^{\\mathrm {ref} }-\\sigma _{ij}(\\mathbf {R} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/590a1af8dd69b0fa3d109b48d58d657a7816105f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.338ex; width:22.427ex; height:3.509ex;\" alt=\"{\\displaystyle \\delta _{ij}(\\mathbf {R} )=\\sigma _{ij}^{\\mathrm {ref} }-\\sigma _{ij}(\\mathbf {R} )}\"></span></dd></dl>\n<p>In this (approximate) formula <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{ij}^{\\mathrm {ref} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">f</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{ij}^{\\mathrm {ref} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ecf74fc1634821412d32eac3c3d44159f5a744ca\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.338ex; width:3.549ex; height:3.509ex;\" alt=\"{\\displaystyle \\sigma _{ij}^{\\mathrm {ref} }}\"></span> is the isotropic shielding of the nucleous in the reference compound.  <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\delta _{ij}(\\mathbf {R} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\delta _{ij}(\\mathbf {R} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b52485944666fbe5a99c7006b19067d3dff88eab\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.322ex; height:3.009ex;\" alt=\"{\\displaystyle \\delta _{ij}(\\mathbf {R} )}\"></span> is the chemical shift tensor.\n</p><p>In VASP the chemical \"shift\" tensor is calculated as:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\delta _{ij}(\\mathbf {R} )\\mathrm {[VASP]} ={\\frac {\\partial B_{i}^{\\mathrm {ind} }(\\mathbf {R} )}{\\partial B_{j}^{\\mathrm {ext} }}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">V</mi>\n          <mi mathvariant=\"normal\">A</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mi mathvariant=\"normal\">&#8706;<!-- &#8706; --></mi>\n              <msubsup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">i</mi>\n                    <mi mathvariant=\"normal\">n</mi>\n                    <mi mathvariant=\"normal\">d</mi>\n                  </mrow>\n                </mrow>\n              </msubsup>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">R</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <mrow>\n              <mi mathvariant=\"normal\">&#8706;<!-- &#8706; --></mi>\n              <msubsup>\n                <mi>B</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>j</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">e</mi>\n                    <mi mathvariant=\"normal\">x</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                  </mrow>\n                </mrow>\n              </msubsup>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\delta _{ij}(\\mathbf {R} )\\mathrm {[VASP]} ={\\frac {\\partial B_{i}^{\\mathrm {ind} }(\\mathbf {R} )}{\\partial B_{j}^{\\mathrm {ext} }}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/db245e7a82c7a5d21b315a4cf785637a6545871b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:27.324ex; height:7.343ex;\" alt=\"{\\displaystyle \\delta _{ij}(\\mathbf {R} )\\mathrm {[VASP]} ={\\frac {\\partial B_{i}^{\\mathrm {ind} }(\\mathbf {R} )}{\\partial B_{j}^{\\mathrm {ext} }}}}\"></span></dd></dl>\n<p>This is minus the shielding tensor. It is not the true chemical shift tensor. To convert it to the real shift tensor one should add the\nreference shielding:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\delta _{ij}(\\mathbf {R} )=\\sigma _{ij}^{\\mathrm {ref} }+\\delta _{ij}(\\mathbf {R} )\\mathrm {[VASP]} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">f</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>+</mo>\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">V</mi>\n          <mi mathvariant=\"normal\">A</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\delta _{ij}(\\mathbf {R} )=\\sigma _{ij}^{\\mathrm {ref} }+\\delta _{ij}(\\mathbf {R} )\\mathrm {[VASP]} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c8bd00c303c0aff72669bdbd801b6b7c9a46cc5a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.338ex; width:29.787ex; height:3.509ex;\" alt=\"{\\displaystyle \\delta _{ij}(\\mathbf {R} )=\\sigma _{ij}^{\\mathrm {ref} }+\\delta _{ij}(\\mathbf {R} )\\mathrm {[VASP]} }\"></span></dd></dl>\n<p>VASP calculates chemical \"shifts\" for non-metallic crystalline systems using the linear response method of Yates, Pickard and Mauri.<sup id=\"cite_ref-pickard:prb:01_1-0\" class=\"reference\"><a href=\"#cite_note-pickard:prb:01-1\">[1]</a></sup><sup id=\"cite_ref-yates:prb:07_2-0\" class=\"reference\"><a href=\"#cite_note-yates:prb:07-2\">[2]</a></sup>\n</p><p><b>INPUT</b>\n</p><p>A typical <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> could look like this:\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\"><span style=\"color:black\">PREC</span></a>=<span><span class=\"tag-value\">A</span>               # nice\n</span><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\"><span style=\"color:black\">ENCUT</span></a>=<span><span class=\"tag-value\">600</span>.0          # typically higher cutoffs than usual are needed\n</span><a href=\"https://www.vasp.at/wiki/index.php/EDIFF\" title=\"EDIFF\" class=\"tag-link\"><span style=\"color:black\">EDIFF</span></a>=<span><span class=\"tag-value\">1E-8</span>           # you need much smaller EDIFFs than normal.\n</span><a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\"><span style=\"color:black\">ISMEAR</span></a>=<span class=\"tag-value\">0;</span> <a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\"><span style=\"color:black\">SIGMA</span></a>=<span><span class=\"tag-value\">0</span>.1 # no fancy smearings, SIGMA sufficiently small\n</span><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\"><span style=\"color:black\">LREAL</span></a>=<span><span class=\"tag-value\">A</span>              # helps for speed for large systems, not necessary per se\n\nLCHIMAG = .TRUE.       # to switch on linear response for chemical shifts\n</span><a href=\"https://www.vasp.at/wiki/index.php/DQ\" title=\"DQ\" class=\"tag-link\"><span style=\"color:black\">DQ</span></a>=<span><span class=\"tag-value\">0</span>.001             # often the default is sufficient\n</span><a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\"><span style=\"color:black\">ICHIBARE</span></a>=<span><span class=\"tag-value\">1</span>           # often the default is sufficient\n</span><a href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\" title=\"LNMR SYM RED\" class=\"tag-link\"><span style=\"color:black\">LNMR_SYM_RED</span></a>=<span><span class=\"tag-value\">.TRUE.</span>  # be on the safe side\n</span><a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\"><span style=\"color:black\">NLSPLINE</span></a>=<span><span class=\"tag-value\">.TRUE.</span>      # only needed if LREAL is NOT set.\n</span></pre>\n<p>The first block of tags in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> above expresses the fact that the calculations of chemical shifts by means of linear response often require a high accuracy (<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">A</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/EDIFF\" title=\"EDIFF\" class=\"tag-link\">EDIFF</a>&#8804;<span><span class=\"tag-value\">1E-8</span>, high </span><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>).\n</p><p>The chemical shifts are calculated from the orbital magnetic response under the assumption that the system is an insulator. It makes no sense to use smearing schemes intended for metals, indeed, doing so can generate nonsense. It is safe to use <a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>=<span><span class=\"tag-value\">0</span> and make </span><a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a> so small that states have no fractional occupancies.\n</p><p>The se&#231;ond block of tags switches on the calculation of the chemical shifts (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\">LCHIMAG</a>=<span><span class=\"tag-value\">.TRUE.</span>), and controls several aspects of the finite difference </span><i>k</i>-space derivatives (Eqs. 38, 40, and 47 in the work of Yates <i>et al.</i><sup id=\"cite_ref-yates:prb:07_2-1\" class=\"reference\"><a href=\"#cite_note-yates:prb:07-2\">[2]</a></sup>):\n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/DQ\" title=\"DQ\" class=\"tag-link\">DQ</a> is the step size for the finite difference <i>k</i>-space derivative. Typical values are in the range [0.001 - 0.003]. The default (<a href=\"https://www.vasp.at/wiki/index.php/DQ\" title=\"DQ\" class=\"tag-link\">DQ</a>=<span><span class=\"tag-value\">0</span>.001) is often sufficient.</span></li></ul>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\">ICHIBARE</a> is the order of the finite difference stencil used to calculate the magnetic susceptibility (second order derivative in Eq. 47 of Yates <i>et al.</i><sup id=\"cite_ref-yates:prb:07_2-2\" class=\"reference\"><a href=\"#cite_note-yates:prb:07-2\">[2]</a></sup>). <a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\">ICHIBARE</a> may be set to 1, 2, or 3. Often the default (<a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\">ICHIBARE</a>=<span><span class=\"tag-value\">1)</span> is sufficient. A higher </span><a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\">ICHIBARE</a> results in a substantial increase of the computational load.</li></ul>\n<ul><li>For <a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\">NLSPLINE</a>=<span><span class=\"tag-value\">.TRUE.</span>, the PAW projectors in reciprocal space (</span><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">.FALSE.</span>) are set up using a spline interpolation so that they are </span><i>k</i>-differentiable. This improves the susceptibility contribution to the shifts (via the aforementioned Eq. 47). It only slightly affects the other contributions to the shifts (Eqs. 38 and 40). It is advised to set <a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\">NLSPLINE</a>=<span><span class=\"tag-value\">.TRUE.</span> if PAW projectors are applied in reciprocal space, but only in case of calculation of chemical shifts. As this option also gives slightly different total energies, it is advised to use the default </span><a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\">NLSPLINE</a>=<span><span class=\"tag-value\">.FALSE.</span> in all other calculations for reasons of compatibility. Real space projectors are </span><i>k</i>-differentiable by construction, hence do not require to set <a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\">NLSPLINE</a>=<span class=\"tag-value\">.TRUE.</span></li></ul>\n<ul><li>The star on which the <i>k</i>-space derivative is calculated is oriented along the cartesian directions in <i>k</i>-space. If the symmetry operations in <i>k</i>-space do not map this star onto itself, erroneous results can be obtained. To have VASP check for such operations, set <a href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\" title=\"LNMR SYM RED\" class=\"tag-link\">LNMR_SYM_RED</a>=<span><span class=\"tag-value\">.TRUE.</span>, and such operations will be discarded, resulting in a larger IBZ. In case of any doubt set </span><a href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\" title=\"LNMR SYM RED\" class=\"tag-link\">LNMR_SYM_RED</a>=<span><span class=\"tag-value\">.TRUE.</span> Beware: It matters how the real space lattice vectors are set up relative to the cartesian coordinates in </span><a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a>. It determines the orientation of the <i>k</i>-space star and hence can affect the efficiency via the number of <i>k</i>-points in the IBZ.</li></ul>\n<p>The chemical shift is calculated via the induced current.<sup id=\"cite_ref-pickard:prb:01_1-1\" class=\"reference\"><a href=\"#cite_note-pickard:prb:01-1\">[1]</a></sup><sup id=\"cite_ref-yates:prb:07_2-3\" class=\"reference\"><a href=\"#cite_note-yates:prb:07-2\">[2]</a></sup>\nIt has contributions from the plane wave grid and one-center contributions (the induced field\nat the center of a PAW sphere due to the augmentation current inside that sphere). Two-center contributions (induced fields due to augmentation currents in\nother PAW spheres) are standard neglected. These contributions can be switched on using <a href=\"https://www.vasp.at/wiki/index.php/LLRAUG\" title=\"LLRAUG\" class=\"tag-link\">LLRAUG</a>.\n</p><p>For very high accuracy calculations use <a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>.\n</p><p>No special <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> files are necessary. The GIPAW is applied using the projectors functions and partial waves that are stored in the regular <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> files. A few remarks, however, on accuracy in relation to the different <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> flavours:\n</p>\n<ul><li>Results sensitively depend on the quality, <i>i.e.</i>, completeness of the partial wave/projector function set in the energy range needed for good chemical transferability. Result obtained with different <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> flavours can differ a few ppm for first and second row <i>sp</i>-bonded elements (except for H).</li></ul>\n<ul><li>Use <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> files generated with a consistent exchange-correlation functional. The PAW reconstruction with AE partial waves is crucial as the field on the nucleus needs to be calculated. So avoid, if possible, overriding <tt>LEXCH</tt> from <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> with an explicit <a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>-tag in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>.</li></ul>\n<p><b>OUTPUT</b>\n</p><p>At the end of the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file, VASP prints the chemical shift tensors both before and after space group symmetrization. These are the absolute tensors for the infinite lattice, excluding core contributions. Next lines \"<tt>Q=0 CONTRIBUTION TO CHEMICAL SHIFT</tt>\" are printed.\nThis is a shift tensor arising solely from the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> component of the induced field. This component is related to the shape of the sample and depends only on the induced macroscopic surface currents.\nIt is printed for a spherical sample (for which is it nucleus independent), and calculated from the orbital magnetic susceptibility (see below), that is also printed.\nTo obtain the full absolute tensors requires adding both the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> contribution and the contributions due to the core electrons. The latter consist of contributions for each chemical species separately\n(depending on <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a>) and a global <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> susceptibility contribution.\n</p><p>Finally the tensor is processed and its (CSA) characteristics are printed on <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>. The tensor is symmetrized (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{ij}=\\sigma _{ji}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{ij}=\\sigma _{ji}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/fbc85eb5eaf5c4ac2877d15eb307c5255fb51fbc\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:8.707ex; height:2.343ex;\" alt=\"{\\displaystyle \\sigma _{ij}=\\sigma _{ji}}\"></span> is enforced) and diagonalized. From the three diagonal values the isotropic chemical \"shift\" <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\delta _{\\mathrm {iso} }\\mathrm {[VASP]} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">o</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">V</mi>\n          <mi mathvariant=\"normal\">A</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\delta _{\\mathrm {iso} }\\mathrm {[VASP]} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8c4d444c372a6a7465692451bdd998f8a6328f7c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:10.847ex; height:2.843ex;\" alt=\"{\\displaystyle \\delta _{\\mathrm {iso} }\\mathrm {[VASP]} }\"></span>, span <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Omega }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Omega }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/24b0d5ca6f381068d756f6337c08e0af9d1eeb6f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.678ex; height:2.176ex;\" alt=\"\\Omega \"></span> and skew <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\kappa }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#954;<!-- &#954; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\kappa }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/54ddec2e922c5caea4e47d04feef86e782dc8e6d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.339ex; height:1.676ex;\" alt=\"\\kappa \"></span> are calculated and printed.<sup id=\"cite_ref-mason:ssn:93_3-0\" class=\"reference\"><a href=\"#cite_note-mason:ssn:93-3\">[3]</a></sup> Note that <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\kappa }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#954;<!-- &#954; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\kappa }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/54ddec2e922c5caea4e47d04feef86e782dc8e6d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.339ex; height:1.676ex;\" alt=\"\\kappa \"></span> is ill-defined if <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Omega =0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Omega =0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f13626ab9973e552799145433799b1a2986dd351\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.939ex; height:2.176ex;\" alt=\"{\\displaystyle \\Omega =0}\"></span>. Note that the isotropic chemical shift <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\delta _{\\mathrm {iso} }\\mathrm {[VASP]} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">o</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">V</mi>\n          <mi mathvariant=\"normal\">A</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\delta _{\\mathrm {iso} }\\mathrm {[VASP]} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8c4d444c372a6a7465692451bdd998f8a6328f7c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:10.847ex; height:2.843ex;\" alt=\"{\\displaystyle \\delta _{\\mathrm {iso} }\\mathrm {[VASP]} }\"></span> (ISO_SHIFT) as printed is actually minus the isotropic shielding. To make it a <i>real shift</i> one should add the reference shielding. Also note that <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Omega }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Omega }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/24b0d5ca6f381068d756f6337c08e0af9d1eeb6f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.678ex; height:2.176ex;\" alt=\"\\Omega \"></span> (SPAN) and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\kappa }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#954;<!-- &#954; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\kappa }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/54ddec2e922c5caea4e47d04feef86e782dc8e6d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.339ex; height:1.676ex;\" alt=\"\\kappa \"></span> (SKEW) are unambiguously defined.<sup id=\"cite_ref-mason:ssn:93_3-1\" class=\"reference\"><a href=\"#cite_note-mason:ssn:93-3\">[3]</a></sup> Units are ppm, except for the skew. This typically looks like:\n</p>\n<pre>  ---------------------------------------------------------------------------------\n   CSA tensor (J. Mason, Solid State Nucl. Magn. Reson. 2, 285 (1993))\n  ---------------------------------------------------------------------------------\n              EXCLUDING G=0 CONTRIBUTION             INCLUDING G=0 CONTRIBUTION\n          -----------------------------------   -----------------------------------\n   ATOM    ISO_SHIFT        SPAN        SKEW     ISO_SHIFT        SPAN        SKEW\n  ---------------------------------------------------------------------------------\n   (absolute, valence only)\n      1    4598.8125      0.0000      0.0000     4589.9696      0.0000      0.0000\n      2     291.5486      0.0000      0.0000      282.7058      0.0000      0.0000\n      3     736.5979    344.8803      1.0000      727.7550    344.8803      1.0000\n      4     736.5979    344.8803      1.0000      727.7550    344.8803      1.0000\n      5     736.5979    344.8803      1.0000      727.7550    344.8803      1.0000\n  ---------------------------------------------------------------------------------\n   (absolute, valence and core)\n      1   -6536.1417      0.0000      0.0000    -6547.9848      0.0000      0.0000\n      2   -5706.3864      0.0000      0.0000    -5718.2296      0.0000      0.0000\n      3   -2369.4015    344.8803      1.0000    -2381.2446    344.8803      1.0000\n      4   -2369.4015    344.8803      1.0000    -2381.2446    344.8803      1.0000\n      5   -2369.4015    344.8803      1.0000    -2381.2446    344.8803      1.0000\n  ---------------------------------------------------------------------------------\n   IF SPAN.EQ.0, THEN SKEW IS ILL-DEFINED\n  ---------------------------------------------------------------------------------\n \n</pre>\n<p>The columns excluding the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> contribution are useful for supercell calculations on molecules.\nThe columns including the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> contribution are for crystals.\nThe upper block gives the shielding due to only the electrons included in the SCF calculation.\nThe lower block has the contributions due to the frozen PAW cores added. These core contributions are rigid.<sup id=\"cite_ref-gregor:jcp:99_4-0\" class=\"reference\"><a href=\"#cite_note-gregor:jcp:99-4\">[4]</a></sup> They depend on <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> and are isotropic, i.e. affect neither SPAN nor SKEW.\n</p><p>By default the orbital <b>magnetic susceptibility</b> is calculated using the so-called <i>pGv</i>-approximation, i.e. Eqs. 46-48 of Yates <i> et al.</i><sup id=\"cite_ref-yates:prb:07_2-4\" class=\"reference\"><a href=\"#cite_note-yates:prb:07-2\">[2]</a></sup>\nAs of vasp.6.4.0 also the <i>vGv</i>-approximation of the susceptibility is calculated. By default, the <i>pGv</i> result\nis applied for the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> contribution to the shifts. With <a href=\"https://www.vasp.at/wiki/index.php/LVGVAPPL\" title=\"LVGVAPPL\" class=\"tag-link\">LVGVAPPL</a> one can force VASP to use the <i>vGv</i> result for the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> contribution instead. With <a href=\"https://www.vasp.at/wiki/index.php/LVGVCALC\" title=\"LVGVCALC\" class=\"tag-link\">LVGVCALC</a> one can suppress calculation of the <i>vGv</i> susceptibility. For details see <a href=\"https://www.vasp.at/wiki/index.php/LVGVCALC\" title=\"LVGVCALC\" class=\"tag-link\">LVGVCALC</a>.\n</p><p><b>Beware</b> the treatment of the orbital magnetism is non-relativistic. This is fine for light nuclei.\nThe standard POTCARs are scalar-relativistic and account partially for relativistic effects.\nThe accuracy can be improved using <a href=\"https://www.vasp.at/wiki/index.php/LBONE\" title=\"LBONE\" class=\"tag-link\">LBONE</a>, that restores the small B-component of the wave function inside the PAW spheres.\nSpin-orbit coupling is not implemented for chemical shift calculations.\n</p><p><b>What to do in case of insufficient memory?</b> VASP trades off memory savings against speed, opting for the latter.\nThe response calculation is inherently parallel over <i>k</i>-points. This can be used to economize on memory:\nFirst do a regular self-consistent calculation at high accuracy for the full <i>k</i>-point mesh. Save the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file.\nNext do a chemical shift calculation for each <i>k</i>-point in the IBZ separately, starting from <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a>, <i>i.e.</i>, using <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">11</span>.\nFinally calculate the shifts as a </span><i>k</i>-point weighted average of the symmetrized shifts of the individual <i>k</i>-points.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DQ\" title=\"DQ\" class=\"tag-link\">DQ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\">ICHIBARE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\" title=\"LNMR SYM RED\" class=\"tag-link\">LNMR_SYM_RED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\">NLSPLINE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LLRAUG\" title=\"LLRAUG\" class=\"tag-link\">LLRAUG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LBONE\" title=\"LBONE\" class=\"tag-link\">LBONE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LVGVCALC\" title=\"LVGVCALC\" class=\"tag-link\">LVGVCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LVGVAPPL\" title=\"LVGVAPPL\" class=\"tag-link\">LVGVAPPL</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LCHIMAG%22_incategory:%22Examples%22\" title='Special:Search/\"LCHIMAG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-pickard:prb:01-1\">&#8593; <sup><a href=\"#cite_ref-pickard:prb:01_1-0\">a</a></sup> <sup><a href=\"#cite_ref-pickard:prb:01_1-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.63.245101\">C. J. Pickard, F. Mauri, Phys. Rev. B 63, 245101 (2001).</a></span>\n</li>\n<li id=\"cite_note-yates:prb:07-2\">&#8593; <sup><a href=\"#cite_ref-yates:prb:07_2-0\">a</a></sup> <sup><a href=\"#cite_ref-yates:prb:07_2-1\">b</a></sup> <sup><a href=\"#cite_ref-yates:prb:07_2-2\">c</a></sup> <sup><a href=\"#cite_ref-yates:prb:07_2-3\">d</a></sup> <sup><a href=\"#cite_ref-yates:prb:07_2-4\">e</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.76.024401\">J. R. Yates, C. J. Pickard, F. Mauri, Phys. Rev. B 76, 024401 (2007).</a></span>\n</li>\n<li id=\"cite_note-mason:ssn:93-3\">&#8593; <sup><a href=\"#cite_ref-mason:ssn:93_3-0\">a</a></sup> <sup><a href=\"#cite_ref-mason:ssn:93_3-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1016/0926-2040(93)90010-K\">J. Mason, Solid State Nucl. Magn. Reson. 2, 285 (1993).</a></span>\n</li>\n<li id=\"cite_note-gregor:jcp:99-4\"><a href=\"#cite_ref-gregor:jcp:99_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1063/1.479451\">T. Gregor, F. Mauri, R. Car, J. Chem. Phys. 111, 1815 (1999).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-02-16T14:45:54Z"}, "DQ": {"datatype": "real", "default": "0.001", "options": {}, "summary": "step size for the finite difference <i>k</i>-space derivative in the linear response calculation of chemical shifts.", "id": 281, "info": "<div><p>Typical values for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/DQ\">DQ</a> are in the range [0.001 - 0.003]. The default is often sufficient.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\">ICHIBARE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\" title=\"LNMR SYM RED\" class=\"tag-link\">LNMR_SYM_RED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\">NLSPLINE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22DQ%22_incategory:%22Examples%22\" title='Special:Search/\"DQ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:10:48Z"}, "ICHIBARE": {"datatype": "integer", "default": "1", "options": {"1": null, "2": null, "3": null}, "summary": "determines the order of the finite difference stencil used to calculate the magnetic susceptibility.", "id": 282, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\">ICHIBARE</a> specifies the order of the finite difference stencil used to calculate the magnetic susceptibility (second order derivative in Eq. 47 of Yates <i>et al.</i><sup id=\"cite_ref-yates:prb:07_1-0\" class=\"reference\"><a href=\"#cite_note-yates:prb:07-1\">[1]</a></sup>). <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\">ICHIBARE</a> may be set to 1, 2, or 3. Often the default (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\">ICHIBARE</a>=<span><span class=\"tag-value\">1)</span> is sufficient. A higher </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\">ICHIBARE</a> results in a substantial increase of the computational load.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DQ\" title=\"DQ\" class=\"tag-link\">DQ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\" title=\"LNMR SYM RED\" class=\"tag-link\">LNMR_SYM_RED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\">NLSPLINE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ICHIBARE%22_incategory:%22Examples%22\" title='Special:Search/\"ICHIBARE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-yates:prb:07-1\"><a href=\"#cite_ref-yates:prb:07_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.76.024401\">J. R. Yates, C. J. Pickard, F. Mauri, Phys. Rev. B 76, 024401 (2007).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:21:19Z"}, "LNMR_SYM_RED": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "discard symmetry operations that are not consistent with the way <i>k</i>-space derivatives are calculated in the linear-response calculations of chemical shifts.", "id": 283, "info": "<div><p>The star on which the <i>k</i>-space derivative is calculated is oriented along the cartesian directions in <i>k</i> space. If the symmetry operations in <i>k</i> space do not map this star onto itself, erroneous results can be obtained. To check for such operations, set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\">LNMR_SYM_RED</a>=<span><span class=\"tag-value\">.TRUE.</span>. VASP then disregards such operations and the resulting first Brillouin zone (IBZ) is larger. In case of any doubt set </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\">LNMR_SYM_RED</a>=<span class=\"tag-value\">.TRUE.</span> \n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> It matters how the real-space-lattice vectors are set up relative to the cartesian coordinates in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file.\n</div><p> It determines the orientation of the <i>k</i>-space star and, hence, can affect the efficiency via the number of <i>k</i>-points in the IBZ.\n</p><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DQ\" title=\"DQ\" class=\"tag-link\">DQ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\">ICHIBARE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\" title=\"NLSPLINE\" class=\"tag-link\">NLSPLINE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LNMR_SYM_RED%22_incategory:%22Examples%22\" title='Special:Search/\"LNMR SYM RED\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T15:56:04Z"}, "NLSPLINE": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "construct the PAW projectors in reciprocal space using spline interpolation so that they are <i>k</i>-differentiable.", "id": 284, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\">NLSPLINE</a>=<span><span class=\"tag-value\">.TRUE.</span>, the PAW projectors in reciprocal space (</span><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">.FALSE.</span>) are set up using a spline interpolation so that they are </span><i>k</i> differentiable. This improves the susceptibility contribution to the chemical shifts. It only slightly affects the other contributions to the chemical shifts.\n</p><p>It is advised to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\">NLSPLINE</a>=<span><span class=\"tag-value\">.TRUE.</span> if and only if PAW projectors are applied in reciprocal space and chemical shifts are calculated, i.e., if and only if </span><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">.FALSE.</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>=<span><span class=\"tag-value\">.TRUE.</span> As this option also gives slightly different total energies, it is advised to use the default </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\">NLSPLINE</a>=<span><span class=\"tag-value\">.FALSE.</span> in all other calculations for reasons of compatibility.\n</span></p><p>Real-space projectors are <i>k</i> differentiable by construction, hence do not require to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NLSPLINE\">NLSPLINE</a>=<span class=\"tag-value\">.TRUE.</span>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DQ\" title=\"DQ\" class=\"tag-link\">DQ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ICHIBARE\" title=\"ICHIBARE\" class=\"tag-link\">ICHIBARE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LNMR_SYM_RED\" title=\"LNMR SYM RED\" class=\"tag-link\">LNMR_SYM_RED</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NLSPLINE%22_incategory:%22Examples%22\" title='Special:Search/\"NLSPLINE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:49:36Z"}, "CMBJ": {"datatype": "real array", "default": "calculated self-consistently", "options": {}, "summary": "defines the <math>c</math> parameter in the MBJ potential.", "id": 285, "info": "<div><p>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CMBJ\">CMBJ</a> tag can be set in the following ways:\n</p>\n<ul><li>Specify a constant that is used at every point of space <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {r} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {r} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/eca0f46511c4c986c48b254073732c0bd98ae0c1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.102ex; height:1.676ex;\" alt=\"{\\mathbf  {r}}\"></span><pre>CMBJ = c</pre></li></ul>\n<ul><li>Specify one entry per atomic type<pre>CMBJ = c_1 c_2 .. c_n</pre> where the order and number <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.395ex; height:1.676ex;\" alt=\"n\"></span> is in accordance with atomic types in your <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file. The MBJ exchange potential at a point <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {r} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {r} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/eca0f46511c4c986c48b254073732c0bd98ae0c1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.102ex; height:1.676ex;\" alt=\"{\\mathbf  {r}}\"></span> will then be calculated using the parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c_{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>c</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c_{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/01acb7953ba52c2aa44264b5d0f8fd223aa178a2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.807ex; height:2.009ex;\" alt=\"{\\displaystyle c_{i}}\"></span> belonging to the atomic species of the atomic site nearest to <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {r} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {r} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/eca0f46511c4c986c48b254073732c0bd98ae0c1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.102ex; height:1.676ex;\" alt=\"{\\mathbf  {r}}\"></span>.</li></ul>\n<p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CMBJ\">CMBJ</a> is not set, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>c</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/86a67b81c2de995bd608d5b2df50cd8cd7d92455\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.007ex; height:1.676ex;\" alt=\"c\"></span> is calculated at each electronic step as the average of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\left\\vert \\nabla n\\right\\vert /n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow>\n          <mo>|</mo>\n          <mrow>\n            <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n            <mi>n</mi>\n          </mrow>\n          <mo>|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\left\\vert \\nabla n\\right\\vert /n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/037cf4837c2431eaec3dddc55d9e02d039d99698\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:7.569ex; height:2.843ex;\" alt=\"{\\displaystyle \\left\\vert \\nabla n\\right\\vert /n}\"></span> in the unit cell, as explained in the description of the <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJE\" title=\"CMBJE\" class=\"tag-link\">CMBJE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMBJ\" title=\"SMBJ\" class=\"tag-link\">SMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RSMBJ\" title=\"RSMBJ\" class=\"tag-link\">RSMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CMBJ%22_incategory:%22Examples%22\" title='Special:Search/\"CMBJ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<p><br>\n</p>\n</div>", "last_revised": "2023-02-15T10:25:33Z"}, "CMBJA": {"datatype": "real", "default": [["\u22120.012", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">MBJ</span>"], ["0.488", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">LMBJ</span>"]], "options": {}, "summary": "sets the <math>\\alpha</math> parameter in the MBJ and LMBJ potentials.", "id": 286, "info": "<div><p>See the description of the <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJ\" title=\"CMBJ\" class=\"tag-link\">CMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJE\" title=\"CMBJE\" class=\"tag-link\">CMBJE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMBJ\" title=\"SMBJ\" class=\"tag-link\">SMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RSMBJ\" title=\"RSMBJ\" class=\"tag-link\">RSMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CMBJA%22_incategory:%22Examples%22\" title='Special:Search/\"CMBJA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-16T12:22:17Z"}, "CMBJB": {"datatype": "real", "default": [["1.023", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">MBJ</span>"], ["0.5", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>=<span class=\"tag-value\">LMBJ</span>"]], "options": {}, "summary": "sets the <math>\\beta</math> parameter in the MBJ and LMBJ potentials.", "id": 287, "info": "<div><p>See the description of the <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJ\" title=\"CMBJ\" class=\"tag-link\">CMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJE\" title=\"CMBJE\" class=\"tag-link\">CMBJE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMBJ\" title=\"SMBJ\" class=\"tag-link\">SMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RSMBJ\" title=\"RSMBJ\" class=\"tag-link\">RSMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CMBJB%22_incategory:%22Examples%22\" title='Special:Search/\"CMBJB\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-16T12:24:24Z"}, "LASPH": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "include non-spherical contributions related to the gradient of the density in the PAW spheres.", "id": 288, "info": "<div><p>Usually VASP calculates only the spherical contribution to the gradient corrections inside the PAW spheres (non-spherical contributions for the LDA part of the potential and the Hartree potential are always included).\n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LASPH\">LASPH</a>=<span><span class=\"tag-value\">.TRUE.</span>, non-spherical contributions from the gradient corrections inside the PAW spheres will be included as well. For VASP.4.6, these contributions are only included in the total energy, after self-consistency has been reached disregarding the aspherical contributions in the gradient corrections.\n</span></p><p>For VASP.5.X the aspherical contributions are properly accounted for in the Kohn-Sham potential as well, if\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LASPH\">LASPH</a>=<span><span class=\"tag-value\">.TRUE.</span> is set. This is essential for accurate total energies and band structure calculations for </span><i>f</i>-elements (e.g. ceria), all 3<i>d</i>-elements (transition metal oxides), and magnetic atoms in the 2nd row (B-F atom), in particular if DFT+U or hybrid functionals, meta-GGAs, or vdW-DFT are used, since these functionals often result in aspherical charge densities.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LMAXPAW\" title=\"LMAXPAW\" class=\"tag-link\">LMAXPAW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LASPH%22_incategory:%22Examples%22\" title='Special:Search/\"LASPH\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:26:27Z"}, "LMAXTAU": {"datatype": "integer", "default": [["6", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LASPH\">LASPH</a>=<span class=\"tag-value\">.TRUE.</span>"], ["0", "else"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\">LMAXTAU</a> is the maximum <i>l</i>-quantum number included in the PAW one-center expansion of the kinetic energy density.</span>", "id": 289, "info": "<div><p>The PAW one-center expansion of the density has component up to and including <i>L</i>=2*<i>l</i><sub>max</sub>, where <i>l</i><sub>max</sub> is the <i>l</i>-quantum number of the partial waves on the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file, with the highest angular moment.\nIf the PAW one-center expansion of the density has component up to <i>L</i>, then the one-center expansion of the kinetic energy density has components up to <i>L</i>+2.\n</p><p>This means that as a rule of thumb, for <i>s</i>-elements: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\">LMAXTAU</a>=<span><span class=\"tag-value\">2</span>, for </span><i>p</i>: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\">LMAXTAU</a>=<span><span class=\"tag-value\">4</span>, and for </span><i>d</i>: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\">LMAXTAU</a>=<span><span class=\"tag-value\">6</span>.\nIf you are willing to live with the computational costs, the default for </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\">LMAXTAU</a> should be safe in all cases, except those involving <i>f</i>-elements.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJ\" title=\"CMBJ\" class=\"tag-link\">CMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMAXTAU%22_incategory:%22Examples%22\" title='Special:Search/\"LMAXTAU\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:38:08Z"}, "LMIXTAU": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "send the kinetic-energy density through the <a href=\"https://www.vasp.at/wiki/index.php/Density_mixing\">density mixer</a> as well.", "id": 290, "info": "<div><p>In many cases, the <a href=\"https://www.vasp.at/wiki/index.php/Density_mixing\" class=\"mw-redirect\" title=\"Density mixing\">density-mixing scheme</a> works well enough without passing the kinetic-energy density through the mixer. Therefore VASP uses <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\">LMIXTAU</a>=<span><span class=\"tag-value\">.FALSE.</span> per default. However, when the self-consistency cycle fails to converge for one of the algorithms exploiting </span><a href=\"https://www.vasp.at/wiki/index.php/Density_mixing\" class=\"mw-redirect\" title=\"Density mixing\">density mixing</a>, e.g, <a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>=<span><span class=\"tag-value\">38</span> or 48, we recommend setting </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\">LMIXTAU</a>=<span><span class=\"tag-value\">.TRUE.</span>.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMIXTAU%22_incategory:%22Examples%22\" title='Special:Search/\"LMIXTAU\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-07T09:31:39Z"}, "EPSILON": {"datatype": "real", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EPSILON\">EPSILON</a> sets the dielectric constant of the medium.</span>", "id": 291, "info": "<div><p>VASP uses this flag only to scale the calculated <a href=\"https://www.vasp.at/wiki/index.php/Monopole_Dipole_and_Quadrupole_corrections\" title=\"Monopole Dipole and Quadrupole corrections\">monopole and dipole corrections</a>. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EPSILON\">EPSILON</a> defaults to 1, which is the proper value for isolated atoms and molcules. For solids, the screening properties can and should be determined using the linear response routines of VASP (see <a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a> and/or <a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>). Ionic contributions to the dielectric tensor should be included, if the ions are allowed to relax. Ionic contributions to the dielectric tensor can be calculated using <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">8</span>.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Monopole_Dipole_and_Quadrupole_corrections\" title=\"Monopole Dipole and Quadrupole corrections\">Monopole Dipole and Quadrupole corrections</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NELECT\" title=\"NELECT\" class=\"tag-link\">NELECT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IDIPOL\" title=\"IDIPOL\" class=\"tag-link\">IDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMONO\" title=\"LMONO\" class=\"tag-link\">LMONO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD\" title=\"EFIELD\" class=\"tag-link\">EFIELD</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EPSILON%22_incategory:%22Examples%22\" title='Special:Search/\"EPSILON\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:13:42Z"}, "IDIPOL": {"datatype": "integer", "default": null, "options": {"1": null, "2": null, "3": null, "4": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IDIPOL\">IDIPOL</a> switches on monopole/dipole and quadrupole corrections to the total energy.</span>", "id": 292, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IDIPOL\">IDIPOL</a>=<span><span class=\"tag-value\">1-3</span>, the dipole moment will be calculated only parallel to the direction of the first, second or third lattice vector, respectively. The corrections for the total energy are calculated as the energy difference between a monopole/dipole and quadrupole in the current supercell and the same dipole placed in a super cell with the corresponding lattice vector approaching infinity. This flag should be used for slab calculations.\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IDIPOL\">IDIPOL</a>=<span><span class=\"tag-value\">4</span> the full dipole moment in all directions will be calculated, and the corrections to the total energy are calculated as the energy difference between a monopole/dipole/quadrupole in the current supercell and the same monopole/dipole/quadrupole placed in a vacuum, use this flag for calculations for isolated molecules.\n</span></p><p><b>Note</b>: strictly speaking quadrupole corrections is not the proper wording. The relevant quantity is\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\int d^{3}{\\mathbf {r} }\\rho (\\mathbf {r} )\\Vert \\mathbf {r} \\Vert ^{2}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <msup>\n          <mi>d</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mi>&#961;<!-- &#961; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo fence=\"false\" stretchy=\"false\">&#8214;<!-- &#8214; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <msup>\n          <mo fence=\"false\" stretchy=\"false\">&#8214;<!-- &#8214; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\int d^{3}{\\mathbf {r} }\\rho (\\mathbf {r} )\\Vert \\mathbf {r} \\Vert ^{2}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/caf70fc315480c23272eca59d59faee2b93d4b1f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:15.197ex; height:5.676ex;\" alt=\"\\int d^{3}{{\\mathbf  r}}\\rho ({\\mathbf  r})\\Vert {\\mathbf  r}\\Vert ^{2}.\"></span></dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Monopole_Dipole_and_Quadrupole_corrections\" title=\"Monopole Dipole and Quadrupole corrections\">Monopole Dipole and Quadrupole corrections</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NELECT\" title=\"NELECT\" class=\"tag-link\">NELECT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EPSILON\" title=\"EPSILON\" class=\"tag-link\">EPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMONO\" title=\"LMONO\" class=\"tag-link\">LMONO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD\" title=\"EFIELD\" class=\"tag-link\">EFIELD</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IDIPOL%22_incategory:%22Examples%22\" title='Special:Search/\"IDIPOL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:21:34Z"}, "LDIPOL": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDIPOL\">LDIPOL</a> switches on corrections to the potential and forces in VASP. Can be applied for charged molecules and molecules and slabs with a net dipole moment.</span>", "id": 293, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDIPOL\">LDIPOL</a>=<span><span class=\"tag-value\">.TRUE.</span> | .FALSE.</span><br> Default: <b>LDIPOL</b> = .FALSE.&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDIPOL\">LDIPOL</a> switches on corrections to the potential and forces in VASP. Can be applied for charged molecules and molecules and slabs with a net dipole moment.\n</p>\n</div>", "last_revised": "2022-04-07T08:26:36Z"}, "LMONO": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMONO\">LMONO</a> switches on monopole-monopole corrections for the total energy.</span>", "id": 294, "info": "<div><p>The flag switches on monopole corrections for charged systems. The correction is calculated only a posteriori for the total energy. No correction to the potential is calculated.  If corrections for the potential are desired as well, please use <a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a> instead (for <a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP automatically determines whether the system is charged and activates the monopole corrections automatically). \n</span></p><p>The primary use of this flag is for defect calculations in charged supercells, as well\nas charged 0D systems (molecules and atoms). VASP also automatically calculates\ncorrections to the total energy related to repeated dipoles (<a href=\"https://www.vasp.at/wiki/index.php/IDIPOL\" title=\"IDIPOL\" class=\"tag-link\">IDIPOL</a>=<span><span class=\"tag-value\">4)</span>. \nThe user then needs to decide whether\nthose are sensible or not. Specifically, for super cells using periodic boundary conditions, \nit is often not possible to determine the dipole at the defect site accurately,\nwhereas for 0D systems (i.e. atoms and molecules) the dipole can be determined \naccurately.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Monopole_Dipole_and_Quadrupole_corrections\" title=\"Monopole Dipole and Quadrupole corrections\">Monopole Dipole and Quadrupole corrections</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NELECT\" title=\"NELECT\" class=\"tag-link\">NELECT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EPSILON\" title=\"EPSILON\" class=\"tag-link\">EPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IDIPOL\" title=\"IDIPOL\" class=\"tag-link\">IDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD\" title=\"EFIELD\" class=\"tag-link\">EFIELD</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMONO%22_incategory:%22Examples%22\" title='Special:Search/\"LMONO\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:36:16Z"}, "EFIELD": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EFIELD\">EFIELD</a> controls the magnitude of the applied electric force field.</span>", "id": 295, "info": "<div><p>It is possible to apply an external electrostatic field in slab, or molecular calculations. Presently only a single value can be supplied and the field is applied in the direction selected by <a href=\"https://www.vasp.at/wiki/index.php/IDIPOL\" title=\"IDIPOL\" class=\"tag-link\">IDIPOL</a>=<span><span class=\"tag-value\">1-4</span>. The electric force field is supplied in units of eV/&#197;. Dipole corrections to the potential (</span><a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a>=<span><span class=\"tag-value\">.TRUE.</span>) can and should be turned on to avoid interactions between the periodically repeated images.\n</span></p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The electric field is defined opposite to the common definition. So electrons will move along the direction of the electric field.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Monopole_Dipole_and_Quadrupole_corrections\" title=\"Monopole Dipole and Quadrupole corrections\">Monopole Dipole and Quadrupole corrections</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NELECT\" title=\"NELECT\" class=\"tag-link\">NELECT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EPSILON\" title=\"EPSILON\" class=\"tag-link\">EPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IDIPOL\" title=\"IDIPOL\" class=\"tag-link\">IDIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMONO\" title=\"LMONO\" class=\"tag-link\">LMONO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LDIPOL\" title=\"LDIPOL\" class=\"tag-link\">LDIPOL</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EFIELD%22_incategory:%22Examples%22\" title='Special:Search/\"EFIELD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-01-23T13:49:15Z"}, "ISYM": {"datatype": "integer", "default": [["1", "if VASP runs with USPPs"], ["3", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>"], ["2", "else"]], "options": {"-1": null, "0": null, "1": null, "2": null, "3": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISYM\">ISYM</a> determines the way VASP treats symmetry.</span>", "id": 296, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISYM\">ISYM</a>=<span><span class=\"tag-value\">1</span> | 2 | 3, switches on the use of symmetry.\nFor </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISYM\">ISYM</a>=<span><span class=\"tag-value\">-1</span> | 0, the use of symmetry is switched off.\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISYM\">ISYM</a>=<span><span class=\"tag-value\">2</span> a more efficient, memory conserving symmetrization of the charge density is used (than for </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISYM\">ISYM</a>=<span><span class=\"tag-value\">1)</span>. This reduces memory requirements in particular for the parallel version.\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISYM\">ISYM</a>=<span><span class=\"tag-value\">3</span>, VASP does not directly symmetrize the charge density. Instead, the charge density is constructed by applying the relevant symmetry operations to the orbitals at the </span><b>k</b>-points in the irreducible part of the Brillouin zone. This method of symmetrization is used when <a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>\n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISYM\">ISYM</a>=<span><span class=\"tag-value\">0</span>, VASP does not use symmetry, but it will assume that &#936;</span><sub><b>k</b></sub>=&#936;<sup>*</sup><sub><b>-k</b></sub> and reduces the sampling of the Brillouin zone accordingly. This value should be set for molecular dynamics, i.e. <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>. \n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISYM\">ISYM</a>=<span><span class=\"tag-value\">-1</span> the use of symmetry is switched off completely.\n</span></p><p>When the use of symmetry is switched on, VASP determines the point group symmetry and the space group consistent with the structure and initial velocities found on the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file (this is written out to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file for each <a href=\"https://www.vasp.at/wiki/index.php/NWRITE\" title=\"NWRITE\" class=\"tag-link\">NWRITE</a> option), and the initial magnetic moments specified through the <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> tag in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. The <a href=\"https://www.vasp.at/wiki/index.php/SYMPREC\" title=\"SYMPREC\" class=\"tag-link\">SYMPREC</a>-tag (VASP.4.4.4 and newer versions) determines by how much atomic positions may differ and still be judged to be equivalent by the symmetry detection algorithms. The default is 10<sup>-5</sup>, which is usually sufficiently large even if the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file has been generated with a single precision program. Increasing the <a href=\"https://www.vasp.at/wiki/index.php/SYMPREC\" title=\"SYMPREC\" class=\"tag-link\">SYMPREC</a> tag means, that the positions in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file can be less accurate. During the symmetry analysis, VASP determines\n</p>\n<ul><li>the Bravais lattice type of the supercell,</li>\n<li>the point group symmetry and the space group of the supercell with basis (static and dynamic) - and prints the names of the group (space group: only 'family'),</li>\n<li>the type of the generating elementary (primitive) cell if the supercell is a non-primitive cell,</li>\n<li>all 'trivial non-trivial' translations (= trivial translations of the generating elementary cell within the supercell) -- needed for symmetrization of the charge,</li>\n<li>the symmetry-irreducible set of k-points if automatic k-mesh generation was used and additionally the symmetry-irreducible set of tetrahedra if the tetrahedron method was chosen together with the automatic k-mesh generation and of course also the corresponding weights ('symmetry degeneracy'),</li>\n<li>and tables marking and connecting symmetry equivalent ions.</li></ul>\n<p>The symmetry analysis is done in four steps:\n</p>\n<ul><li>First the point group symmetry of the lattice (as supplied by the user) is determined.</li>\n<li>Then tests are performed, on whether the basis breaks the symmetry. Accordingly, these symmetry operations are removed.</li>\n<li>The initial velocities are checked for symmetry breaking.</li>\n<li>Finally, it is checked whether <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> breaks the symmetry. Correspondingly the magnetic symmetry group is determined.</li></ul>\n<p>The program symmetrizes automatically:\n</p>\n<ul><li>The total charge density according to the determined space group</li>\n<li>The forces on the ions according to the determined space group.</li>\n<li>The stress tensor according to the determined space group</li></ul>\n<p>Why is symmetrization necessary: Within LDA the symmetry of the supercell and the charge density is always the same. This symmetry is broken because a symmetry-irreducible set of <b>k</b> points is used for the calculation. To restore the correct charge density and the correct forces it is necessary to symmetrize these quantities.\n</p><p>It must be stressed that VASP does not determine the symmetry elements of the primitive cell. If the supercell has a lower symmetry than the primitive cell only the lower symmetry of the supercell is used in the calculation. In this case, one should not expect that forces that should be zero according to symmetry will be precisely zero in actual calculations. The symmetry of the primitive cell is in fact broken in several places in VASP:\n</p>\n<ul><li>Local potential:</li></ul>\n<dl><dd>In reciprocal space, the potential <i>V</i>(<b>G</b>) should be zero, if <b>G</b> is not a reciprocal lattice vector of the primitive cell. For <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">Medium</span>, this is not guaranteed due to \"aliasing\" or wrap around and the charge density (and therefore the Hartree potential) might violate this point. But even for </span><a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">High</span>, small errors are introduced, because the exchange-correlation potential is calculated in real space.</span></dd></dl>\n<ul><li><b>k</b>-points:</li></ul>\n<dl><dd>In most cases, the automatic <b>k</b>-point grid does not have the symmetry of the primitive cell.</dd></dl>\n<p><br>\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> If symmetry is switched on then <a href=\"https://www.vasp.at/wiki/index.php/NWRITE\" title=\"NWRITE\" class=\"tag-link\">NWRITE</a>=<span><span class=\"tag-value\">3</span> writes out the symmetry operations to the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>, <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>, <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>, <a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>, <a href=\"https://www.vasp.at/wiki/index.php/NWRITE\" title=\"NWRITE\" class=\"tag-link\">NWRITE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ISYM%22_incategory:%22Examples%22\" title='Special:Search/\"ISYM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-25T09:04:15Z"}, "LELF": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LELF\">LELF</a> determines whether to create an</span>", "id": 297, "info": "<div><p>This file contains the so-called ELF (electron localization\nfunction) <sup id=\"cite_ref-silvi:nature:371_1-0\" class=\"reference\"><a href=\"#cite_note-silvi:nature:371-1\">[1]</a></sup>\n</p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LELF\">LELF</a> is set, <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>=<span><span class=\"tag-value\">1</span> has to be set explicitely in\nthe </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file in addition\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LELF%22_incategory:%22Examples%22\" title='Special:Search/\"LELF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-silvi:nature:371-1\"><a href=\"#cite_ref-silvi:nature:371_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://www.nature.com/nature/journal/v371/n6499/pdf/371683a0.pdf\">B. Silvi and A. Savin, Nature 371, 683-686 (1994).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:30:36Z"}, "SYMPREC": {"datatype": "real", "default": "1E-5", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SYMPREC\">SYMPREC</a> determines to which accuracy the positions in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POSCAR\">POSCAR</a> file must be specified (as of VASP.4.4.4).</span>", "id": 298, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SYMPREC\">SYMPREC</a> determines how accurately the positions in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file must be specified.\nThe default, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SYMPREC\">SYMPREC</a>=<span class=\"tag-value\">10</span><sup>-5</sup>, is usually large enough, even if the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file has been generated with single precision accuracy.\nIncreasing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SYMPREC\">SYMPREC</a> means that the positions in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file can be specified with less accuracy (increasing fuzziness). Please also have a look at <a href=\"https://www.vasp.at/wiki/index.php/POSCAR#Precision_and_symmetry\" title=\"POSCAR\">this section</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ISYM\" title=\"ISYM\" class=\"tag-link\">ISYM</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SYMPREC%22_incategory:%22Examples%22\" title='Special:Search/\"SYMPREC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-08-11T08:07:01Z"}, "LPLANE": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a> switches on the plane-wise data distribution in real space. </span>", "id": 299, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a>=<span><span class=\"tag-value\">.TRUE.</span>, the data distribution in real space is done plane wise.\nAny combination of </span><a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a> can be used.\n</p><p>Generally, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a>=<span><span class=\"tag-value\">.TRUE.</span> reduces the communication band width during the FFT's, but at the same time it unfortunately worsens the load balancing on massively parallel machines.\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a>=<span><span class=\"tag-value\">.TRUE.</span> should only be used if </span><a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a> is at least 3&#215;(number of nodes)/<a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>, and optimal load balancing is achieved if <a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>=<i>n</i>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>, where <i>n</i> is an arbitrary integer.\n</p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a>=<span><span class=\"tag-value\">.TRUE.</span> and if the real space projector functions (</span><a href=\"https://www.vasp.at/wiki/index.php/LREAL\" title=\"LREAL\" class=\"tag-link\">LREAL</a>=<span><span class=\"tag-value\">.TRUE.</span> or ON or AUTO) are used, it might be necessary to check the lines following\n</span></p>\n<pre>real space projector functions\n total allocation   :\n max/ min on nodes  :\n</pre>\n<p>The <tt>max/ min</tt> values should not differ too much, otherwise the load balancing might worsen as well.\n</p><p>The optimum settings for <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a> depend strongly on the type of machine you are using.\nSome recommended setups:\n</p>\n<ul><li>LINUX cluster linked by Infiniband, modern multicore machines:</li></ul>\n<dl><dd>On a LINUX cluster with multicore machines linked by a fast network we recommend to set</dd></dl>\n<pre>LPLANE = .TRUE.\nNCORE  = number of cores per node (e.g. 4 or 8)\nLSCALU = .FALSE.\nNSIM   = 4\n</pre>\n<dl><dd>If very many nodes are used, it might be necessary to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a>=<span><span class=\"tag-value\">.FALSE.</span>, but usually this offers very little advantage. For long runs (</span><i>e.g.</i> molecular dynamics), we recommend to optimize <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> by trying short runs for different settings.</dd></dl>\n<ul><li>LINUX cluster linked by 1 Gbit Ethernet, and LINUX clusters with single cores:</li></ul>\n<dl><dd>On a LINUX cluster linked by a relatively slow network, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a> must be set to .TRUE., and the <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> flag should be equal to the number of cores:</dd></dl>\n<pre>LPLANE = .TRUE.\nNCORE  = 1\nLSCALU = .FALSE.\nNSIM   = 4\n</pre>\n<dl><dd>Mind that you need at least a 100 Mbit full duplex network, with a fast switch offering at least 2 Gbit switch capacity to find usefull speedups. Multi-core machines should be always linked by an Infiniband, since Gbit is too slow for multi-core machines.</dd></dl>\n<ul><li>Massively parallel machines (Cray, Blue Gene):</li></ul>\n<dl><dd>On many massively parallel machines one is forced to use a huge number of cores. In this case load balancing problems and problems with the communication bandwidth are likely to be experienced. In addition the local memory is fairly small on some massively parallel machines; too small keep the real space projectors in the cache with any setting. Therefore, we recommend to set <a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a> on these machines to &#8730;<i># of cores</i> (explicit timing can be helpful to find the optimum value). The use of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPLANE\">LPLANE</a>=<span><span class=\"tag-value\">.TRUE.</span> is only recommended if the number of nodes is significantly smaller than </span><a href=\"https://www.vasp.at/wiki/index.php/NGX\" title=\"NGX\" class=\"tag-link\">NGX</a>, <a href=\"https://www.vasp.at/wiki/index.php/NGY\" title=\"NGY\" class=\"tag-link\">NGY</a> and <a href=\"https://www.vasp.at/wiki/index.php/NGZ\" title=\"NGZ\" class=\"tag-link\">NGZ</a>.</dd></dl>\n<dl><dd>In summary, the following setting is recommended</dd></dl>\n<pre>LPLANE = .FALSE.\nNPAR   = sqrt(number of cores)\nNSIM   = 1\n</pre>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALU\" title=\"LSCALU\" class=\"tag-link\">LSCALU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\" title=\"LSCAAWARE\" class=\"tag-link\">LSCAAWARE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LPLANE%22_incategory:%22Examples%22\" title='Special:Search/\"LPLANE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:39:35Z"}, "LSCALU": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCALU\">LSCALU</a> switches on the parallel LU decomposition (using scaLAPACK) in the orthonormalization of the wave functions. </span>", "id": 300, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCALU\">LSCALU</a>=<span><span class=\"tag-value\">.TRUE.</span> the LU decomposition in the orthormalization of the wave functions is done in parallel, using scaLAPACK routines.\nProvided, of course, </span><a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a>=<span><span class=\"tag-value\">.TRUE.</span> and VASP was compiled with scaLAPACK support (</span><a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\" class=\"mw-redirect\" title=\"Precompiler flags\">precompiler flag</a>: -DscaLAPACK).\n</p><p>In many cases, the scaLAPACK LU decomposition based is <i>slower</i> than the serial LU decomposition (compare the timing <tt>ORTHCH</tt> in the respective <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> files). Hence the default is <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCALU\">LSCALU</a>=<span><span class=\"tag-value\">.FALSE.</span>\n(subspace rotations, however, are still done using scaLAPACK).\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\" title=\"LSCAAWARE\" class=\"tag-link\">LSCAAWARE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSCALU%22_incategory:%22Examples%22\" title='Special:Search/\"LSCALU\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:40:45Z"}, "LSCALAPACK": {"datatype": "boolean", "default": [[".TRUE.", "if VASP is compiled with scaLAPACK support (precompiler flag -DscaLAPACK)"], [".FALSE.", "otherwise"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\">LSCALAPACK</a> controls the use of scaLAPACK. </span>", "id": 301, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\">LSCALAPACK</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP uses scaLAPACK routines for the orthonormalization of the wave functions and subspace diagonalizations.\n</span></p><p>The use of scaLAPACK for the LU decomposition in the orthonormalization of the wave functions may be independently switched off (<a href=\"https://www.vasp.at/wiki/index.php/LSCALU\" title=\"LSCALU\" class=\"tag-link\">LSCALU</a>=<span><span class=\"tag-value\">.FALSE.</span>). \n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALU\" title=\"LSCALU\" class=\"tag-link\">LSCALU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\" title=\"LSCAAWARE\" class=\"tag-link\">LSCAAWARE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSCALAPACK%22_incategory:%22Examples%22\" title='Special:Search/\"LSCALAPACK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:40:13Z"}, "NPACO": {"datatype": "integer", "default": "256", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPACO\">NPACO</a> sets the number of slots in the pair-correlation function written to <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PCDAT\">PCDAT</a>.</span>", "id": 302, "info": "<div><p>VASP evaluates the pair-correlation function each <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a> steps and writes the PC-function after <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/KBLOCK\" title=\"KBLOCK\" class=\"tag-link\">KBLOCK</a> steps to the <a href=\"https://www.vasp.at/wiki/index.php/PCDAT\" title=\"PCDAT\" class=\"tag-link\">PCDAT</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/APACO\" title=\"APACO\" class=\"tag-link\">APACO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KBLOCK\" title=\"KBLOCK\" class=\"tag-link\">KBLOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PCDAT\" title=\"PCDAT\" class=\"tag-link\">PCDAT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NPACO%22_incategory:%22Examples%22\" title='Special:Search/\"NPACO\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T08:22:13Z"}, "APACO": {"datatype": "real", "default": "10", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/APACO\">APACO</a> sets the maximum distance in the evaluation of the pair-correlation function (in \u00c5).</span>", "id": 303, "info": "<div><p>VASP evaluates the pair-correlation function each <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a> steps and writes it after <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/KBLOCK\" title=\"KBLOCK\" class=\"tag-link\">KBLOCK</a> steps to the <a href=\"https://www.vasp.at/wiki/index.php/PCDAT\" title=\"PCDAT\" class=\"tag-link\">PCDAT</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NPACO\" title=\"NPACO\" class=\"tag-link\">NPACO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KBLOCK\" title=\"KBLOCK\" class=\"tag-link\">KBLOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PCDAT\" title=\"PCDAT\" class=\"tag-link\">PCDAT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22APACO%22_incategory:%22Examples%22\" title='Special:Search/\"APACO\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T08:25:10Z"}, "ISIF": {"datatype": "integer", "default": [["0", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">0</span> (molecular dynamics) or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>"], ["2", "else"]], "options": {"0": null, "1": null, "2": null, "3": null, "4": null, "5": null, "6": null, "7": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISIF\">ISIF</a> determines whether the stress tensor is calculated and which principal degrees-of-freedom are allowed to change in relaxation and molecular dynamics runs.</span>", "id": 304, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISIF\">ISIF</a> determines whether the stress tensor is calculated.\nThe calculation of the stress tensor is relatively time-consuming, and therefore by default switched off for <i>ab initio</i> molecular dynamics runs.\nThe forces are always calculated.\n</p><p>In addition <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISIF\">ISIF</a> determines which degrees-of-freedom (ionic positions, cell volume, and cell shape) are allowed to change.\n</p><p>The following table shows all combinations:\n</p>\n<dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISIF\">ISIF</a></td>\n<td colspan=\"2\" style=\"text-align: center;\">calculate</td>\n<td colspan=\"3\" style=\"text-align: center;\">degrees-of-freedom\n</td></tr>\n<tr>\n<td></td>\n<td>forces</td>\n<td>Stress tensor</td>\n<td>positions</td>\n<td>cell shape</td>\n<td>cell volume\n</td></tr>\n<tr>\n<td>0</td>\n<td>yes</td>\n<td>no</td>\n<td>yes</td>\n<td>no</td>\n<td>no\n</td></tr>\n<tr>\n<td>1</td>\n<td>yes</td>\n<td>trace only</td>\n<td>yes</td>\n<td>no</td>\n<td>no\n</td></tr>\n<tr>\n<td>2</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n<td>no\n</td></tr>\n<tr>\n<td>3</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes\n</td></tr>\n<tr>\n<td>4</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>no\n</td></tr>\n<tr>\n<td>5</td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n<td>yes</td>\n<td>no\n</td></tr>\n<tr>\n<td>6</td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n<td>yes</td>\n<td>yes\n</td></tr>\n<tr>\n<td>7</td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>yes\n</td></tr></tbody></table></dd></dl>\n<p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISIF\">ISIF</a>=<span><span class=\"tag-value\">1</span>, only the trace of the stress tensor is calculated. This means only the total pressure is correctly written to the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. See the line:\n</p>\n<pre>external pressure =      ... kB\n</pre>\n<p>The individual components of the stress tensor are not reliable in that case.\n</p><p><br>\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> Before you perform relaxations in which the volume or the cell shape is allowed to change you must read and understand the section on <a href=\"https://www.vasp.at/wiki/index.php/Energy_vs_volume_Volume_relaxations_and_Pulay_stress\" title=\"Energy vs volume Volume relaxations and Pulay stress\">energy vs. volume, volume relaxations, and Pulay stress</a>. In general volume changes should be done only with an increased energy cutoff, <i>i.e.</i>, <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>=<span><span class=\"tag-value\">1</span>.3&#215;max(</span><a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>) or <a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>=<span><span class=\"tag-value\">High</span>.\n</span></div><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  When <a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>=.TRUE (for Hartree-Fock/hybrid calculations), by default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ISIF\">ISIF</a>=<span><span class=\"tag-value\">0</span> and the stress tensor is not calculated.\n</span></div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LEPSILON\" title=\"LEPSILON\" class=\"tag-link\">LEPSILON</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ISIF%22_incategory:%22Examples%22\" title='Special:Search/\"ISIF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-17T15:24:15Z"}, "MDALGO": {"datatype": "integer", "default": "0", "options": {"0": null, "1": null, "2": null, "3": null, "11": null, "21": null, "13": null, "4": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a> specifies the molecular-dynamics-simulation protocol (in case <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">IBRION</a>=<span><span class=\"tag-value\">0</span> and VASP was compiled with </span><a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-Dtbdyn\">-Dtbdyn</a>). </span>", "id": 305, "info": "<div><div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#MDALGO.3D0:_Standard_molecular_dynamics\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">MDALGO=0: Standard molecular dynamics</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-2\"><a href=\"#NVE_ensemble\"><span class=\"tocnumber\">1.1</span> <span class=\"toctext\">NVE ensemble</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#MDALGO.3D1:_Andersen_thermostat\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">MDALGO=1: Andersen thermostat</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#Standard_molecular_dynamics_in\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Standard molecular dynamics in</span></a></li>\n<li class=\"toclevel-2 tocsection-5\"><a href=\"#Constrained_molecular_dynamics\"><span class=\"tocnumber\">2.2</span> <span class=\"toctext\">Constrained molecular dynamics</span></a></li>\n<li class=\"toclevel-2 tocsection-6\"><a href=\"#Slow-growth_approach\"><span class=\"tocnumber\">2.3</span> <span class=\"toctext\">Slow-growth approach</span></a></li>\n<li class=\"toclevel-2 tocsection-7\"><a href=\"#Monitoring_geometric_parameters\"><span class=\"tocnumber\">2.4</span> <span class=\"toctext\">Monitoring geometric parameters</span></a></li>\n<li class=\"toclevel-2 tocsection-8\"><a href=\"#Metadynamics\"><span class=\"tocnumber\">2.5</span> <span class=\"toctext\">Metadynamics</span></a></li>\n<li class=\"toclevel-2 tocsection-9\"><a href=\"#Biased_molecular_dynamics\"><span class=\"tocnumber\">2.6</span> <span class=\"toctext\">Biased molecular dynamics</span></a></li>\n<li class=\"toclevel-2 tocsection-10\"><a href=\"#Special_case:_NVE_ensemble\"><span class=\"tocnumber\">2.7</span> <span class=\"toctext\">Special case: NVE ensemble</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-11\"><a href=\"#MDALGO.3D2:_Nose-Hoover_thermostat\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">MDALGO=2: Nose-Hoover thermostat</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-12\"><a href=\"#Standard_molecular_dynamics\"><span class=\"tocnumber\">3.1</span> <span class=\"toctext\">Standard molecular dynamics</span></a></li>\n<li class=\"toclevel-2 tocsection-13\"><a href=\"#Constrained_molecular_dynamics_2\"><span class=\"tocnumber\">3.2</span> <span class=\"toctext\">Constrained molecular dynamics</span></a></li>\n<li class=\"toclevel-2 tocsection-14\"><a href=\"#Slow-growth_approach_2\"><span class=\"tocnumber\">3.3</span> <span class=\"toctext\">Slow-growth approach</span></a></li>\n<li class=\"toclevel-2 tocsection-15\"><a href=\"#Monitoring_geometric_parameters_2\"><span class=\"tocnumber\">3.4</span> <span class=\"toctext\">Monitoring geometric parameters</span></a></li>\n<li class=\"toclevel-2 tocsection-16\"><a href=\"#Metadynamics_2\"><span class=\"tocnumber\">3.5</span> <span class=\"toctext\">Metadynamics</span></a></li>\n<li class=\"toclevel-2 tocsection-17\"><a href=\"#Biased_molecular_dynamics_2\"><span class=\"tocnumber\">3.6</span> <span class=\"toctext\">Biased molecular dynamics</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-18\"><a href=\"#MDALGO.3D3:_Langevin_thermostat\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">MDALGO=3: Langevin thermostat</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-19\"><a href=\"#NVT-simulation_with_Langevin_thermostat\"><span class=\"tocnumber\">4.1</span> <span class=\"toctext\"><i>NVT</i>-simulation with Langevin thermostat</span></a></li>\n<li class=\"toclevel-2 tocsection-20\"><a href=\"#NpT-simulation_with_Langevin_thermostat\"><span class=\"tocnumber\">4.2</span> <span class=\"toctext\"><i>NpT</i>-simulation with Langevin thermostat</span></a></li>\n<li class=\"toclevel-2 tocsection-21\"><a href=\"#Stochastic_boundary_conditions\"><span class=\"tocnumber\">4.3</span> <span class=\"toctext\">Stochastic boundary conditions</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-22\"><a href=\"#Practical_example\"><span class=\"tocnumber\">4.3.1</span> <span class=\"toctext\">Practical example</span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-23\"><a href=\"#MDALGO.3D4:_Nose_Hoover_chains_thermostat\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">MDALGO=4: Nose Hoover chains thermostat</span></a></li>\n<li class=\"toclevel-1 tocsection-24\"><a href=\"#MDALGO.3D13:_Multiple_Andersen_thermostats\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">MDALGO=13: Multiple Andersen thermostats</span></a></li>\n<li class=\"toclevel-1 tocsection-25\"><a href=\"#Related_Tags_and_Sections\"><span class=\"tocnumber\">7</span> <span class=\"toctext\">Related Tags and Sections</span></a></li>\n<li class=\"toclevel-1 tocsection-26\"><a href=\"#References\"><span class=\"tocnumber\">8</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span id=\"MDALGO=0:_Standard_molecular_dynamics\"></span><span class=\"mw-headline\" id=\"MDALGO.3D0:_Standard_molecular_dynamics\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">0</span>: Standard molecular dynamics</span></span></h2>\n<p>Should provide the same results as <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">2</span> (</span><a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover_thermostat\" title=\"Nose-Hoover thermostat\">Nose-Hoover thermostat</a>). The difference is that it is a different implementation and works also without the precompiler flag <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\" class=\"mw-redirect\" title=\"Precompiler flags\">-Dtbdyn</a>.\n</p>\n<h3><span class=\"mw-headline\" id=\"NVE_ensemble\">NVE ensemble</span></h3>\n<ul><li>To perform a calculation in the NVE ensemble:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">0</span> and set </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>=<span><span class=\"tag-value\">-3</span>.</span></li></ol>\n<h2><span id=\"MDALGO=1:_Andersen_thermostat\"></span><span class=\"mw-headline\" id=\"MDALGO.3D1:_Andersen_thermostat\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span>: Andersen thermostat</span></span></h2>\n<p>For the description of the Andersen thermostat see: <a href=\"https://www.vasp.at/wiki/index.php/Andersen_thermostat\" title=\"Andersen thermostat\">Andersen thermostat</a>.\n</p><p>The Andersen thermostat is only available for the NVT ensemble.\n</p>\n<h3><span class=\"mw-headline\" id=\"Standard_molecular_dynamics_in\">Standard molecular dynamics in</span></h3>\n<ul><li>For a standard molecular dynamics run with Anderson thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span>, and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a></li></ol>\n<h3><span class=\"mw-headline\" id=\"Constrained_molecular_dynamics\">Constrained molecular dynamics</span></h3>\n<p>For a description of constrained molecular dynamics see <a href=\"https://www.vasp.at/wiki/index.php/Constrained_molecular_dynamics\" title=\"Constrained molecular dynamics\">Constrained molecular dynamics</a>.\n</p>\n<ul><li>For a constrained molecular dynamics run with Andersen thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a></li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span>, and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a></li>\n<li>Define geometric constraints in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the STATUS parameter for the constrained coordinates to 0</li>\n<li>When the free-energy gradient is to be computed, set <a href=\"https://www.vasp.at/wiki/index.php/LBLUEOUT\" title=\"LBLUEOUT\" class=\"tag-link\">LBLUEOUT</a>=<span class=\"tag-value\">.TRUE.</span></li></ol>\n<h3><span class=\"mw-headline\" id=\"Slow-growth_approach\">Slow-growth approach</span></h3>\n<p>For a description of slow-growth approach see <a href=\"https://www.vasp.at/wiki/index.php/Slow-growth_approach\" title=\"Slow-growth approach\">Slow-growth approach</a>.\n</p>\n<ul><li>For a slow-growth simulation, one has to perform a calcualtion very similar to <a href=\"https://www.vasp.at/wiki/index.php/Constrained_molecular_dynamics\" title=\"Constrained molecular dynamics\">Constrained molecular dynamics</a> but additionally the transformation velocity-related <a href=\"https://www.vasp.at/wiki/index.php/INCREM\" title=\"INCREM\" class=\"tag-link\">INCREM</a>-tag for each geometric parameter with <tt>STATUS=0</tt> has to be specified:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a></li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span>, and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a></li>\n<li>Define geometric constraints in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the STATUS parameter for the constrained coordinates to 0</li>\n<li>When the free-energy gradient is to be computed, set <a href=\"https://www.vasp.at/wiki/index.php/LBLUEOUT\" title=\"LBLUEOUT\" class=\"tag-link\">LBLUEOUT</a>=<span class=\"tag-value\">.TRUE.</span></li></ol>\n<ol start=\"5\">\n<li>Specify the transformation velocity-related <a href=\"https://www.vasp.at/wiki/index.php/INCREM\" title=\"INCREM\" class=\"tag-link\">INCREM</a>-tag for each geometric parameter with <tt>STATUS=0</tt>.</li>\n</ol>\n<h3><span class=\"mw-headline\" id=\"Monitoring_geometric_parameters\">Monitoring geometric parameters</span></h3>\n<p>Geometric parameters with <tt>STATUS = 7</tt> in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file are monitored during the MD simulation.\nThe corresponding values are written onto the <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a>-file, for each MD step, after the lines following the string <tt>Monit_coord</tt>.\n</p><p>Sometimes it is desirable to terminate the simulation if all values of monitored parameters get larger that some predefined upper and/or lower limits. These limits can be set by the user by means of the <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\" title=\"VALUE MAX\" class=\"tag-link\">VALUE_MAX</a> and <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\" title=\"VALUE MIN\" class=\"tag-link\">VALUE_MIN</a>-tags.\n</p>\n<ul><li>To monitor geometric parameters during an MD run:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span>, and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a>.</li>\n<li>Define geometric constraints in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the <tt>STATUS</tt> parameter for the constrained coordinates to 7.</li>\n<li>Optionally, set the upper and/or lower limits for the coordinates, by means of the <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\" title=\"VALUE MAX\" class=\"tag-link\">VALUE_MAX</a> and <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\" title=\"VALUE MIN\" class=\"tag-link\">VALUE_MIN</a>-tags, respectively.</li></ol>\n<h3><span class=\"mw-headline\" id=\"Metadynamics\">Metadynamics</span></h3>\n<p>For a description of metadynamics see <a href=\"https://www.vasp.at/wiki/index.php/Metadynamics\" class=\"mw-redirect\" title=\"Metadynamics\">Metadynamics</a>.\n</p>\n<ul><li>For a metadynamics run with Andersen thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span> (or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">11</span> in VASP 5.x), and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a>.</li>\n<li>Set the parameters <a href=\"https://www.vasp.at/wiki/index.php/HILLS_H\" title=\"HILLS H\" class=\"tag-link\">HILLS_H</a>, <a href=\"https://www.vasp.at/wiki/index.php/HILLS_W\" title=\"HILLS W\" class=\"tag-link\">HILLS_W</a>, and <a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>.</li>\n<li>Define collective variables in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the <a href=\"https://www.vasp.at/wiki/index.php?title=STATUS&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"STATUS (page does not exist)\">STATUS</a> parameter for the collective variables to 5.</li>\n<li>If needed, define the bias potential in the <a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>-file.</li></ol>\n<p>The actual time-dependent bias potential is written to the <a href=\"https://www.vasp.at/wiki/index.php/HILLSPOT\" title=\"HILLSPOT\" class=\"tag-link\">HILLSPOT</a>-file, which is updated after adding a new Gaussian. At the beginning of the simulation, VASP attempts to read the initial bias potential from the <a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>-file. For the continuation of a metadynamics run, copy <a href=\"https://www.vasp.at/wiki/index.php/HILLSPOT\" title=\"HILLSPOT\" class=\"tag-link\">HILLSPOT</a> to <a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>. The values of all collective variables for each MD step are listed in <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a>-file, check the lines after the string <tt>Metadynamics</tt>.\n</p>\n<h3><span class=\"mw-headline\" id=\"Biased_molecular_dynamics\">Biased molecular dynamics</span></h3>\n<p>For a description of biased molecular dynamics see <a href=\"https://www.vasp.at/wiki/index.php/Biased_molecular_dynamics\" class=\"mw-redirect\" title=\"Biased molecular dynamics\">Biased molecular dynamics</a>.\n</p>\n<ul><li>For a biased molecular dynamics run with Andersen thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span> (or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">11</span> in VASP 5.x), and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a>.</li>\n<li>In order to avoid updating of the bias potential, set <a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>=<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Define collective variables in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the <tt>STATUS</tt> parameter for the collective variables to 5.</li>\n<li>Define the bias potential in the <a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>-file if necessary.</li></ol>\n<p>The values of all collective variables for each MD step are listed in the <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a>-file, check the lines after the string <tt>Metadynamics</tt>.\n</p>\n<h3><span class=\"mw-headline\" id=\"Special_case:_NVE_ensemble\">Special case: NVE ensemble</span></h3>\n<p>NVE ensemble calculations can be also run by selecting the Anderson thermostat and setting the update collision probability (<a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a>) to zero.\n</p>\n<ul><li>To run an NVE ensemble:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a>=<span><span class=\"tag-value\">0</span>.0.</span></li></ol>\n<h2><span id=\"MDALGO=2:_Nose-Hoover_thermostat\"></span><span class=\"mw-headline\" id=\"MDALGO.3D2:_Nose-Hoover_thermostat\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">2</span>: Nose-Hoover thermostat</span></span></h2>\n<p>For the description of the Nose-Hoover thermostat see: <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover_thermostat\" title=\"Nose-Hoover thermostat\">Nose-Hoover thermostat</a>.\n</p><p>The Nose-Hoover thermostat is currently only available for the NVT ensemble. \n</p>\n<h3><span class=\"mw-headline\" id=\"Standard_molecular_dynamics\">Standard molecular dynamics</span></h3>\n<ul><li>For a standard molecular dynamics run with Nose-Hoover thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">2</span>, and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>.</li></ol>\n<h3><span class=\"mw-headline\" id=\"Constrained_molecular_dynamics_2\">Constrained molecular dynamics</span></h3>\n<p>For a description of constrained molecular dynamics see <a href=\"https://www.vasp.at/wiki/index.php/Constrained_molecular_dynamics\" title=\"Constrained molecular dynamics\">Constrained molecular dynamics</a>.\n</p>\n<ul><li>For a constrained molecular dynamics run with Nose-Hoover thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">2</span>, and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>.</li>\n<li>Define geometric constraints in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the STATUS parameter for the constrained coordinates to 0.</li>\n<li>When the free-energy gradient is to be computed, set <a href=\"https://www.vasp.at/wiki/index.php/LBLUEOUT\" title=\"LBLUEOUT\" class=\"tag-link\">LBLUEOUT</a>=<span class=\"tag-value\">.TRUE.</span></li></ol>\n<h3><span class=\"mw-headline\" id=\"Slow-growth_approach_2\">Slow-growth approach</span></h3>\n<p>For a description of slow-growth approach see <a href=\"https://www.vasp.at/wiki/index.php/Slow-growth_approach\" title=\"Slow-growth approach\">Slow-growth approach</a>.\n</p>\n<ul><li>For a slow-growth approach run with Nose-Hoover thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a></li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">2</span>, and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a></li>\n<li>Define geometric constraints in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the <tt>STATUS</tt> parameter for the constrained coordinates to 0</li>\n<li>When the free-energy gradient is to be computed, set <a href=\"https://www.vasp.at/wiki/index.php/LBLUEOUT\" title=\"LBLUEOUT\" class=\"tag-link\">LBLUEOUT</a>=<span class=\"tag-value\">.TRUE.</span></li></ol>\n<ol start=\"5\">\n<li>Specify the transformation velocity-related <a href=\"https://www.vasp.at/wiki/index.php/INCREM\" title=\"INCREM\" class=\"tag-link\">INCREM</a>-tag for each geometric parameter with <tt>STATUS=0</tt></li>\n</ol>\n<h3><span class=\"mw-headline\" id=\"Monitoring_geometric_parameters_2\">Monitoring geometric parameters</span></h3>\n<p>Geometric parameters with <tt>STATUS = 7</tt> in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file are monitored during the MD simulation.\nThe corresponding values are written onto the <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a>-file, for each MD step, after the lines following the string <tt>Monit_coord</tt>.\n</p><p>Sometimes it is desirable to terminate the simulation if all values of monitored parameters get larger that some predefined upper and/or lower limits. These limits can be set by the user by means of the <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\" title=\"VALUE MAX\" class=\"tag-link\">VALUE_MAX</a> and <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\" title=\"VALUE MIN\" class=\"tag-link\">VALUE_MIN</a>-tags.\n</p><p>To monitor geometric parameters during an MD run:\n</p>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a></li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">2</span>, and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a></li>\n<li>Define geometric constraints in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the <tt>STATUS</tt> parameter for the constrained coordinates to 7</li>\n<li>Optionally, set the upper and/or lower limits for the coordinates, by means of the <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\" title=\"VALUE MAX\" class=\"tag-link\">VALUE_MAX</a> and <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\" title=\"VALUE MIN\" class=\"tag-link\">VALUE_MIN</a>-tags, respectively.</li></ol>\n<div id=\"Langevin\"></div>\n<h3><span class=\"mw-headline\" id=\"Metadynamics_2\">Metadynamics</span></h3>\n<p>For a description of metadynamics see <a href=\"https://www.vasp.at/wiki/index.php/Metadynamics\" class=\"mw-redirect\" title=\"Metadynamics\">Metadynamics</a>.\n</p>\n<ul><li>For a metadynamics run with Nose-Hoover thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">2</span> (or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">21</span> in VASP 5.x), and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>.</li>\n<li>Set the parameters <a href=\"https://www.vasp.at/wiki/index.php/HILLS_H\" title=\"HILLS H\" class=\"tag-link\">HILLS_H</a>, <a href=\"https://www.vasp.at/wiki/index.php/HILLS_W\" title=\"HILLS W\" class=\"tag-link\">HILLS_W</a>, and <a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>.</li>\n<li>Define collective variables in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the <tt>STATUS</tt> parameter for the collective variables to 5.</li>\n<li>If needed, define the bias potential in the <a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>-file.</li></ol>\n<p>The actual time-dependent bias potential is written to the <a href=\"https://www.vasp.at/wiki/index.php/HILLSPOT\" title=\"HILLSPOT\" class=\"tag-link\">HILLSPOT</a>-file, which is updated after adding a new Gaussian. At the beginning of the simulation, VASP attempts to read the initial bias potential from the <a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>-file. For the continuation of a metadynamics run, copy <a href=\"https://www.vasp.at/wiki/index.php/HILLSPOT\" title=\"HILLSPOT\" class=\"tag-link\">HILLSPOT</a> to <a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>. The values of all collective variables for each MD step are listed in <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a>-file, check the lines after the string <tt>Metadynamics</tt>.\n</p>\n<h3><span class=\"mw-headline\" id=\"Biased_molecular_dynamics_2\">Biased molecular dynamics</span></h3>\n<p>For a description of biased molecular dynamics see <a href=\"https://www.vasp.at/wiki/index.php/Biased_molecular_dynamics\" class=\"mw-redirect\" title=\"Biased molecular dynamics\">Biased molecular dynamics</a>.\n</p>\n<ul><li>For a biased molecular dynamics run with Nose-Hoover thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">2</span> (or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">21</span> in VASP 5.x), and choose an appropriate setting for </span><a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>.</li>\n<li>In order to avoid updating of the bias potential, set <a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>=<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Define collective variables in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file, and set the <tt>STATUS</tt> parameter for the collective variables to 5.</li>\n<li>Define the bias potential in the <a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>-file.</li></ol>\n<p>The values of all collective variables for each MD step are listed in the <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a>-file, check the lines after the string <tt>Metadynamics</tt>.\n</p>\n<h2><span id=\"MDALGO=3:_Langevin_thermostat\"></span><span class=\"mw-headline\" id=\"MDALGO.3D3:_Langevin_thermostat\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">3</span>: Langevin thermostat</span></span></h2>\n<p>For the description of the Langevin thermostat see: <a href=\"https://www.vasp.at/wiki/index.php/Langevin_thermostat\" title=\"Langevin thermostat\">Langevin thermostat</a>.\n</p><p>The Langevin thermostat is available for <a href=\"https://www.vasp.at/wiki/index.php/NVT_ensemble\" title=\"NVT ensemble\">NVT</a> and <a href=\"https://www.vasp.at/wiki/index.php/NpT_ensemble\" title=\"NpT ensemble\">NpT</a> ensembles.\n</p>\n<h3><span class=\"mw-headline\" id=\"NVT-simulation_with_Langevin_thermostat\"><i>NVT</i>-simulation with Langevin thermostat</span></h3>\n<ul><li>To run an <i>NVT</i>-simulation with a Langevin thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>=<span><span class=\"tag-value\">2</span>.</span></li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">3</span> to invoke the Langevin thermostat.</span></li>\n<li>Specify friction coefficients for all species in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, by means of the <a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\" title=\"LANGEVIN GAMMA\" class=\"tag-link\">LANGEVIN_GAMMA</a>-tag.</li></ol>\n<h3><span class=\"mw-headline\" id=\"NpT-simulation_with_Langevin_thermostat\"><i>NpT</i>-simulation with Langevin thermostat</span></h3>\n<p>The Langevin dynamics in the isobaric-isothermal ensemble is calculated by the method of Parrinello and Rahman<sup id=\"cite_ref-parrinello:prl:1980_1-0\" class=\"reference\"><a href=\"#cite_note-parrinello:prl:1980-1\">[1]</a></sup><sup id=\"cite_ref-parrinello:jap:1981_2-0\" class=\"reference\"><a href=\"#cite_note-parrinello:jap:1981-2\">[2]</a></sup> (see <a href=\"https://www.vasp.at/wiki/index.php/NpT_ensemble\" title=\"NpT ensemble\">NpT ensemble</a> for more descriptions) combined with a <a href=\"https://www.vasp.at/wiki/index.php/Langevin_thermostat\" title=\"Langevin thermostat\">Langevin thermostat</a>.\n</p>\n<ul><li>To run an NpT-simulation (Parinello-Rahman dynamics) with a Langevin thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>.</li>\n<li>Set <a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>=<span><span class=\"tag-value\">3</span> to allow for relaxation of the cell volume and shape. At the moment, dynamics with </span><i>fixed volume+variable shape</i> (<a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>=<span><span class=\"tag-value\">4)</span> or </span><i>fixed shape+variable volume</i> (<a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>=<span><span class=\"tag-value\">7)</span> are not available.</span></li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">3</span> to invoke the Langevin thermostat.</span></li>\n<li>Specify friction coefficients for all species in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, by means of the <a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\" title=\"LANGEVIN GAMMA\" class=\"tag-link\">LANGEVIN_GAMMA</a>-tag.</li>\n<li>Specify a separate set of friction coefficient for the lattice degrees-of-freedom, using the <a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA_L\" title=\"LANGEVIN GAMMA L\" class=\"tag-link\">LANGEVIN_GAMMA_L</a>-tag.</li>\n<li>Set a mass for the lattice degrees-of-freedom, using the <a href=\"https://www.vasp.at/wiki/index.php/PMASS\" title=\"PMASS\" class=\"tag-link\">PMASS</a>-tag.</li>\n<li>Optionally, one may define an external pressure (in kB), by means of the <a href=\"https://www.vasp.at/wiki/index.php/PSTRESS\" title=\"PSTRESS\" class=\"tag-link\">PSTRESS</a>-tag.</li></ol>\n<p><br>\n</p>\n<h3><span class=\"mw-headline\" id=\"Stochastic_boundary_conditions\">Stochastic boundary conditions</span></h3>\n<p>In some cases it is desirable to study approach of initially non-equilibrium system to equilibrium. Examples of such simulations include the impact problems when a particle with large kinetic energy hits a surface or calculation of friction force between two surfaces sliding with respect to each other. As shown by Toton <i>et al.</i><sup id=\"cite_ref-Toton10_3-0\" class=\"reference\"><a href=\"#cite_note-Toton10-3\">[3]</a></sup>, this type of problems can be studied using the stochastic boundary conditions (SBC) derived from the generalized Langevin equation by Kantorovich and Rompotis.<sup id=\"cite_ref-Kantorovich08_4-0\" class=\"reference\"><a href=\"#cite_note-Kantorovich08-4\">[4]</a></sup> In this approach, the system of interest is divided into three regions: (a) fixed atoms, (b) the internal (Newtonian) atoms moving according to Newtonian dynamics, and (c) a buffer region of Langevin atoms (<i>i.e.</i>, atoms governed by <a href=\"#LangevinEOM\">Langevin equations of motion</a>) located between (a) and (b).\n</p><p>The role of the Langevin atoms is to dissipate heat, while the fixed atoms are needed solely to create the correct potential well for the Langevin atoms to move in. The Newtonian region should include all atoms relevant to the process under study: in the case of the impact problem, for instance, the Newtonian region should contain atoms of the molecule hitting the surface and several uppermost layers of the material forming the surface. Performing molecular dynamics with such a setup guarantees that the system (possibly out of equilibrium initially) arrives at the appropriate canonical distribution.\n</p>\n<ul><li>To run a simulation with stochastic boundary conditions, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a></li>\n<li>Set <a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>=<span class=\"tag-value\">2</span></li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">3</span> to invoke the Langevin thermostat</span></li>\n<li>Prepare the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file in such a way that the Newtonian and Langevin atoms are treated as different species (even if they are chemically identical). In your <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a>, use \"selective dynamics\" and the corresponding logical flags to define the frozen and moveable atoms.</li>\n<li>Specify friction coefficients &#947;, for all species in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, by means of the <a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\" title=\"LANGEVIN GAMMA\" class=\"tag-link\">LANGEVIN_GAMMA</a>-tag: set the friction coefficients to 0 for all fixed and Newtonian atoms, and choose a proper &#947; for the Langevin atoms.</li></ol>\n<h4><span class=\"mw-headline\" id=\"Practical_example\">Practical example</span></h4>\n<p>Consider a system consisting of 16 hydrogen and 48 silicon atoms. Suppose that eight silicon atoms are considered to be Langevin atoms and the remaining 32 Si atoms are either fixed or Newtonian atoms. The Langevin and Newtonian (or fixed) atoms should be considered as different species, <i>i.e.</i>, the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a>-file should contain the line like this:\n</p>\n<pre>Si H Si\n40 16 8\n</pre>\n<p>As only the final eight Si atoms are considered to be Langevin atoms, the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>-file should contain the following line defining the friction coefficients:\n</p>\n<pre>LANGEVIN_GAMMA = 0.0   0.0   10.0\n</pre>\n<p><i>i.e.</i>, for all non-Langevin atoms, &#947; should be set to zero.\n</p>\n<div id=\"multiAnderson\"></div>\n<h2><span id=\"MDALGO=4:_Nose_Hoover_chains_thermostat\"></span><span class=\"mw-headline\" id=\"MDALGO.3D4:_Nose_Hoover_chains_thermostat\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">4</span>: Nose Hoover chains thermostat</span></span></h2>\n<p>For a description of Nose Hoover chains theromastat, see <a href=\"https://www.vasp.at/wiki/index.php/NHC_thermostat\" class=\"mw-redirect\" title=\"NHC thermostat\">NHC thermostat</a>.\n</p>\n<ul><li>To run an <i>NVT</i>-simulation with a Nose Hoover chains thermostat, one has to:</li></ul>\n<ol><li>Set the standard MD-related tags: <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>, and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a></li>\n<li>Set <a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>=<span class=\"tag-value\">2</span></li>\n<li>Set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">4</span> to invoke the thermostat, select the number of thermostats in chain via </span><a href=\"https://www.vasp.at/wiki/index.php/NHC_NCHAINS\" title=\"NHC NCHAINS\" class=\"tag-link\">NHC_NCHAINS</a> and choose an appropriate setting for the thermostat parameter <a href=\"https://www.vasp.at/wiki/index.php/NHC_PERIOD\" title=\"NHC PERIOD\" class=\"tag-link\">NHC_PERIOD</a>.</li></ol>\n<p><br>\n</p>\n<h2><span id=\"MDALGO=13:_Multiple_Andersen_thermostats\"></span><span class=\"mw-headline\" id=\"MDALGO.3D13:_Multiple_Andersen_thermostats\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">13</span>: Multiple Andersen thermostats</span></span></h2>\n<p>Up to three user-defined atomic subsystems may be coupled with independent Andersen thermostats<sup id=\"cite_ref-Andersen80_5-0\" class=\"reference\"><a href=\"#cite_note-Andersen80-5\">[5]</a></sup> (see remarks under <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/MDALGO\">MDALGO</a>=<span><span class=\"tag-value\">1</span> as well).\nThe </span><a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file must be organized such that the positions of atoms of subsystem <i>i+1</i> are defined after those for the subsystem <i>i</i>, and the following flags must be set by the user: \n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\" title=\"NSUBSYS\" class=\"tag-link\">NSUBSYS</a>=<span><span class=\"tag-value\">[int</span> array]</span></li></ul>\n<dl><dd>Define the last atom for each subsystem (two or three values must be supplied). For instance, if total of 20 atoms is defined in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, and the initial 10 atoms belong to the subsystem 1, the next 7 atoms to the subsystem 2, and the last 3 atoms to the subsystem 3, <a href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\" title=\"NSUBSYS\" class=\"tag-link\">NSUBSYS</a> should be defined as follows:</dd></dl>\n<dl><dd><a href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\" title=\"NSUBSYS\" class=\"tag-link\">NSUBSYS</a>=<span><span class=\"tag-value\">10</span> 17 20</span></dd></dl>\n<dl><dd>Note that the last number in the previous example is actually redundant (clearly the last three atoms belong to the last subsystem) and does not have to be user-supplied.</dd></dl>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/TSUBSYS\" title=\"TSUBSYS\" class=\"tag-link\">TSUBSYS</a>=<span><span class=\"tag-value\">[real</span> array]</span></li></ul>\n<dl><dd>Simulation temperature for each subsystem</dd></dl>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/PSUBSYS\" title=\"PSUBSYS\" class=\"tag-link\">PSUBSYS</a>=<span><span class=\"tag-value\">[real</span> array]</span></li></ul>\n<dl><dd>Collision probability for atoms in each subsystem. Only the values 0&#8804;<a href=\"https://www.vasp.at/wiki/index.php/PSUBSYS\" title=\"PSUBSYS\" class=\"tag-link\">PSUBSYS</a>&#8804;<span><span class=\"tag-value\">1</span> are allowed.</span></dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMASS\" title=\"SMASS\" class=\"tag-link\">SMASS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\" title=\"ANDERSEN PROB\" class=\"tag-link\">ANDERSEN_PROB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RANDOM_SEED\" title=\"RANDOM SEED\" class=\"tag-link\">RANDOM_SEED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LBLUEOUT\" title=\"LBLUEOUT\" class=\"tag-link\">LBLUEOUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SHAKETOL\" title=\"SHAKETOL\" class=\"tag-link\">SHAKETOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SHAKEMAXITER\" title=\"SHAKEMAXITER\" class=\"tag-link\">SHAKEMAXITER</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_H\" title=\"HILLS H\" class=\"tag-link\">HILLS_H</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_W\" title=\"HILLS W\" class=\"tag-link\">HILLS_W</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/INCREM\" title=\"INCREM\" class=\"tag-link\">INCREM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\" title=\"VALUE MIN\" class=\"tag-link\">VALUE_MIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\" title=\"VALUE MAX\" class=\"tag-link\">VALUE_MAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\" title=\"LANGEVIN GAMMA\" class=\"tag-link\">LANGEVIN_GAMMA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA_L\" title=\"LANGEVIN GAMMA L\" class=\"tag-link\">LANGEVIN_GAMMA_L</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PMASS\" title=\"PMASS\" class=\"tag-link\">PMASS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\" title=\"NSUBSYS\" class=\"tag-link\">NSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/TSUBSYS\" title=\"TSUBSYS\" class=\"tag-link\">TSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PSUBSYS\" title=\"PSUBSYS\" class=\"tag-link\">PSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PENALTYPOT\" title=\"PENALTYPOT\" class=\"tag-link\">PENALTYPOT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLSPOT\" title=\"HILLSPOT\" class=\"tag-link\">HILLSPOT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22MDALGO%22_incategory:%22Examples%22\" title='Special:Search/\"MDALGO\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-parrinello:prl:1980-1\"><a href=\"#cite_ref-parrinello:prl:1980_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.45.1196\">M. Parrinello and A. Rahman, Phys. Rev. Lett. <b>45</b>, 1196 (1980).</a></span>\n</li>\n<li id=\"cite_note-parrinello:jap:1981-2\"><a href=\"#cite_ref-parrinello:jap:1981_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.328693\">M. Parrinello and A. Rahman, J. Appl. Phys. <b>52</b>, 7182 (1981).</a></span>\n</li>\n<li id=\"cite_note-Toton10-3\"><a href=\"#cite_ref-Toton10_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1088/0953-8984/22/7/074205\">D. Toton, C. D. Lorenz, N. Rompotis, N. Martsinovich, and L. Kantorovich, J. Phys.: Condens. Matter 22, 074205 (2010).</a></span>\n</li>\n<li id=\"cite_note-Kantorovich08-4\"><a href=\"#cite_ref-Kantorovich08_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://dx.doi.org/10.1103/PhysRevB.78.094305\">L. Kantorovich and N. Rompotis, Phys. Rev. B 78, 094305 (2008).</a></span>\n</li>\n<li id=\"cite_note-Andersen80-5\"><a href=\"#cite_ref-Andersen80_5-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1063/1.439486\">H. C. Andersen, J. Chem. Phys. 72, 2384 (1980).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-05-17T12:24:49Z"}, "ANDERSEN_PROB": {"datatype": "0\u2264 real\u22641", "default": "0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\">ANDERSEN_PROB</a> sets the collision probability for the Anderson thermostat (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 306, "info": "<div><p>In the approach proposed by Andersen<sup id=\"cite_ref-Andersen80_1-0\" class=\"reference\"><a href=\"#cite_note-Andersen80-1\">[1]</a></sup> the system is thermally coupled to a fictitious heat bath with the desired temperature. The coupling is represented by stochastic impulsive forces that act occasionally on randomly selected particles. The collision probability is defined as an average number of collisions per atom and time-step. This quantity can be controlled by the flag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\">ANDERSEN_PROB</a>. The total number of collisions with the heat-bath is written in the file <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a> for each MD step.\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> Setting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ANDERSEN_PROB\">ANDERSEN_PROB</a>=<span><span class=\"tag-value\">0</span>, </span><i>i.e.</i>, no collisions with the heat-bath) generates the microcanonical (<i>NVE</i>) ensemble.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ANDERSEN_PROB%22_incategory:%22Examples%22\" title='Special:Search/\"ANDERSEN PROB\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Andersen80-1\"><a href=\"#cite_ref-Andersen80_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1063/1.439486\">H. C. Andersen, J. Chem. Phys. 72, 2384 (1980).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T13:50:25Z"}, "RANDOM_SEED": {"datatype": "integer integer integer", "default": "based on the system clock", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/RANDOM_SEED\">RANDOM_SEED</a> specifies the seed of the random-number generator (compile VASP with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-Dtbdyn\">-Dtbdyn</a>). </span>", "id": 308, "info": "<div><p>The random-number generator (RNG) generates a sequence of random numbers for molecular-dynamics simulations for example to initialize atomic velocities and for the Andersen thermostat (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">1</span> | 11).\nThe seed for the RNG determines the trajectory a molecular-dynamics simulation takes.\nSet the </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RANDOM_SEED\">RANDOM_SEED</a> tag to reproduce a previously performed calculation.\nThe three integers of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RANDOM_SEED\">RANDOM_SEED</a> must fulfill these conditions:\n</p>\n<pre>0 &lt;= RANDOM_SEED(1) &lt; 900000000\n0 &lt;= RANDOM_SEED(2) &lt; 1000000\n0 &lt;= RANDOM_SEED(3)\n</pre>\n<p>A typical input for the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RANDOM_SEED\">RANDOM_SEED</a> looks like this:\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RANDOM_SEED\"><span style=\"color:black\">RANDOM_SEED</span></a>=<span><span class=\"tag-value\">248489752</span>                0                0\n</span></pre>\n<p>The initial value of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/RANDOM_SEED\">RANDOM_SEED</a> and the value after each MD step are written to the <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a> file.\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> The random seed is used to improve reproducibility of exact numbers during every step. If the time-averaged results depend on the random seed, the ensemble is not big enough, i.e., the molecular-dynamics simulation time is too short.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>, <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22RANDOM_SEED%22_incategory:%22Examples%22\" title='Special:Search/\"RANDOM SEED\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-03-23T12:56:16Z"}, "LBLUEOUT": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LBLUEOUT\">LBLUEOUT</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP writes output for the free-energy gradient calculation to the </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/REPORT\">REPORT</a> file (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).", "id": 309, "info": "<div><p>If LBLUEOUT=.TRUE., the information needed to compute the free-energy gradient is written in the <a href=\"https://www.vasp.at/wiki/index.php/REPORT\" title=\"REPORT\" class=\"tag-link\">REPORT</a> file after each molecular-dynamics step (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">1</span> | 2), check the lines after the header:\n</span></p>\n<pre>&gt;Blue_moon\n       lambda         |z|^(-1/2)      GkT           |z|^(-1/2)*(lambda+GkT)\n</pre>\n<p>For the theory of the blue-moon ensemble we refer to <a href=\"https://www.vasp.at/wiki/index.php/Blue-moon_ensemble\" title=\"Blue-moon ensemble\">here</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>, <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>, <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>, <a href=\"https://www.vasp.at/wiki/index.php/Blue-moon_ensemble\" title=\"Blue-moon ensemble\">Blue-moon ensemble</a>, <a href=\"https://www.vasp.at/wiki/index.php/Slow-growth_approach\" title=\"Slow-growth approach\">Slow-growth approach</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LBLUEOUT%22_incategory:%22Examples%22\" title='Special:Search/\"LBLUEOUT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T08:18:25Z"}, "SHAKETOL": {"datatype": "real", "default": "1E-5", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SHAKETOL\">SHAKETOL</a> specifies the tolerance for the SHAKE algorithm (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-Dtbdyn\">-Dtbdyn</a>).</span>", "id": 310, "info": "<div><p>Constrained molecular dynamics (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">1</span> | 2) are performed using a </span><a href=\"https://www.vasp.at/wiki/index.php/MDALGO#SHAKE\" title=\"MDALGO\" class=\"tag-link\">SHAKE algorithm</a>.<sup id=\"cite_ref-Ryckaert77_1-0\" class=\"reference\"><a href=\"#cite_note-Ryckaert77-1\">[1]</a></sup>\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SHAKETOL\">SHAKETOL</a> specifies the tolerance for the SHAKE algorithm.\nIf the error for all geometric constraints does not decrease below this predefined tolerance within the allowed number of iterations (<a href=\"https://www.vasp.at/wiki/index.php/SHAKEMAXITER\" title=\"SHAKEMAXITER\" class=\"tag-link\">SHAKEMAXITER</a>), VASP terminates with an error message. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/SHAKEMAXITER\" title=\"SHAKEMAXITER\" class=\"tag-link\">SHAKEMAXITER</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SHAKETOL%22_incategory:%22Examples%22\" title='Special:Search/\"SHAKETOL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Ryckaert77-1\"><a href=\"#cite_ref-Ryckaert77_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1016/0021-9991(77)90098-5\">J. P. Ryckaert, G. Ciccotti, and H. J. C. Berendsen, J. Comp. Phys. 23, 327 (1977).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:54:46Z"}, "SHAKEMAXITER": {"datatype": "integer", "default": "1000", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SHAKEMAXITER\">SHAKEMAXITER</a> specifies the maximum number of iterations in the SHAKE algorithm (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-Dtbdyn\">-Dtbdyn</a>).</span>", "id": 311, "info": "<div><p>Constrained molecular dynamics (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">1</span> | 2) are performed using a </span><a href=\"https://www.vasp.at/wiki/index.php/MDALGO#SHAKE\" title=\"MDALGO\" class=\"tag-link\">SHAKE algorithm</a>.<sup id=\"cite_ref-Ryckaert77_1-0\" class=\"reference\"><a href=\"#cite_note-Ryckaert77-1\">[1]</a></sup>\n</p><p>If the error for all geometric constraints does not decrease below a predefined tolerance (<a href=\"https://www.vasp.at/wiki/index.php/SHAKETOL\" title=\"SHAKETOL\" class=\"tag-link\">SHAKETOL</a>) within the allowed number of iterations, VASP terminates with an error message. \nThe aforementioned maximum number of iterations is set by means of the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SHAKEMAXITER\">SHAKEMAXITER</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/SHAKETOL\" title=\"SHAKETOL\" class=\"tag-link\">SHAKETOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SHAKEMAXITER%22_incategory:%22Examples%22\" title='Special:Search/\"SHAKEMAXITER\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Ryckaert77-1\"><a href=\"#cite_ref-Ryckaert77_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1016/0021-9991(77)90098-5\">J. P. Ryckaert, G. Ciccotti, and H. J. C. Berendsen, J. Comp. Phys. 23, 327 (1977).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T14:28:19Z"}, "HILLS_H": {"datatype": "real", "default": "1E-3", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_H\">HILLS_H</a> specifies the height of the Gaussian hill (in eV) used in metadynamics (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 312, "info": "<div><p>In <a href=\"https://www.vasp.at/wiki/index.php/Metadynamics\" class=\"mw-redirect\" title=\"Metadynamics\">metadynamics</a> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">11</span> | 21), the bias potential is given as \n</span></p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {V}}(t,\\xi )=h\\sum _{i=1}^{\\lfloor t/t_{G}\\rfloor }\\exp {\\left\\{-{\\frac {|\\xi ^{(t)}-\\xi ^{(i\\cdot t_{G})}|^{2}}{2w^{2}}}\\right\\}}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>V</mi>\n              <mo stretchy=\"false\">~<!-- ~ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mi>t</mi>\n        <mo>,</mo>\n        <mi>&#958;<!-- &#958; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mi>h</mi>\n        <munderover>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo fence=\"false\" stretchy=\"false\">&#8970;<!-- &#8970; --></mo>\n            <mi>t</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <msub>\n              <mi>t</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>G</mi>\n              </mrow>\n            </msub>\n            <mo fence=\"false\" stretchy=\"false\">&#8971;<!-- &#8971; --></mo>\n          </mrow>\n        </munderover>\n        <mi>exp</mi>\n        <mo>&#8289;<!-- &#8289; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow>\n            <mo>{</mo>\n            <mrow>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mfrac>\n                  <mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">|</mo>\n                    </mrow>\n                    <msup>\n                      <mi>&#958;<!-- &#958; --></mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">(</mo>\n                        <mi>t</mi>\n                        <mo stretchy=\"false\">)</mo>\n                      </mrow>\n                    </msup>\n                    <mo>&#8722;<!-- &#8722; --></mo>\n                    <msup>\n                      <mi>&#958;<!-- &#958; --></mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">(</mo>\n                        <mi>i</mi>\n                        <mo>&#8901;<!-- &#8901; --></mo>\n                        <msub>\n                          <mi>t</mi>\n                          <mrow class=\"MJX-TeXAtom-ORD\">\n                            <mi>G</mi>\n                          </mrow>\n                        </msub>\n                        <mo stretchy=\"false\">)</mo>\n                      </mrow>\n                    </msup>\n                    <msup>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">|</mo>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msup>\n                  </mrow>\n                  <mrow>\n                    <mn>2</mn>\n                    <msup>\n                      <mi>w</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msup>\n                  </mrow>\n                </mfrac>\n              </mrow>\n            </mrow>\n            <mo>}</mo>\n          </mrow>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {V}}(t,\\xi )=h\\sum _{i=1}^{\\lfloor t/t_{G}\\rfloor }\\exp {\\left\\{-{\\frac {|\\xi ^{(t)}-\\xi ^{(i\\cdot t_{G})}|^{2}}{2w^{2}}}\\right\\}}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/12dba1715d8fd3528a5aa81929dba7c24ce0610a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:41.075ex; height:7.843ex;\" alt=\"{\\tilde  {V}}(t,\\xi )=h\\sum _{{i=1}}^{{\\lfloor t/t_{G}\\rfloor }}\\exp {\\left\\{-{\\frac  {|\\xi ^{{(t)}}-\\xi ^{{(i\\cdot t_{G})}}|^{2}}{2w^{2}}}\\right\\}}.\"></span></dd></dl>\n<p>Thre parameters (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_H\">HILLS_H</a>, <a href=\"https://www.vasp.at/wiki/index.php/HILLS_W\" title=\"HILLS W\" class=\"tag-link\">HILLS_W</a>, and <a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>) must be provided by the user.\n</p><p><br>\nThe height of the Gaussian hills <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle h}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>h</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle h}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.339ex; height:2.176ex;\" alt=\"h\"></span> (in eV) is set by <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_H\">HILLS_H</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Category:Metadynamics\" title=\"Category:Metadynamics\">Metadynamics</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_W\" title=\"HILLS W\" class=\"tag-link\">HILLS_W</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22HILLS_H%22_incategory:%22Examples%22\" title='Special:Search/\"HILLS H\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T13:56:00Z"}, "HILLS_W": {"datatype": "real", "default": "1E-3", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_W\">HILLS_W</a> specifies the width of the Gaussian hill (in units of the corresponding collective variable) used in metadynamics (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 313, "info": "<div><p>In <a href=\"https://www.vasp.at/wiki/index.php/Metadynamics\" class=\"mw-redirect\" title=\"Metadynamics\">metadynamics</a> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">11</span> | 21), the bias potential is given as \n</span></p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {V}}(t,\\xi )=h\\sum _{i=1}^{\\lfloor t/t_{G}\\rfloor }\\exp {\\left\\{-{\\frac {|\\xi ^{(t)}-\\xi ^{(i\\cdot t_{G})}|^{2}}{2w^{2}}}\\right\\}}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>V</mi>\n              <mo stretchy=\"false\">~<!-- ~ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mi>t</mi>\n        <mo>,</mo>\n        <mi>&#958;<!-- &#958; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mi>h</mi>\n        <munderover>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo fence=\"false\" stretchy=\"false\">&#8970;<!-- &#8970; --></mo>\n            <mi>t</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <msub>\n              <mi>t</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>G</mi>\n              </mrow>\n            </msub>\n            <mo fence=\"false\" stretchy=\"false\">&#8971;<!-- &#8971; --></mo>\n          </mrow>\n        </munderover>\n        <mi>exp</mi>\n        <mo>&#8289;<!-- &#8289; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow>\n            <mo>{</mo>\n            <mrow>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mfrac>\n                  <mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">|</mo>\n                    </mrow>\n                    <msup>\n                      <mi>&#958;<!-- &#958; --></mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">(</mo>\n                        <mi>t</mi>\n                        <mo stretchy=\"false\">)</mo>\n                      </mrow>\n                    </msup>\n                    <mo>&#8722;<!-- &#8722; --></mo>\n                    <msup>\n                      <mi>&#958;<!-- &#958; --></mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">(</mo>\n                        <mi>i</mi>\n                        <mo>&#8901;<!-- &#8901; --></mo>\n                        <msub>\n                          <mi>t</mi>\n                          <mrow class=\"MJX-TeXAtom-ORD\">\n                            <mi>G</mi>\n                          </mrow>\n                        </msub>\n                        <mo stretchy=\"false\">)</mo>\n                      </mrow>\n                    </msup>\n                    <msup>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">|</mo>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msup>\n                  </mrow>\n                  <mrow>\n                    <mn>2</mn>\n                    <msup>\n                      <mi>w</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msup>\n                  </mrow>\n                </mfrac>\n              </mrow>\n            </mrow>\n            <mo>}</mo>\n          </mrow>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {V}}(t,\\xi )=h\\sum _{i=1}^{\\lfloor t/t_{G}\\rfloor }\\exp {\\left\\{-{\\frac {|\\xi ^{(t)}-\\xi ^{(i\\cdot t_{G})}|^{2}}{2w^{2}}}\\right\\}}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/12dba1715d8fd3528a5aa81929dba7c24ce0610a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:41.075ex; height:7.843ex;\" alt=\"{\\tilde  {V}}(t,\\xi )=h\\sum _{{i=1}}^{{\\lfloor t/t_{G}\\rfloor }}\\exp {\\left\\{-{\\frac  {|\\xi ^{{(t)}}-\\xi ^{{(i\\cdot t_{G})}}|^{2}}{2w^{2}}}\\right\\}}.\"></span></dd></dl>\n<p>Thre parameters (<a href=\"https://www.vasp.at/wiki/index.php/HILLS_H\" title=\"HILLS H\" class=\"tag-link\">HILLS_H</a>, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_W\">HILLS_W</a>, and <a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>) must be provided by the user.\n</p><p>The width of the Gaussian hills  <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle w}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>w</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle w}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/88b1e0c8e1be5ebe69d18a8010676fa42d7961e6\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.664ex; height:1.676ex;\" alt=\"w\"></span> (in units of the corresponding collective variable) is set by <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_W\">HILLS_W</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Category:Metadynamics\" title=\"Category:Metadynamics\">Metadynamics</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_H\" title=\"HILLS H\" class=\"tag-link\">HILLS_H</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\" title=\"HILLS BIN\" class=\"tag-link\">HILLS_BIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22HILLS_W%22_incategory:%22Examples%22\" title='Special:Search/\"HILLS W\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T13:56:22Z"}, "HILLS_BIN": {"datatype": "integer", "default": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSW\">NSW</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\">HILLS_BIN</a> sets the number of steps after which the bias potential is updated in a metadynamics run (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 314, "info": "<div><p>In <a href=\"https://www.vasp.at/wiki/index.php/Metadynamics\" class=\"mw-redirect\" title=\"Metadynamics\">metadynamics</a> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">11</span> | 21), the bias potential is given as \n</span></p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {V}}(t,\\xi )=h\\sum _{i=1}^{\\lfloor t/t_{G}\\rfloor }\\exp {\\left\\{-{\\frac {|\\xi ^{(t)}-\\xi ^{(i\\cdot t_{G})}|^{2}}{2w^{2}}}\\right\\}}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>V</mi>\n              <mo stretchy=\"false\">~<!-- ~ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mi>t</mi>\n        <mo>,</mo>\n        <mi>&#958;<!-- &#958; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mi>h</mi>\n        <munderover>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo fence=\"false\" stretchy=\"false\">&#8970;<!-- &#8970; --></mo>\n            <mi>t</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <msub>\n              <mi>t</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>G</mi>\n              </mrow>\n            </msub>\n            <mo fence=\"false\" stretchy=\"false\">&#8971;<!-- &#8971; --></mo>\n          </mrow>\n        </munderover>\n        <mi>exp</mi>\n        <mo>&#8289;<!-- &#8289; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow>\n            <mo>{</mo>\n            <mrow>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mfrac>\n                  <mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">|</mo>\n                    </mrow>\n                    <msup>\n                      <mi>&#958;<!-- &#958; --></mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">(</mo>\n                        <mi>t</mi>\n                        <mo stretchy=\"false\">)</mo>\n                      </mrow>\n                    </msup>\n                    <mo>&#8722;<!-- &#8722; --></mo>\n                    <msup>\n                      <mi>&#958;<!-- &#958; --></mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">(</mo>\n                        <mi>i</mi>\n                        <mo>&#8901;<!-- &#8901; --></mo>\n                        <msub>\n                          <mi>t</mi>\n                          <mrow class=\"MJX-TeXAtom-ORD\">\n                            <mi>G</mi>\n                          </mrow>\n                        </msub>\n                        <mo stretchy=\"false\">)</mo>\n                      </mrow>\n                    </msup>\n                    <msup>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mo stretchy=\"false\">|</mo>\n                      </mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msup>\n                  </mrow>\n                  <mrow>\n                    <mn>2</mn>\n                    <msup>\n                      <mi>w</mi>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mn>2</mn>\n                      </mrow>\n                    </msup>\n                  </mrow>\n                </mfrac>\n              </mrow>\n            </mrow>\n            <mo>}</mo>\n          </mrow>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {V}}(t,\\xi )=h\\sum _{i=1}^{\\lfloor t/t_{G}\\rfloor }\\exp {\\left\\{-{\\frac {|\\xi ^{(t)}-\\xi ^{(i\\cdot t_{G})}|^{2}}{2w^{2}}}\\right\\}}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/12dba1715d8fd3528a5aa81929dba7c24ce0610a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:41.075ex; height:7.843ex;\" alt=\"{\\tilde  {V}}(t,\\xi )=h\\sum _{{i=1}}^{{\\lfloor t/t_{G}\\rfloor }}\\exp {\\left\\{-{\\frac  {|\\xi ^{{(t)}}-\\xi ^{{(i\\cdot t_{G})}}|^{2}}{2w^{2}}}\\right\\}}.\"></span></dd></dl>\n<p>Thre parameters (<a href=\"https://www.vasp.at/wiki/index.php/HILLS_H\" title=\"HILLS H\" class=\"tag-link\">HILLS_H</a>, <a href=\"https://www.vasp.at/wiki/index.php/HILLS_W\" title=\"HILLS W\" class=\"tag-link\">HILLS_W</a>, and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\">HILLS_BIN</a>) must be provided by the user.\n</p><p><br>\nThe number of steps after which the bias potential is updated is set by <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HILLS_BIN\">HILLS_BIN</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Category:Metadynamics\" title=\"Category:Metadynamics\">Metadynamics</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_H\" title=\"HILLS H\" class=\"tag-link\">HILLS_H</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HILLS_W\" title=\"HILLS W\" class=\"tag-link\">HILLS_W</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22HILLS_BIN%22_incategory:%22Examples%22\" title='Special:Search/\"HILLS BIN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T13:52:35Z"}, "INCREM": {"datatype": "real array", "default": "0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/INCREM\">INCREM</a> controls the transformation velocity in the slow-growth approach (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-Dtbdyn\">-Dtbdyn</a>).</span>", "id": 315, "info": "<div><p>In <a href=\"https://www.vasp.at/wiki/index.php/MDALGO#Slowgro\" title=\"MDALGO\">slow-growth simulations</a> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">1</span> | 2), the value of each controlled geometric parameter with </span><tt>STATUS=0</tt> is increased by <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/INCREM\">INCREM</a> in every simulation step.\n</p><p>It must be supplied for each controlled geometric parameter for which <tt>STATUS=0</tt> was specified in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22INCREM%22_incategory:%22Examples%22\" title='Special:Search/\"INCREM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:22:47Z"}, "LANGEVIN_GAMMA": {"datatype": "real array", "default": "NTYP\u00d70", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\">LANGEVIN_GAMMA</a> specifies the friction coefficients (in ps<sup>-1</sup>) for atomic degrees-of-freedom when using a Langevin thermostat (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 316, "info": "<div><p>When using a <a href=\"https://www.vasp.at/wiki/index.php/MDALGO#LangevinEOM\" title=\"MDALGO\">Langevin thermostat</a><sup id=\"cite_ref-Allen91_1-0\" class=\"reference\"><a href=\"#cite_note-Allen91-1\">[1]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">3)</span>, the friction coefficients &#947; for the atomic degrees-of-freedom are specified (in ps</span><sup>-1</sup>) using the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\">LANGEVIN_GAMMA</a>-tag.\n</p><p>One has to specify a separate friction coefficient for each of the NTYP atomic species found on the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a>-file. \n</p>\n<h4><span class=\"mw-headline\" id=\"Practical_example\">Practical example</span></h4>\n<p>Consider a system consisting of 16 hydrogen and 48 silicon atoms. Suppose that eight silicon atoms are considered to be Langevin atoms and the remaining 32 Si atoms are either fixed or Newtonian atoms. The Langevin and Newtonian (or fixed) atoms should be considered as different species, <i>i.e.</i>, the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a>-file should contain the line like this:\n</p>\n<pre>Si H Si\n40 16 8\n</pre>\n<p>As only the final eight Si atoms are considered to be Langevin atoms, the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>-file should contain the following line defining the friction coefficients:\n</p>\n<pre>LANGEVIN_GAMMA = 0.0   0.0   10.0\n</pre>\n<p><i>i.e.</i>, for all non-Langevin atoms, &#947; should be set to zero.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA_L\" title=\"LANGEVIN GAMMA L\" class=\"tag-link\">LANGEVIN_GAMMA_L</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LANGEVIN_GAMMA%22_incategory:%22Examples%22\" title='Special:Search/\"LANGEVIN GAMMA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Allen91-1\"><a href=\"#cite_ref-Allen91_1-0\">&#8593;</a> <span class=\"reference-text\">M. P. Allen and D. J. Tildesley, <i>Computer simulation of liquids</i>, Oxford university press: New York, 1991.</span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T13:54:38Z"}, "LANGEVIN_GAMMA_L": {"datatype": "real", "default": "0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA_L\">LANGEVIN_GAMMA_L</a> specifies the friction coefficient (in ps<sup>-1</sup>) for lattice degrees-of-freedom in case of Parrinello-Rahman dynamics (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 317, "info": "<div><p>When running <i>NpT</i> simulations with a <a href=\"https://www.vasp.at/wiki/index.php/MDALGO#LangevinEOM\" title=\"MDALGO\">Langevin thermostat</a><sup id=\"cite_ref-Allen91_1-0\" class=\"reference\"><a href=\"#cite_note-Allen91-1\">[1]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">3)</span>, using the method of </span><a href=\"https://www.vasp.at/wiki/index.php/MDALGO#ParrinelloRahman\" title=\"MDALGO\">Parrinello and Rahman</a>,<sup id=\"cite_ref-Parrinello80_2-0\" class=\"reference\"><a href=\"#cite_note-Parrinello80-2\">[2]</a></sup><sup id=\"cite_ref-Parrinello81_3-0\" class=\"reference\"><a href=\"#cite_note-Parrinello81-3\">[3]</a></sup> the friction coefficient for lattice degrees-of-freedom have to be specified (in ps<sup>-1</sup>) by means of the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA_L\">LANGEVIN_GAMMA_L</a>-tag.\nA fictitious mass for the lattice degrees-of-freedom has to be assigned using the <a href=\"https://www.vasp.at/wiki/index.php/PMASS\" title=\"PMASS\" class=\"tag-link\">PMASS</a> tag.\n</p><p>The friction coefficients &#947; for the atomic degrees-of-freedom are specified using the <a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\" title=\"LANGEVIN GAMMA\" class=\"tag-link\">LANGEVIN_GAMMA</a>-tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\" title=\"LANGEVIN GAMMA\" class=\"tag-link\">LANGEVIN_GAMMA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PMASS\" title=\"PMASS\" class=\"tag-link\">PMASS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LANGEVIN_GAMMA_L%22_incategory:%22Examples%22\" title='Special:Search/\"LANGEVIN GAMMA L\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Allen91-1\"><a href=\"#cite_ref-Allen91_1-0\">&#8593;</a> <span class=\"reference-text\">M. P. Allen and D. J. Tildesley, <i>Computer simulation of liquids</i>, Oxford university press: New York, 1991.</span>\n</li>\n<li id=\"cite_note-Parrinello80-2\"><a href=\"#cite_ref-Parrinello80_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://dx.doi.org/10.1103/PhysRevLett.45.1196\">M. Parrinello and A. Rahman, Phys. Rev. Lett. 45, 1196 (1980).</a></span>\n</li>\n<li id=\"cite_note-Parrinello81-3\"><a href=\"#cite_ref-Parrinello81_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1063/1.328693\">M. Parrinello and A. Rahman, J. Appl. Phys. 52, 7182 (1981).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T14:00:34Z"}, "PMASS": {"datatype": "real", "default": "1000", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PMASS\">PMASS</a> assigns a fictitious mass (in amu) to the lattice degrees-of-freedom in case of Parrinello-Rahman dynamics (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-Dtbdyn\">-Dtbdyn</a>).</span>", "id": 318, "info": "<div><p>When running <i>NpT</i> simulations with a <a href=\"https://www.vasp.at/wiki/index.php/MDALGO#LangevinEOM\" title=\"MDALGO\">Langevin thermostat</a><sup id=\"cite_ref-Allen91_1-0\" class=\"reference\"><a href=\"#cite_note-Allen91-1\">[1]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">3)</span>, using the method of </span><a href=\"https://www.vasp.at/wiki/index.php/MDALGO#ParrinelloRahman\" title=\"MDALGO\">Parrinello and Rahman</a>,<sup id=\"cite_ref-Parrinello80_2-0\" class=\"reference\"><a href=\"#cite_note-Parrinello80-2\">[2]</a></sup><sup id=\"cite_ref-Parrinello81_3-0\" class=\"reference\"><a href=\"#cite_note-Parrinello81-3\">[3]</a></sup> a fictitious mass (in amu) for the lattice degrees-of-freedom has to be assigned using the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PMASS\">PMASS</a> tag.\nThe friction coefficient for lattice degrees-of-freedom have to be specified (in ps<sup>-1</sup>) by means of the <a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA_L\" title=\"LANGEVIN GAMMA L\" class=\"tag-link\">LANGEVIN_GAMMA_L</a> tag.\n</p><p>The friction coefficients &#947; for the atomic degrees-of-freedom are specified using the <a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\" title=\"LANGEVIN GAMMA\" class=\"tag-link\">LANGEVIN_GAMMA</a> tag.\n</p><p>The optimal setting for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PMASS\">PMASS</a> depends very much on the particular system at hand and can be considered as a compromise between two opposing factors: too large values lead to very slow variation of lattice degrees of freedom (and hence the sampling becomes inefficient) while too small value can lead to too large geometric changes in an MD step and hence may cause numerical problems. We strongly recommend to make careful tests with various settings before performing the production run.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA_L\" title=\"LANGEVIN GAMMA L\" class=\"tag-link\">LANGEVIN_GAMMA_L</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LANGEVIN_GAMMA\" title=\"LANGEVIN GAMMA\" class=\"tag-link\">LANGEVIN_GAMMA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Allen91-1\"><a href=\"#cite_ref-Allen91_1-0\">&#8593;</a> <span class=\"reference-text\">M. P. Allen and D. J. Tildesley, <i>Computer simulation of liquids</i>, Oxford university press: New York, 1991.</span>\n</li>\n<li id=\"cite_note-Parrinello80-2\"><a href=\"#cite_ref-Parrinello80_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://dx.doi.org/10.1103/PhysRevLett.45.1196\">M. Parrinello and A. Rahman, Phys. Rev. Lett. 45, 1196 (1980).</a></span>\n</li>\n<li id=\"cite_note-Parrinello81-3\"><a href=\"#cite_ref-Parrinello81_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1063/1.328693\">M. Parrinello and A. Rahman, J. Appl. Phys. 52, 7182 (1981).</a></span>\n</li>\n</ol></div>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PMASS%22_incategory:%22Examples%22\" title='Special:Search/\"PMASS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-11T13:52:18Z"}, "VALUE_MAX": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\">VALUE_MAX</a> sets the upper limits for the monitoring of geometric parameters (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-Dtbdyn\">-Dtbdyn</a>).</span>", "id": 319, "info": "<div><p>For <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">1</span> | 2, the geometric parameters defined in the </span><a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a> file may be monitored without being subjected to a constraint or bias potential (<tt>STATUS=7</tt> in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a>-file).\n</p><p>If all values of monitored parameters defined in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a> file (<tt>STATUS=7</tt>) are smaller than <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\" title=\"VALUE MIN\" class=\"tag-link\">VALUE_MIN</a> or larger than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\">VALUE_MAX</a>, the simulation terminates.\n</p><p>Upper limits for monitored coordinates, must be supplied for each geometric parameter in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a> file with <tt>STATUS=7</tt>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\" title=\"VALUE MIN\" class=\"tag-link\">VALUE_MIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VALUE_MAX%22_incategory:%22Examples%22\" title='Special:Search/\"VALUE MAX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:36:54Z"}, "VALUE_MIN": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\">VALUE_MIN</a> sets the lower limits for the monitoring of geometric parameters (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-Dtbdyn\">-Dtbdyn</a>).</span>", "id": 320, "info": "<div><p>For <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">1</span> | 2, the geometric parameters defined in the </span><a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a> file may be monitored without being subjected to a constraint or bias potential (<tt>STATUS=7</tt> in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a> file).\n</p><p>If all values of monitored parameters defined in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a> file (<tt>STATUS=7</tt>) are smaller than <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VALUE_MIN\">VALUE_MIN</a> or larger than <a href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\" title=\"VALUE MAX\" class=\"tag-link\">VALUE_MAX</a>, the simulation terminates.\n</p><p>Upper limits for monitored coordinates, must be supplied for each geometric parameter in the <a href=\"https://www.vasp.at/wiki/index.php/ICONST\" title=\"ICONST\" class=\"tag-link\">ICONST</a> file with <tt>STATUS=7</tt>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/VALUE_MAX\" title=\"VALUE MAX\" class=\"tag-link\">VALUE_MAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VALUE_MIN%22_incategory:%22Examples%22\" title='Special:Search/\"VALUE MIN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:38:12Z"}, "NSUBSYS": {"datatype": "integer array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\">NSUBSYS</a> defines the atomic subsystems in calculations with multiple Anderson thermostats (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 321, "info": "<div><p>Up to three user-defined atomic subsystems may be coupled with independent Andersen thermostats<sup id=\"cite_ref-Andersen80_1-0\" class=\"reference\"><a href=\"#cite_note-Andersen80-1\">[1]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">13)</span>.\n</span></p><p>These subsystems are defined by specifying the last atom for each subsystem (two or three values must be supplied). For instance, if total of 20 atoms is defined in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a>-file, and the initial 10 atoms belong to the subsystem 1, the next 7 atoms to the subsystem 2, and the last 3 atoms to the subsystem 3, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\">NSUBSYS</a> should be defined as follows:\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\">NSUBSYS</a>=<span><span class=\"tag-value\">10</span> 17 20\n</span></pre>\n<p>Note that the last number in the previous example is actually redundant (clearly the last three atoms belong to the last subsystem) and does not have to be user-supplied.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/TSUBSYS\" title=\"TSUBSYS\" class=\"tag-link\">TSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PSUBSYS\" title=\"PSUBSYS\" class=\"tag-link\">PSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NSUBSYS%22_incategory:%22Examples%22\" title='Special:Search/\"NSUBSYS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Andersen80-1\"><a href=\"#cite_ref-Andersen80_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1063/1.439486\">H. C. Andersen, J. Chem. Phys. 72, 2384 (1980).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T14:14:25Z"}, "TSUBSYS": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/TSUBSYS\">TSUBSYS</a> sets the temperatures for the atomic subsystems in calculations with multiple Anderson thermostats (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 322, "info": "<div><p>Up to three user-defined atomic subsystems may be coupled with independent Andersen thermostats<sup id=\"cite_ref-Andersen80_1-0\" class=\"reference\"><a href=\"#cite_note-Andersen80-1\">[1]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">13)</span>.\n</span></p><p>The simulation temperature for the atomic subsystems is set by means of the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/TSUBSYS\">TSUBSYS</a> tag (one has to specify one number for each subsystem).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\" title=\"NSUBSYS\" class=\"tag-link\">NSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PSUBSYS\" title=\"PSUBSYS\" class=\"tag-link\">PSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22TSUBSYS%22_incategory:%22Examples%22\" title='Special:Search/\"TSUBSYS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Andersen80-1\"><a href=\"#cite_ref-Andersen80_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1063/1.439486\">H. C. Andersen, J. Chem. Phys. 72, 2384 (1980).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T14:34:51Z"}, "PSUBSYS": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PSUBSYS\">PSUBSYS</a> sets the collision probabilities for the atoms in each atomic subsystem in calculations with multiple Anderson thermostats (in case VASP was compiled with <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_flags\">-Dtbdyn</a>).</span>", "id": 323, "info": "<div><p>Up to three user-defined atomic subsystems may be coupled with independent Andersen thermostats<sup id=\"cite_ref-Andersen80_1-0\" class=\"reference\"><a href=\"#cite_note-Andersen80-1\">[1]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>=<span><span class=\"tag-value\">13)</span>.\n</span></p><p>The collision probabilities for the atoms in each atomic subsystem is set by means of the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PSUBSYS\">PSUBSYS</a> tag (one has to specify one number for each subsystem).\n</p><p>Note: 0 &#8804; <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PSUBSYS\">PSUBSYS</a>&#8804;<span class=\"tag-value\">1</span>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NSUBSYS\" title=\"NSUBSYS\" class=\"tag-link\">NSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/TSUBSYS\" title=\"TSUBSYS\" class=\"tag-link\">TSUBSYS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PSUBSYS%22_incategory:%22Examples%22\" title='Special:Search/\"PSUBSYS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Andersen80-1\"><a href=\"#cite_ref-Andersen80_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1063/1.439486\">H. C. Andersen, J. Chem. Phys. 72, 2384 (1980).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T14:23:35Z"}, "LOCPROJ": {"datatype": "<b><sites></b> : <b><functions-ylm-specs></b> : <b><functions-radial-specs></b>", "default": "None", "options": {}, "summary": "The <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> tag specifies local functions on which the orbitals are projected. These projections are written to the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PROJCAR\">PROJCAR</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PROJCAR\">LOCPROJ</a>, and {{FILE|vasprun.xml}} files.", "id": 364, "info": "<div><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> is an <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> tag and a file. The file is described at the end of this page.\n</div><p>When the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> tag is set, VASP performs the projection of the Kohn-Sham orbitals <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\psi _{n\\mathbf {k} }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\psi _{n\\mathbf {k} }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5a8e72edd0efab93156256fdfd8b21bb3aae7f6e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.281ex; height:2.843ex;\" alt=\"{\\displaystyle |\\psi _{n\\mathbf {k} }\\rangle }\"></span> onto a localized orbitals basis <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle |\\beta _{lm}^{\\alpha }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mi>&#946;<!-- &#946; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle |\\beta _{lm}^{\\alpha }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a2cb2c872f636c69de7710739964ce5ea6f33f3e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:5.033ex; height:3.009ex;\" alt=\"{\\displaystyle |\\beta _{lm}^{\\alpha }\\rangle }\"></span> which can be written as\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle P_{lmn\\mathbf {k} }^{\\alpha }\\equiv \\langle \\beta _{lm}^{\\alpha }|S|\\psi _{n\\mathbf {k} }\\rangle =\\underbrace {\\langle \\beta _{lm}^{\\alpha }|\\psi _{n\\mathbf {k} }\\rangle } _{P_{lmn\\mathbf {k} }^{{\\text{SOFT}},\\alpha }}+\\underbrace {\\sum _{ij}\\langle \\beta _{lm}^{\\alpha }|{\\tilde {p}}_{i}\\rangle Q_{ij}\\langle {\\tilde {p}}_{j}|\\psi _{n\\mathbf {k} }\\rangle } _{P_{lmn\\mathbf {k} }^{{\\text{AUG}},\\alpha }}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>P</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mo>&#8801;<!-- &#8801; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mi>&#946;<!-- &#946; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi>S</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>=</mo>\n        <munder>\n          <mrow class=\"MJX-TeXAtom-OP MJX-fixedlimits\">\n            <munder>\n              <mrow>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <msubsup>\n                  <mi>&#946;<!-- &#946; --></mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>l</mi>\n                    <mi>m</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>&#945;<!-- &#945; --></mi>\n                  </mrow>\n                </msubsup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <msub>\n                  <mi>&#968;<!-- &#968; --></mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n              </mrow>\n              <mo>&#9183;<!-- &#9183; --></mo>\n            </munder>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msubsup>\n              <mi>P</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>l</mi>\n                <mi>m</mi>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mtext>SOFT</mtext>\n                </mrow>\n                <mo>,</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n              </mrow>\n            </msubsup>\n          </mrow>\n        </munder>\n        <mo>+</mo>\n        <munder>\n          <mrow class=\"MJX-TeXAtom-OP MJX-fixedlimits\">\n            <munder>\n              <mrow>\n                <munder>\n                  <mo>&#8721;<!-- &#8721; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                    <mi>j</mi>\n                  </mrow>\n                </munder>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <msubsup>\n                  <mi>&#946;<!-- &#946; --></mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>l</mi>\n                    <mi>m</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>&#945;<!-- &#945; --></mi>\n                  </mrow>\n                </msubsup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mover>\n                        <mi>p</mi>\n                        <mo stretchy=\"false\">~<!-- ~ --></mo>\n                      </mover>\n                    </mrow>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                  </mrow>\n                </msub>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n                <msub>\n                  <mi>Q</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                    <mi>j</mi>\n                  </mrow>\n                </msub>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mover>\n                        <mi>p</mi>\n                        <mo stretchy=\"false\">~<!-- ~ --></mo>\n                      </mover>\n                    </mrow>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>j</mi>\n                  </mrow>\n                </msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <msub>\n                  <mi>&#968;<!-- &#968; --></mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n              </mrow>\n              <mo>&#9183;<!-- &#9183; --></mo>\n            </munder>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msubsup>\n              <mi>P</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>l</mi>\n                <mi>m</mi>\n                <mi>n</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mtext>AUG</mtext>\n                </mrow>\n                <mo>,</mo>\n                <mi>&#945;<!-- &#945; --></mi>\n              </mrow>\n            </msubsup>\n          </mrow>\n        </munder>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle P_{lmn\\mathbf {k} }^{\\alpha }\\equiv \\langle \\beta _{lm}^{\\alpha }|S|\\psi _{n\\mathbf {k} }\\rangle =\\underbrace {\\langle \\beta _{lm}^{\\alpha }|\\psi _{n\\mathbf {k} }\\rangle } _{P_{lmn\\mathbf {k} }^{{\\text{SOFT}},\\alpha }}+\\underbrace {\\sum _{ij}\\langle \\beta _{lm}^{\\alpha }|{\\tilde {p}}_{i}\\rangle Q_{ij}\\langle {\\tilde {p}}_{j}|\\psi _{n\\mathbf {k} }\\rangle } _{P_{lmn\\mathbf {k} }^{{\\text{AUG}},\\alpha }}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ebccb64633489e13ce1e31a1fa08df47a73f384\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -8.171ex; width:60.026ex; height:10.676ex;\" alt=\"{\\displaystyle P_{lmn\\mathbf {k} }^{\\alpha }\\equiv \\langle \\beta _{lm}^{\\alpha }|S|\\psi _{n\\mathbf {k} }\\rangle =\\underbrace {\\langle \\beta _{lm}^{\\alpha }|\\psi _{n\\mathbf {k} }\\rangle } _{P_{lmn\\mathbf {k} }^{{\\text{SOFT}},\\alpha }}+\\underbrace {\\sum _{ij}\\langle \\beta _{lm}^{\\alpha }|{\\tilde {p}}_{i}\\rangle Q_{ij}\\langle {\\tilde {p}}_{j}|\\psi _{n\\mathbf {k} }\\rangle } _{P_{lmn\\mathbf {k} }^{{\\text{AUG}},\\alpha }}.}\"></span>\n</p><p>Here, the two terms on the right-hand side are called soft and augmentation part, respectively. <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle S}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>S</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle S}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4611d85173cd3b508e67077d4a1252c9c05abca2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.499ex; height:2.176ex;\" alt=\"S\"></span> is the overlap matrix,\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle S=1+\\sum _{ij}|{\\tilde {p}}_{i}\\rangle Q_{ij}\\langle {\\tilde {p}}_{j}|.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>S</mi>\n        <mo>=</mo>\n        <mn>1</mn>\n        <mo>+</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </munder>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>p</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>p</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle S=1+\\sum _{ij}|{\\tilde {p}}_{i}\\rangle Q_{ij}\\langle {\\tilde {p}}_{j}|.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ebcd209539d1dab59461540308ac264a6078246e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:23.836ex; height:5.843ex;\" alt=\"{\\displaystyle S=1+\\sum _{ij}|{\\tilde {p}}_{i}\\rangle Q_{ij}\\langle {\\tilde {p}}_{j}|.}\"></span>\n</p><p>The radial and the angular part of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta _{lm}^{\\alpha }(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#946;<!-- &#946; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta _{lm}^{\\alpha }(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/71d820e9ebd5f45c290d3c581eafee6a44f3bbec\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.392ex; height:3.009ex;\" alt=\"{\\displaystyle \\beta _{lm}^{\\alpha }(\\mathbf {r} )}\"></span> are described by the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> tag, which comprises three parts separated by colons that are denoted as <b>&lt;sites&gt;</b>, <b>&lt;functions-Ylm-specs&gt;</b>, and <b>&lt;functions-radial-specs&gt;</b>. For instance, to perform the projection onto a hydrogen-like <i>1s</i> function on the first ionic position specified in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, the tag reads\n</p>\n<pre>LOCPROJ = 1&#160;: s&#160;: Hy\n</pre>\n<div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2 id=\"mw-toc-heading\">Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Specifying_the_local_basis\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Specifying the local basis</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#Example_for_LOCPROJ_tag\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Example for LOCPROJ tag</span></a></li>\n<li class=\"toclevel-1 tocsection-3\"><a href=\"#LOCPROJ_file\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">LOCPROJ file</span></a></li>\n<li class=\"toclevel-1 tocsection-4\"><a href=\"#Related_tags_and_articles\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Related tags and articles</span></a></li>\n<li class=\"toclevel-1 tocsection-5\"><a href=\"#References\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">References</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Specifying_the_local_basis\">Specifying the local basis</span></h2>\n<ul><li><b>&lt;sites&gt;</b>: The sites on which the local functions are centered.</li></ul>\n<dl><dd>It is specified either using the index of the ionic positions as defined in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, or in terms of direct coordinates of the real space lattice. For instance, <code>1 2 6-8</code> will select sites 1, 2, 6, 7, and 8 as defined in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file. On the other hand, <code>(0.5, 0, 0)</code> specifies the position in terms of direct coordinates of the real space lattice. The modes of the specification can be mixed as well, e.g., <code> 1 (0.5, 0, 0) 8</code>.</dd></dl>\n<ul><li><b>&lt;functions-Ylm-specs&gt;</b>: The angular character of the local functions on the specified sites.</li></ul>\n<dl><dd>Possible specifications are presented in the table below.</dd></dl>\n<dl><dd><table border=\"1\" cellspacing=\"0\" cellpadding=\"5\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>s\n</td>\n<td style=\"width: 80px;\">\n</td>\n<td style=\"width: 80px;\">\n</td>\n<td style=\"width: 80px;\">\n</td>\n<td style=\"width: 80px;\">\n</td>\n<td style=\"width: 80px;\">\n</td>\n<td style=\"width: 80px;\">\n</td>\n<td style=\"width: 80px;\">\n</td></tr>\n<tr>\n<td>p</td>\n<td>py</td>\n<td>pz</td>\n<td>px</td>\n<td></td>\n<td></td>\n<td></td>\n<td>\n</td></tr>\n<tr>\n<td>d</td>\n<td>dxy</td>\n<td>dyz</td>\n<td>dz2</td>\n<td>dxz</td>\n<td>dx2-y2</td>\n<td></td>\n<td>\n</td></tr>\n<tr>\n<td>f</td>\n<td>fy(3x2-y2)</td>\n<td>fxyz</td>\n<td>fyz2</td>\n<td>fz3</td>\n<td>fxz2</td>\n<td>fz(x2-y2)</td>\n<td>fx(x2-3y2)\n</td></tr>\n<tr>\n<td>sp</td>\n<td>sp-1</td>\n<td>sp-2</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td>\n</td></tr>\n<tr>\n<td>sp2</td>\n<td>sp2-1</td>\n<td>sp2-2</td>\n<td>sp2-3</td>\n<td></td>\n<td></td>\n<td></td>\n<td>\n</td></tr>\n<tr>\n<td>sp3</td>\n<td>sp3-1</td>\n<td>sp3-2</td>\n<td>sp3-3</td>\n<td>sp3-4</td>\n<td></td>\n<td></td>\n<td>\n</td></tr>\n<tr>\n<td>sp3d</td>\n<td>sp3d-1</td>\n<td>sp3d-2</td>\n<td>sp3d-3</td>\n<td>sp3d-4</td>\n<td>sp3d-5</td>\n<td></td>\n<td>\n</td></tr>\n<tr>\n<td>sp3d2</td>\n<td>sp3d2-1</td>\n<td>sp3d2-2</td>\n<td>sp3d2-3</td>\n<td>sp3d2-4</td>\n<td>sp3d2-5</td>\n<td>sp3d2-6</td>\n<td>\n</td></tr></tbody></table></dd></dl>\n<dl><dd>For more details, have a look at the section on <a href=\"https://www.vasp.at/wiki/index.php/Angular_functions\" title=\"Angular functions\">angular functions</a>. These functions are consistent with the definition of the <i>initial guesses</i> used by <a rel=\"nofollow\" class=\"external text\" href=\"http://www.wannier.org\">WANNIER90</a> (see section 3.4 of the <a rel=\"nofollow\" class=\"external text\" href=\"http://www.wannier.org/doc/user_guide.pdf\">WANNIER90 manual</a>).</dd></dl>\n<dl><dd>It is possible to select multiple characters by creating a list separated by spaces, e.g., <code>p sp-1 dxy</code> performs a projection for all <i>p</i> functions (&#8801; <i>p</i><sub>x</sub>, <i>p</i><sub>y</sub>, and <i>p</i><sub>z</sub>), an <i>sp</i>-1 function, and a <i>d</i><sub>xy</sub> function on all sites specified by <b>&lt;sites&gt;</b>.</dd></dl>\n<ul><li><b>&lt;functions-radial-specs&gt;</b>: The radial dependency of the local functions.</li></ul>\n<dl><dd>There are three options:\n<dl><dd><b>Pr</b>: use the PAW projectors</dd>\n<dd><b>Ps</b>: use the PAW pseudo partial waves</dd>\n<dd><b>Hy</b>: use hydrogen-like (Slater type) functions (see section 3.4 of the <a rel=\"nofollow\" class=\"external text\" href=\"http://www.wannier.org/doc/user_guide.pdf\">WANNIER90 manual</a>)</dd></dl></dd></dl>\n<dl><dd></dd></dl>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  For <b>Pr</b> or <b>Ps</b>, which are radial functions derived from the PAW datasets, one can only specify spherical harmonics with <i>the same angular moment l</i> in the <b>&lt;functions-Ylm-specs&gt;</b> part. This means, <i>s</i>, <i>p</i>, <i>d</i>, <i>f</i>, and/or their respective separate constituents.\n</div></dd></dl>\n<dl><dd>The radial specifiers can optionally be modified using the following modification statements:\n<dl><dd><b>Pr</b> [ <i>n<sup>th</sup>-of-l</i>  [ <i>species-number</i> ] ]\n<dl><dd><i>n<sup>th</sup>-of-l</i>: Uses the radial function of the <i>n<sup>th</sup></i> projector with the angular moment specified in <b>&lt;functions-Ylm-specs&gt;</b>. The local basis of our PAW datasets typically contains 2 projectors per angular moment. By default, the projector that corresponds to the highest bound state of the relevant angular moment will be used.</dd></dl></dd></dl></dd></dl>\n<dl><dd><dl><dd><dl><dd><i>species-number</i>: Specifies from which PAW dataset in the current <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file the radial functions should be derived. When the positions of the local functions are specified using the ionic site indices of the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, the code will default to the corresponding atomic types.</dd></dl></dd></dl></dd></dl>\n<p><br>\n</p>\n<dl><dd><dl><dd><b>Ps</b> [ <i>n<sup>th</sup>-of-l</i>  [ <i>species-number</i> ] ]\n<dl><dd><i>n<sup>th</sup>-of-l</i>: Uses the radial function of the <i>n<sup>th</sup></i> pseudo partial wave with the angular moment specified in <b>&lt;functions-Ylm-specs&gt;</b>. The local basis of our PAW datasets typically contains 2 pseudo partial waves per angular moment. By default, the pseudo partial wave that corresponds to the highest bound state of the relevant angular moment is used.</dd></dl></dd></dl></dd></dl>\n<dl><dd><dl><dd><dl><dd><i>species-number</i>: Specifies from which PAW dataset in the current <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file the radial functions should be derived. When the positions of the local functions are specified using the ionic site indices of the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, the default is the corresponding atomic type.</dd></dl></dd></dl></dd></dl>\n<p><br>\n</p>\n<dl><dd><dl><dd><b>Hy</b> [ <i>n</i>  [ <i>&#945;</i> ] ]\n<dl><dd><i>n</i>: Main quantum number of the hydrogen-like radial functions. Default: <i>n=1</i>.</dd>\n<dd><i>&#945;</i>: controls the diffusivity of the <a href=\"https://www.vasp.at/wiki/index.php/Hydrogenic_radial_function\" title=\"Hydrogenic radial function\">radial functions</a> ( <i>&#945;=Z/a<sub>0</sub></i> in &#197;<sup>-1</sup>). Default:  <i>&#945;</i>=1.0 &#197;<sup>-1</sup>.</dd></dl></dd></dl></dd></dl>\n<dl><dd><dl><dd><dl><dd><table border=\"1\" cellspacing=\"0\" cellpadding=\"5\" class=\"table table-striped table-hover\">\n<caption><i>n</i>s type Hydrogen radial wave functions\n</caption>\n<tbody><tr>\n<th><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.395ex; height:1.676ex;\" alt=\"n\"></span>\n</th>\n<th><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle R(r)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>R</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle R(r)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f7b97817d8756302ef44f910ec5e76346e8d4f4d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.622ex; height:2.843ex;\" alt=\"R(r)\"></span>\n</th></tr>\n<tr>\n<td><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 1}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mn>1</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 1}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/92d98b82a3778f043108d4e20960a9193df57cbf\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.162ex; height:2.176ex;\" alt=\"1\"></span></td>\n<td><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 2\\alpha ^{3/2}\\exp(-\\alpha r)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mn>2</mn>\n        <msup>\n          <mi>&#945;<!-- &#945; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mi>exp</mi>\n        <mo>&#8289;<!-- &#8289; --></mo>\n        <mo stretchy=\"false\">(</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#945;<!-- &#945; --></mi>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 2\\alpha ^{3/2}\\exp(-\\alpha r)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/867dfc3f0fb55b4ee5e59f8fdc160c79a5596149\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:15.441ex; height:3.343ex;\" alt=\"2\\alpha ^{{3/2}}\\exp(-\\alpha r)\"></span>\n</td></tr>\n<tr>\n<td><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 2}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mn>2</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 2}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/901fc910c19990d0dbaaefe4726ceb1a4e217a0f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.162ex; height:2.176ex;\" alt=\"2\"></span></td>\n<td><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\frac {1}{2{\\sqrt {2}}}}\\alpha ^{3/2}(2-\\alpha r)\\exp(-\\alpha r/2)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <mn>2</mn>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <msqrt>\n                  <mn>2</mn>\n                </msqrt>\n              </mrow>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msup>\n          <mi>&#945;<!-- &#945; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mo stretchy=\"false\">(</mo>\n        <mn>2</mn>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#945;<!-- &#945; --></mi>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n        <mi>exp</mi>\n        <mo>&#8289;<!-- &#8289; --></mo>\n        <mo stretchy=\"false\">(</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#945;<!-- &#945; --></mi>\n        <mi>r</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mn>2</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\frac {1}{2{\\sqrt {2}}}}\\alpha ^{3/2}(2-\\alpha r)\\exp(-\\alpha r/2)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/90b1e46c4399de0d5e6eb17a4df6f42bf181acfc\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.838ex; width:30.049ex; height:6.176ex;\" alt=\"{\\frac  {1}{2{\\sqrt  2}}}\\alpha ^{{3/2}}(2-\\alpha r)\\exp(-\\alpha r/2)\"></span>\n</td></tr>\n<tr>\n<td><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 3}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mn>3</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 3}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/991e33c6e207b12546f15bdfee8b5726eafbbb2f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.162ex; height:2.176ex;\" alt=\"3\"></span></td>\n<td><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\sqrt {\\frac {4}{27}}}\\alpha ^{3/2}(1-2\\alpha r/3+2\\alpha ^{2}r^{2}/27)\\exp(-\\alpha r/3)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mfrac>\n              <mn>4</mn>\n              <mn>27</mn>\n            </mfrac>\n          </msqrt>\n        </mrow>\n        <msup>\n          <mi>&#945;<!-- &#945; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mo stretchy=\"false\">(</mo>\n        <mn>1</mn>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>2</mn>\n        <mi>&#945;<!-- &#945; --></mi>\n        <mi>r</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mn>3</mn>\n        <mo>+</mo>\n        <mn>2</mn>\n        <msup>\n          <mi>&#945;<!-- &#945; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <msup>\n          <mi>r</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mn>27</mn>\n        <mo stretchy=\"false\">)</mo>\n        <mi>exp</mi>\n        <mo>&#8289;<!-- &#8289; --></mo>\n        <mo stretchy=\"false\">(</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#945;<!-- &#945; --></mi>\n        <mi>r</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mn>3</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\sqrt {\\frac {4}{27}}}\\alpha ^{3/2}(1-2\\alpha r/3+2\\alpha ^{2}r^{2}/27)\\exp(-\\alpha r/3)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b1c692b378041518f7f3a52ac585516dad08ad71\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:46.059ex; height:6.176ex;\" alt=\"{{\\sqrt  {\\frac  {4}{27}}}}\\alpha ^{{3/2}}(1-2\\alpha r/3+2\\alpha ^{2}r^{2}/27)\\exp(-\\alpha r/3)\"></span>\n</td></tr></tbody></table></dd></dl></dd></dl></dd></dl>\n<dl><dd><dl><dd><dl><dd>This is consistent with the definition of the <i>initial guesses</i> used by <a rel=\"nofollow\" class=\"external text\" href=\"http://www.wannier.org\">WANNIER90</a> (section 3.4 of the <a rel=\"nofollow\" class=\"external text\" href=\"http://www.wannier.org/doc/user_guide.pdf\">WANNIER90 manual</a>).</dd></dl></dd></dl></dd></dl>\n<p><br>\n</p>\n<div class=\"alert alert-primary\" role=\"alert\"><h5 class=\"alert-heading\">Important:</h5>  Different projections have to be specified in multiple lines, as the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> tag can only be set once.\n</div><p>  For instance,\n</p><pre>LOCPROJ = \"1&#160;: s&#160;: Hy 2\n           1 3&#160;: dxy&#160;: Ps 2 3\"\n</pre>\n<p>performs the projection onto a hydrogen-like <i>2s</i> function and a <i>d</i><sub>xy</sub> pseudo partial wave (2<sup>nd</sup> <i>d</i> channel of atomic species 3) on ionic site 1, and a <i>d</i><sub>xy</sub> pseudo partial wave (identical type) on site 3.\n</p>\n<div class=\"alert alert-danger\" role=\"alert\"><h5 class=\"alert-heading\">Deprecated:</h5> For VASP versions <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> tag are allowed and taken into account.\n</div><p>For other tags, the second instance of a tag in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> is normally ignored. However, here\n</p>\n<pre>LOCPROJ = 1&#160;: s&#160;: Hy 2\nLOCPROJ = 1 3&#160;: dxy&#160;: Ps 2 3\n</pre>\n<p>is possible.\n</p>\n<h2><span class=\"mw-headline\" id=\"Example_for_LOCPROJ_tag\">Example for LOCPROJ tag</span></h2>\n<p>As mentioned above, to put a hydrogen-like <i>1s</i> function on the first ionic position specified in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file, the tag reads\n</p>\n<pre>LOCPROJ = 1&#160;: s&#160;: Hy\n</pre>\n<p>in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. To change this into a <i>2s</i> function, specify\n</p>\n<pre>LOCPROJ = 1&#160;: s&#160;: Hy 2\n</pre>\n<p>To project the orbitals onto the PAW projectors of the valence atomic <i>d</i><sub>xy</sub>-states of the atoms on sites 1 and 3, write\n</p>\n<pre>LOCPROJ = 1 3&#160;: dxy&#160;: Pr\n</pre>\n<p>This will only work if the atoms on these sites have valence atomic <i>d</i>-states. Otherwise, the necessary projectors will not be available in the relevant PAW datasets, and the code will exit in error at startup.\n</p><p>To forcibly use the radial function of the second <i>d</i> channel, write\n</p>\n<pre>LOCPROJ = 1 3&#160;: dxy&#160;: Pr 2\n</pre>\n<p>Again, provided the PAW dataset(s) contain more than one <i>d</i> channel.\nSimilarly, one can project onto the pseudo partial waves of the second <i>d</i> channel in the PAW dataset(s) by writing \n</p>\n<pre>LOCPROJ = 1 3&#160;: dxy&#160;: Ps 2\n</pre>\n<p>To project onto the functions of the third PAW dataset in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file, specify\n</p>\n<pre>LOCPROJ = 1 3&#160;: dxy&#160;: Ps 2 3\n</pre>\n<h2><span class=\"mw-headline\" id=\"LOCPROJ_file\"><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> file</span></h2>\n<p>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> file contains information about the projections of the Bloch states onto the localized orbitals specified with the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\">LOCPROJ</a> tag described above.\n</p><p>The file contains a header with the information about all projections:\n</p>\n<ul><li>ISITE: Index of the site in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file.</li>\n<li>R: Position in fractional coordinates.</li>\n<li>Radial type: Is one of \"PAW projector\",\"PS partial wave\", \"Hydrogen-like\" depending on the choice of <b>Pr</b>, <b>Ps</b> or <b>Hy</b>, respectively.</li>\n<li>Angular type: Angular character of the local functions, as presented in the table above in <b>&lt;functions-Ylm-specs&gt;</b>.</li></ul>\n<p>Each Kohn-Sham orbital is identified by the spin, k point, band index, eigenvalue, and occupation.\nFor each of these Kohn-Sham orbitals, VASP writes the real and imaginary part of the projection onto localized orbitals <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\langle \\beta _{lm}^{\\alpha }|S|\\psi _{n\\mathbf {k} }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mi>&#946;<!-- &#946; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi>S</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\langle \\beta _{lm}^{\\alpha }|S|\\psi _{n\\mathbf {k} }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ab2ba9e3a5295809fdc67eaa239d47f6bb250bce\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:11.813ex; height:3.009ex;\" alt=\"{\\displaystyle \\langle \\beta _{lm}^{\\alpha }|S|\\psi _{n\\mathbf {k} }\\rangle }\"></span>. Note that for <b>vasp_gam</b> only the real part exists.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LORBIT\" title=\"LORBIT\" class=\"tag-link\">LORBIT</a>, <a href=\"https://www.vasp.at/wiki/index.php/PROJCAR\" title=\"PROJCAR\" class=\"tag-link\">PROJCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22MYTAG%22_incategory:%22Examples%22\" title='Special:Search/\"MYTAG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<p><br>\n</p>\n</div>", "last_revised": "2022-08-17T15:31:52Z"}, "ENINI": {"datatype": "real", "default": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUT\">ENCUT</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENINI\">ENINI</a> controls the cutoff during the initial (steepest descent) phase for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENINI\">IALGO</a>=<span><span class=\"tag-value\">48</span>.</span></span>", "id": 367, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ENINI%22_incategory:%22Examples%22\" title='Special:Search/\"ENINI\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:13:32Z"}, "ANTIRES": {"datatype": "integer", "default": "0", "options": {"0": null, "1": null, "2": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ANTIRES\">ANTIRES</a> determines whether the Tamm-Dancoff approximation is used or not. </span>", "id": 368, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ANTIRES\">ANTIRES</a>=<span><span class=\"tag-value\">0</span> Tamm-Dancoff approximation (TDA)</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ANTIRES\">ANTIRES</a>=<span><span class=\"tag-value\">1</span> yields exact results at &#969;=0 at roughly the same cost  as TDA</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ANTIRES\">ANTIRES</a>=<span><span class=\"tag-value\">2</span> beyond Tamm-Dancoff, coupling between positive and negative frequencies</span></li></ul>\n<p>VASP uses the procedures outlined in reference <sup id=\"cite_ref-Sander_1-0\" class=\"reference\"><a href=\"#cite_note-Sander-1\">[1]</a></sup> to include contributions beyond TDA. Beyond-TDA calculations increase the computational time and memory requirements by typically a factor of 2.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ANTIRES%22_incategory:%22Examples%22\" title='Special:Search/\"ANTIRES\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-Sander-1\"><a href=\"#cite_ref-Sander_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://journals.aps.org/prb/abstract/10.1103/PhysRevB.92.045209\">T. Sander, E. Maggio and G. Kresse, Phys. Rev. B 92, 045209 (2015).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-07T10:19:08Z"}, "ENCUTFOCK": {"datatype": "real", "default": null, "options": {}, "summary": "The <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTFOCK\">ENCUTFOCK</a> tag sets the energy cutoff that determines the FFT grids used by the Hartree-Fock routines.", "id": 369, "info": "<div><p>The flag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTFOCK\">ENCUTFOCK</a> is no longer supported in VASP.5.2.4 and newer versions.\nPlease use <a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a> instead.\n</p><p><br>\nThe only sensible value for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTFOCK\">ENCUTFOCK</a> is <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTFOCK\">ENCUTFOCK</a>=<span><span class=\"tag-value\">0</span>.\nThis implies that the smallest possible FFT grid, which just encloses the cutoff sphere\ncorresponding to the plane wave cutoff, is used. \nThis accelerates the calculations by roughly a factor two to three,\nbut causes slight changes in the total energies and  some noise in the calculated forces.\nThe FFT grid used internally in the exact exchange (Hartree-Fock) routines\nis written to the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. Simply search for lines starting with\n</p>\n<pre>FFT grid for exact exchange (Hartree Fock)\n</pre>\n<p><br>\nIn many cases, a sensible approach is to determine the electronic and ionic groundstate \nusing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTFOCK\">ENCUTFOCK</a>=<span><span class=\"tag-value\">0</span>, and to make one final total energy calculation\nwithout the flag </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTFOCK\">ENCUTFOCK</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PREC\" title=\"PREC\" class=\"tag-link\">PREC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">settings for specific hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ENCUTFOCK%22_incategory:%22Examples%22\" title='Special:Search/\"ENCUTFOCK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:12:43Z"}, "ENCUTGW": {"datatype": "real", "default": "2/3 <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUT\">ENCUT</a>", "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a> sets the energy cutoff for the response function. It controls the basis set for the response functions", "id": 370, "info": "<div><p>In GW and random-phase-approximation (RPA) calculations,  storing and manipulating the response function dominates the computational work load:\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi _{\\mathbf {q} }^{0}({\\mathbf {G} },{\\mathbf {G} }',\\omega )={\\frac {1}{\\Omega }}\\sum _{n,n',{\\mathbf {k} }}2w_{\\mathbf {k} }(f_{n'{\\mathbf {k} }+{\\mathbf {q} }}-f_{n{\\mathbf {k} }})\\times {\\frac {\\langle \\psi _{n{\\mathbf {k} }}|e^{-i({\\mathbf {q} }+{\\mathbf {G} }){\\mathbf {r} }}|\\psi _{n'{\\mathbf {k} }+{\\mathbf {q} }}\\rangle \\langle \\psi _{n'{\\mathbf {k} }+{\\mathbf {q} }}|e^{i({\\mathbf {q} }+{\\mathbf {G} }'){\\mathbf {r'} }}|\\psi _{n{\\mathbf {k} }}\\rangle }{\\epsilon _{n'{\\mathbf {k} }+{\\mathbf {q} }}-\\epsilon _{n{\\mathbf {k} }}-\\omega -i\\eta }}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo>,</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n          </mfrac>\n        </mrow>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mo>,</mo>\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mo>,</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <mn>2</mn>\n        <msub>\n          <mi>w</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n            <mo>+</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">q</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msup>\n                <mi>e</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>&#8722;<!-- &#8722; --></mo>\n                  <mi>i</mi>\n                  <mo stretchy=\"false\">(</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">G</mi>\n                    </mrow>\n                  </mrow>\n                  <mo stretchy=\"false\">)</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">r</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n              <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msup>\n                <mi>e</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                  <mo stretchy=\"false\">(</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <msup>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"bold\">G</mi>\n                      </mrow>\n                    </mrow>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mo stretchy=\"false\">)</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <msup>\n                        <mi mathvariant=\"bold\">r</mi>\n                        <mo>&#8242;</mo>\n                      </msup>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n            </mrow>\n            <mrow>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>&#969;<!-- &#969; --></mi>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>i</mi>\n              <mi>&#951;<!-- &#951; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi _{\\mathbf {q} }^{0}({\\mathbf {G} },{\\mathbf {G} }',\\omega )={\\frac {1}{\\Omega }}\\sum _{n,n',{\\mathbf {k} }}2w_{\\mathbf {k} }(f_{n'{\\mathbf {k} }+{\\mathbf {q} }}-f_{n{\\mathbf {k} }})\\times {\\frac {\\langle \\psi _{n{\\mathbf {k} }}|e^{-i({\\mathbf {q} }+{\\mathbf {G} }){\\mathbf {r} }}|\\psi _{n'{\\mathbf {k} }+{\\mathbf {q} }}\\rangle \\langle \\psi _{n'{\\mathbf {k} }+{\\mathbf {q} }}|e^{i({\\mathbf {q} }+{\\mathbf {G} }'){\\mathbf {r'} }}|\\psi _{n{\\mathbf {k} }}\\rangle }{\\epsilon _{n'{\\mathbf {k} }+{\\mathbf {q} }}-\\epsilon _{n{\\mathbf {k} }}-\\omega -i\\eta }}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ccf590c61e14cbfb8907ca87e4b66207d8dbf955\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.505ex; width:90.753ex; height:8.009ex;\" alt=\"\\chi _{{{{\\mathbf  {q}}}}}^{0}({{\\mathbf  {G}}},{{\\mathbf  {G}}}',\\omega )={\\frac  {1}{\\Omega }}\\sum _{{n,n',{{\\mathbf  {k}}}}}2w_{{{{\\mathbf  {k}}}}}(f_{{n'{{\\mathbf  {k}}}+{{\\mathbf  {q}}}}}-f_{{n{{\\mathbf  {k}}}}})\\times {\\frac  {\\langle \\psi _{{n{{\\mathbf  {k}}}}}|e^{{-i({{\\mathbf  {q}}}+{{\\mathbf  {G}}}){{\\mathbf  {r}}}}}|\\psi _{{n'{{\\mathbf  {k}}}+{{\\mathbf  {q}}}}}\\rangle \\langle \\psi _{{n'{{\\mathbf  {k}}}+{{\\mathbf  {q}}}}}|e^{{i({{\\mathbf  {q}}}+{{\\mathbf  {G}}}'){{\\mathbf  {r'}}}}}|\\psi _{{n{{\\mathbf  {k}}}}}\\rangle }{\\epsilon _{{n'{{\\mathbf  {k}}}+{{\\mathbf  {q}}}}}-\\epsilon _{{n{{\\mathbf  {k}}}}}-\\omega -i\\eta }}.\"></span>\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a>  controls how many <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f6d9c60d3cf462a9812e9a9d021d17c7bc272a5a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.101ex; height:2.176ex;\" alt=\"{\\mathbf  {G}}\"></span> vectors are included in the \nthe response function <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi _{\\mathbf {q} }^{0}({\\mathbf {G} },{\\mathbf {G} }',\\omega )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo>,</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi _{\\mathbf {q} }^{0}({\\mathbf {G} },{\\mathbf {G} }',\\omega )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8a1bd08397d5cca2cb2d14007259f5fa030720f0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:12.898ex; height:3.176ex;\" alt=\"\\chi _{{{{\\mathbf  {q}}}}}^{0}({{\\mathbf  {G}}},{{\\mathbf  {G}}}',\\omega )\"></span>.\n</p><p>Our experience suggests that choosing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a>=<span class=\"tag-value\">2/3</span> <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> yields reasonable results at fairly modest computational cost, although, the response function contains contributions up to twice the plane wave cutoff <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G_{\\rm {cut}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G_{\\rm {cut}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1b5ac6dc506c64f6366f899040cd5c6b4e9965d6\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.343ex; height:2.509ex;\" alt=\"G_{{{\\rm {cut}}}}\"></span>, see <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> tag. Furthermore, RPA correlation energies are reported using an internal extrapolation of the correlation energy by varying the value of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a> inside VASP between the largest value given in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file and smaller values <sup id=\"cite_ref-harl:prb:08_1-0\" class=\"reference\"><a href=\"#cite_note-harl:prb:08-1\">[1]</a></sup>. Mind: The extrapolated value is only reliable, if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a> is smaller then <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>. The cutoff extrapolation with respect to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a> would be precise if the plane wave basis for the orbitals were infinite. Again, the VASP defaults yield very reasonable values for the extrapolated correlation energy. In fact, it is unwise to increase <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a> only, without increasing <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>. To converge RPA correlation energies, simply increase <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> and the number of orbitals, and use the VASP default for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a>.\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> More details on how the infinite basis set limit is extrapolated in RPA/ACFDT can be found <a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations#Basis_set_convergence\" title=\"ACFDT/RPA calculations\">here</a>.\n</div><p>For quasiparticle (QP) bandgaps, it is sometimes possible to set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a> to values between 150 to 200 eV, and even 100 eV can yield\ngaps that are accurate to within a few tens of an eV for main group elements. Be aware, however, that the absolute values of the QP energies depend inverse proportionally on the number of plane waves. Thus, the convergence of absolute QP energies is very slow, although QP gaps might seem converged.\n</p><p>The recommended procedure to obtain accurate QP energies is discussed in the reference below. Specifically,  for reference type calculations we recommend the following procedure: \n</p>\n<ul><li>Use the default for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a>, or even decrease <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a> to half the value of <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>.</li>\n<li>Calculate all orbitals that the plane-wave basis set allows to calculate. This number can be determined by searching for \"maximum number of plane-waves\" in the ground-state DFT <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file, and setting <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> to this value.</li>\n<li>Increase <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> systematically and plot the QP energies versus the number of plane-wave coefficients, which equals the number of orbitals. This means <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a> and <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> increase as <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a> increases.</li></ul>\n<p>This procedure can be carried out using few k points. Other commonly applied methods can yield less accurate results and are not considered to be reliable.\n</p>\n<h2><span class=\"mw-headline\" id=\"FFT_grid_and_PRECFOCK\">FFT grid and <a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a></span></h2>\n<p>The <a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a> tag determines the fast Fourier transformation (FFT) grid in all GW (and Hartree-Fock) related routines. For small systems, the computational time is often dominated by FFT operations. Therefore, the <a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a> tag can have a significant impact on the compute time for QP calculations. For large systems, the FFT's usually do not dominate the computational workload, and savings are expected to be small for <a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a> = <i>fast</i>. \nQP shifts are usually not very sensitive to the setting of <a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a> and therefore there is no harm in setting <a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a> = <i>fast</i>), whereas for RPA calculations we recommend to set <a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a> = <i>normal</i> to avoid numerical errors.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUTGWSOFT\" title=\"ENCUTGWSOFT\" class=\"tag-link\">ENCUTGWSOFT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations#Basis_set_convergence\" title=\"ACFDT/RPA calculations\">Basis set convergence</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ENCUTGW%22_incategory:%22Examples%22\" title='Special:Search/\"ENCUTGW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"Further_reading\">Further reading</span></h2>\n<ul><li>Generally, QP energies converge like one over the number of orbitals and one over the number of plane waves in the response function. For basis set converged calculations, we recommend using the strategies outlined in Ref. <sup id=\"cite_ref-klimes:prb:14_2-0\" class=\"reference\"><a href=\"#cite_note-klimes:prb:14-2\">[2]</a></sup>, which contains a comprehensive study of the performance of the convergence of GW calculations.</li></ul>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n</div>", "last_revised": "2023-04-24T14:07:20Z"}, "ENCUTGWSOFT": {"datatype": "real", "default": [["<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a><math>\\times 0.8</math></span>", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a>=<i>ACFDT</i>"], ["<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a><math>\\times 0.8</math></span>", "as of VASP.6.3"], ["<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a>", "else"]], "options": {}, "summary": null, "id": 371, "info": "<div><p>RPA/ACFDT correlation energies converge very slowly with respect to <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G} _{\\rm {max}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">m</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G} _{\\rm {max}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ff0f68831e2f9f5db417cec724f49dc1992dbea\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:5.392ex; height:2.509ex;\" alt=\"{\\mathbf  {G}}_{{{\\rm {max}}}}\"></span>. \nThus VASP automatically extrapolates to the infinite basis set limit using a linear regression to the equation: <sup id=\"cite_ref-harl:2008_1-0\" class=\"reference\"><a href=\"#cite_note-harl:2008-1\">[1]</a></sup><sup id=\"cite_ref-harl:2010_2-0\" class=\"reference\"><a href=\"#cite_note-harl:2010-2\">[2]</a></sup><sup id=\"cite_ref-klimes:2014_3-0\" class=\"reference\"><a href=\"#cite_note-klimes:2014-3\">[3]</a></sup>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\mathrm {c} }({\\mathbf {G} })=E_{\\mathrm {c} }(\\infty )+{\\frac {A}{{\\mathbf {G} }^{3}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi mathvariant=\"normal\">&#8734;<!-- &#8734; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mi>A</mi>\n            <msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\mathrm {c} }({\\mathbf {G} })=E_{\\mathrm {c} }(\\infty )+{\\frac {A}{{\\mathbf {G} }^{3}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ba8257be01604fdebac018b063120b4b53b7e0f0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:23.328ex; height:5.843ex;\" alt=\"E_{{{\\mathrm  {c}}}}({{\\mathbf  {G}}})=E_{{{\\mathrm  {c}}}}(\\infty )+{\\frac  {A}{{{\\mathbf  {G}}}^{3}}}\"></span>.\n</p><p>This  usually leads to much smoother energy-volume curves in <a href=\"https://www.vasp.at/wiki/index.php/ACFDT_calculations\" class=\"mw-redirect\" title=\"ACFDT calculations\">ACFDT calculations</a> and <a href=\"https://www.vasp.at/wiki/index.php/MP2_calculations\" title=\"MP2 calculations\">MP2 calculations</a>.\nThe modified Coulomb kernel is in this case:\n<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle v_{G}={\\frac {4\\pi e^{2}}{G^{2}}}{\\frac {1}{2}}\\left(1+\\cos \\left(\\pi \\,{\\frac {{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}-\\mathrm {ENCUTGWSOFT} }{\\mathrm {ENCUTGW} -\\mathrm {ENCUTGWSOFT} }}\\right)\\right)\\qquad {\\mbox{for}}\\quad {\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&gt;\\mathrm {ENCUTGWSOFT} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>G</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mn>4</mn>\n              <mi>&#960;<!-- &#960; --></mi>\n              <msup>\n                <mi>e</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <msup>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mn>2</mn>\n          </mfrac>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mn>1</mn>\n            <mo>+</mo>\n            <mi>cos</mi>\n            <mo>&#8289;<!-- &#8289; --></mo>\n            <mrow>\n              <mo>(</mo>\n              <mrow>\n                <mi>&#960;<!-- &#960; --></mi>\n                <mspace width=\"thinmathspace\"></mspace>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mfrac>\n                    <mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mfrac>\n                          <mrow>\n                            <msup>\n                              <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                              <mrow class=\"MJX-TeXAtom-ORD\">\n                                <mn>2</mn>\n                              </mrow>\n                            </msup>\n                            <msup>\n                              <mi>G</mi>\n                              <mrow class=\"MJX-TeXAtom-ORD\">\n                                <mn>2</mn>\n                              </mrow>\n                            </msup>\n                          </mrow>\n                          <mrow>\n                            <mn>2</mn>\n                            <msub>\n                              <mi>m</mi>\n                              <mrow class=\"MJX-TeXAtom-ORD\">\n                                <mi>e</mi>\n                              </mrow>\n                            </msub>\n                          </mrow>\n                        </mfrac>\n                      </mrow>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">E</mi>\n                        <mi mathvariant=\"normal\">N</mi>\n                        <mi mathvariant=\"normal\">C</mi>\n                        <mi mathvariant=\"normal\">U</mi>\n                        <mi mathvariant=\"normal\">T</mi>\n                        <mi mathvariant=\"normal\">G</mi>\n                        <mi mathvariant=\"normal\">W</mi>\n                        <mi mathvariant=\"normal\">S</mi>\n                        <mi mathvariant=\"normal\">O</mi>\n                        <mi mathvariant=\"normal\">F</mi>\n                        <mi mathvariant=\"normal\">T</mi>\n                      </mrow>\n                    </mrow>\n                    <mrow>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">E</mi>\n                        <mi mathvariant=\"normal\">N</mi>\n                        <mi mathvariant=\"normal\">C</mi>\n                        <mi mathvariant=\"normal\">U</mi>\n                        <mi mathvariant=\"normal\">T</mi>\n                        <mi mathvariant=\"normal\">G</mi>\n                        <mi mathvariant=\"normal\">W</mi>\n                      </mrow>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">E</mi>\n                        <mi mathvariant=\"normal\">N</mi>\n                        <mi mathvariant=\"normal\">C</mi>\n                        <mi mathvariant=\"normal\">U</mi>\n                        <mi mathvariant=\"normal\">T</mi>\n                        <mi mathvariant=\"normal\">G</mi>\n                        <mi mathvariant=\"normal\">W</mi>\n                        <mi mathvariant=\"normal\">S</mi>\n                        <mi mathvariant=\"normal\">O</mi>\n                        <mi mathvariant=\"normal\">F</mi>\n                        <mi mathvariant=\"normal\">T</mi>\n                      </mrow>\n                    </mrow>\n                  </mfrac>\n                </mrow>\n              </mrow>\n              <mo>)</mo>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mspace width=\"2em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mstyle displaystyle=\"false\" scriptlevel=\"0\">\n            <mtext>for</mtext>\n          </mstyle>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&gt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">E</mi>\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">C</mi>\n          <mi mathvariant=\"normal\">U</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">G</mi>\n          <mi mathvariant=\"normal\">W</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">O</mi>\n          <mi mathvariant=\"normal\">F</mi>\n          <mi mathvariant=\"normal\">T</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle v_{G}={\\frac {4\\pi e^{2}}{G^{2}}}{\\frac {1}{2}}\\left(1+\\cos \\left(\\pi \\,{\\frac {{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}-\\mathrm {ENCUTGWSOFT} }{\\mathrm {ENCUTGW} -\\mathrm {ENCUTGWSOFT} }}\\right)\\right)\\qquad {\\mbox{for}}\\quad {\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&gt;\\mathrm {ENCUTGWSOFT} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e9f1729f9d5315ece6777efe2822da6af69a4884\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.171ex; width:104.088ex; height:9.509ex;\" alt=\"{\\displaystyle v_{G}={\\frac {4\\pi e^{2}}{G^{2}}}{\\frac {1}{2}}\\left(1+\\cos \\left(\\pi \\,{\\frac {{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}-\\mathrm {ENCUTGWSOFT} }{\\mathrm {ENCUTGW} -\\mathrm {ENCUTGWSOFT} }}\\right)\\right)\\qquad {\\mbox{for}}\\quad {\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&gt;\\mathrm {ENCUTGWSOFT} }\"></span> \n</p><p>If <a href=\"https://www.vasp.at/wiki/index.php/LSCK\" title=\"LSCK\" class=\"tag-link\">LSCK</a> is set to .TRUE., the squeezed Coulomb kernel is used instead of the cosine window:<sup id=\"cite_ref-riemelmoser:jcp:2020_4-0\" class=\"reference\"><a href=\"#cite_note-riemelmoser:jcp:2020-4\">[4]</a></sup>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle v_{G}=4\\pi e^{2}{\\frac {(G_{max}-G_{min})(G_{max}-G)}{(G_{min}^{2}-G(2G_{min}-G_{max}))^{2}}}\\qquad {\\mbox{for}}\\quad \\mathrm {ENCUTGWSOFT} ={\\frac {\\hbar ^{2}G_{min}^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G_{max}^{2}}{2m_{e}}}=\\mathrm {ENCUTGW} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>G</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>4</mn>\n        <mi>&#960;<!-- &#960; --></mi>\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>a</mi>\n                  <mi>x</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>i</mi>\n                  <mi>n</mi>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>a</mi>\n                  <mi>x</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>G</mi>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <mrow>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>i</mi>\n                  <mi>n</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msubsup>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>G</mi>\n              <mo stretchy=\"false\">(</mo>\n              <mn>2</mn>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>i</mi>\n                  <mi>n</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>a</mi>\n                  <mi>x</mi>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n              <msup>\n                <mo stretchy=\"false\">)</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mspace width=\"2em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mstyle displaystyle=\"false\" scriptlevel=\"0\">\n            <mtext>for</mtext>\n          </mstyle>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">E</mi>\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">C</mi>\n          <mi mathvariant=\"normal\">U</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">G</mi>\n          <mi mathvariant=\"normal\">W</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">O</mi>\n          <mi mathvariant=\"normal\">F</mi>\n          <mi mathvariant=\"normal\">T</mi>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msubsup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>i</mi>\n                  <mi>n</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msubsup>\n            </mrow>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msubsup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>a</mi>\n                  <mi>x</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msubsup>\n            </mrow>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">E</mi>\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">C</mi>\n          <mi mathvariant=\"normal\">U</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">G</mi>\n          <mi mathvariant=\"normal\">W</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle v_{G}=4\\pi e^{2}{\\frac {(G_{max}-G_{min})(G_{max}-G)}{(G_{min}^{2}-G(2G_{min}-G_{max}))^{2}}}\\qquad {\\mbox{for}}\\quad \\mathrm {ENCUTGWSOFT} ={\\frac {\\hbar ^{2}G_{min}^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G_{max}^{2}}{2m_{e}}}=\\mathrm {ENCUTGW} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/697c7ef30f146258ced87fb4e0b21cd1789eca8a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:116.589ex; height:7.176ex;\" alt=\"{\\displaystyle v_{G}=4\\pi e^{2}{\\frac {(G_{max}-G_{min})(G_{max}-G)}{(G_{min}^{2}-G(2G_{min}-G_{max}))^{2}}}\\qquad {\\mbox{for}}\\quad \\mathrm {ENCUTGWSOFT} ={\\frac {\\hbar ^{2}G_{min}^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G_{max}^{2}}{2m_{e}}}=\\mathrm {ENCUTGW} }\"></span> \n</p><p>This kernel <i>squeezes</i> contributions from large wave vectors <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G&gt;G_{max}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>G</mi>\n        <mo>&gt;</mo>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mi>a</mi>\n            <mi>x</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G&gt;G_{max}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/50498b4d3056255de4809760da06e2fcebda6c77\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:10.237ex; height:2.509ex;\" alt=\"{\\displaystyle G&gt;G_{max}}\"></span> into the window given by <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGWSOFT\"><span style=\"color:black\">ENCUTGWSOFT</span></a>.\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The infinite basis set limit extrapolation for RPA/ACFDT is described in more detail <a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations#Basis_set_convergence\" title=\"ACFDT/RPA calculations\">here</a>.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\" title=\"ENCUTGW\" class=\"tag-link\">ENCUTGW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCK\" title=\"LSCK\" class=\"tag-link\">LSCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations#Basis_set_convergence\" title=\"ACFDT/RPA calculations\">RPA/ACFDT basis set convergence</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ENCUTGWSOFT%22_incategory:%22Examples%22\" title='Special:Search/\"ENCUTGWSOFT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-24T14:18:28Z"}, "GGA_COMPAT": {"datatype": "boolean", "default": ".TRUE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "This flag restores the full lattice symmetry for gradient corrected functionals.", "id": 372, "info": "<div><p>For gradient corrected functionals the \nexchange correlation functional might break the symmetry of\nthe Bravais lattice slightly for non cubic cells (this\nincludes primitive fcc and bcc lattices).\nThe origin of this problem is subtle and relates to the fact that the gradient\nfield breaks the lattice  symmetry for non-cubic lattices.\nTo fix this, a spherical cutoff is applied to the gradient field\nfor <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/GGA_COMPAT\">GGA_COMPAT</a> = .<i>FALSE</i>.,\ne.g. for all reciprocal lattice vectors <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {G}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {G}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d390d870ce7123ff0330a777cbf96ada669feae3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.101ex; height:2.176ex;\" alt=\"{\\mathbf  {G}}\"></span> that exceed a certain cutoff length\n<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {G}}_{cut}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mi>u</mi>\n            <mi>t</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {G}}_{cut}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a82f7becfb3d41a5ec9d05213eb1d36c78b105e1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.579ex; height:2.509ex;\" alt=\"{\\mathbf  {G}}_{{cut}}\"></span> the gradient field as well as the charge density is set to\nzero before calculating the exchange correlation energy and potential. \nThe cutoff <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {G}}_{cut}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n            <mi>u</mi>\n            <mi>t</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {G}}_{cut}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a82f7becfb3d41a5ec9d05213eb1d36c78b105e1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.579ex; height:2.509ex;\" alt=\"{\\mathbf  {G}}_{{cut}}\"></span> is determined automatically so that the cutoff sphere\nis fully inscribed in the parallelepiped defined by the FFT grid in\nthe reciprocal space.\n</p><p>Since this flag restores the full lattice symmetry for gradient corrected functionals,\nand we therefore recommend to set \n</p>\n<pre>GGA_COMPAT = .FALSE.\n</pre>\n<p>for all gradient corrected calculations. For compatibility reasons,\nthe default is <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/GGA_COMPAT\">GGA_COMPAT</a> = <i>.TRUE.</i> until VASP.5.2.\nHowever, setting the flag usually changes the energy only in the sub meV energy range\n(0.1 meV), and for most results it does matter little how\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/GGA_COMPAT\">GGA_COMPAT</a> is set. The most important exception are magnetic\nanisotropies, for which we strongly recommend to set  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/GGA_COMPAT\">GGA_COMPAT</a> = .<i>FALSE</i>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22GGA_COMPAT%22_incategory:%22Examples%22\" title='Special:Search/\"GGA COMPAT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T12:43:20Z"}, "HFLMAX": {"datatype": "integer", "default": "4", "options": {}, "summary": "To be compatible w.r.t. old releases, VASP also reads the flag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFLMAX\">HFLMAX</a> to the same effect as <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFLMAX\">LMAXFOCK</a>.", "id": 373, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"LMAXFOCKAE\">LMAXFOCKAE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22HFLMAX%22_incategory:%22Examples%22\" title='Special:Search/\"HFLMAX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:18:29Z"}, "IGPAR": {"datatype": "integer", "default": null, "options": {"1": null, "2": null, "3": null}, "summary": "This tag specifies the socalled parallel or <math>\\bold{G}_{\\parallel}</math> direction in the integration over the reciprocal space unit cell needed for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\">LCALCPOL</a>.", "id": 375, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\" title=\"LCALCPOL\" class=\"tag-link\">LCALCPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EFIELD_PEAD\" title=\"EFIELD PEAD\" class=\"tag-link\">EFIELD_PEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPEAD\" title=\"LPEAD\" class=\"tag-link\">LPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IPEAD\" title=\"IPEAD\" class=\"tag-link\">IPEAD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LBERRY\" title=\"LBERRY\" class=\"tag-link\">LBERRY</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NPPSTR\" title=\"NPPSTR\" class=\"tag-link\">NPPSTR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Berry_phases_and_finite_electric_fields\" title=\"Berry phases and finite electric fields\">Berry phases and finite electric fields</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IGPAR%22_incategory:%22Examples%22\" title='Special:Search/\"IGPAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:58:01Z"}, "IVDW": {"datatype": "integer", "default": "0 (no correction)", "options": {"0": null, "1": null, "10": null, "11": null, "12": null, "2": null, "20": null, "21": null, "202": null, "4": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a> specifies a vdW (dispersion) correction.</span>", "id": 376, "info": "<div><p>For fundamental reasons, the semilocal and hybrid exchange-correlation functionals are unable to describe properly vdW interactions resulting from dynamical correlations between fluctuating charge distributions (called London dispersion forces). An approximate way to work around this problem and to get more reliable results for vdW systems is to add a dispersion correction term, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\mathrm {disp} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">p</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\mathrm {disp} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/619c66ce92be8a7bc3867a53f1413ab353fccb7e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:4.881ex; height:2.843ex;\" alt=\"E_{{{\\mathrm  {disp}}}}\"></span>, to the conventional KS-DFT energy <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {tot}}^{\\mathrm {KS-DFT} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">K</mi>\n              <mi mathvariant=\"normal\">S</mi>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">F</mi>\n              <mi mathvariant=\"normal\">T</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {tot}}^{\\mathrm {KS-DFT} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e382de721e5e8b94489210ea2a3ab33f74e37810\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:9.013ex; height:3.176ex;\" alt=\"{\\displaystyle E_{\\rm {tot}}^{\\mathrm {KS-DFT} }}\"></span>:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\rm {tot}}^{\\mathrm {KS-DFT-disp} }=E_{\\rm {tot}}^{\\mathrm {KS-DFT} }+E_{\\mathrm {disp} }.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">K</mi>\n              <mi mathvariant=\"normal\">S</mi>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">F</mi>\n              <mi mathvariant=\"normal\">T</mi>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">p</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">K</mi>\n              <mi mathvariant=\"normal\">S</mi>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">F</mi>\n              <mi mathvariant=\"normal\">T</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>+</mo>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">p</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\rm {tot}}^{\\mathrm {KS-DFT-disp} }=E_{\\rm {tot}}^{\\mathrm {KS-DFT} }+E_{\\mathrm {disp} }.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e4c7f443e0350543aa96965eb1ebadf98cefc3d2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:33.703ex; height:3.509ex;\" alt=\"{\\displaystyle E_{\\rm {tot}}^{\\mathrm {KS-DFT-disp} }=E_{\\rm {tot}}^{\\mathrm {KS-DFT} }+E_{\\mathrm {disp} }.}\"></span></dd></dl>\n<p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\mathrm {disp} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">p</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\mathrm {disp} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/619c66ce92be8a7bc3867a53f1413ab353fccb7e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:4.881ex; height:2.843ex;\" alt=\"E_{{{\\mathrm  {disp}}}}\"></span> can be calculated using one of the available approximate methods listed below.\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">0</span>&#160;: no dispersion correction (default)</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">1|10</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a> method of Grimme (available as of VASP.5.2.11)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">11</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a> method of Grimme with zero-damping function (available as of VASP.5.3.4)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">12</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a> method with Becke-Johnson damping function (available as of VASP.5.3.4)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">13</span>&#160;: DFT-D4 method (available as of VASP.6.2 as </span><a href=\"https://www.vasp.at/wiki/index.php/Makefile.include#DFTD4_.28optional.29\" title=\"Makefile.include\">external package</a>)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">2|20</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler method</a> (available as of VASP.5.3.3)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">21</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method_with_iterative_Hirshfeld_partitioning\" title=\"Tkatchenko-Scheffler method with iterative Hirshfeld partitioning\">Tkatchenko-Scheffler method with iterative Hirshfeld partitioning</a> (available as of VASP.5.3.5)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">202</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/Many-body_dispersion_energy\" title=\"Many-body dispersion energy\">Many-body dispersion energy</a> method (MBD@rSC) (available as of VASP.5.4.1)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">263</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/Many-body_dispersion_energy_with_fractionally_ionic_model_for_polarizability\" title=\"Many-body dispersion energy with fractionally ionic model for polarizability\">Many-body dispersion energy with fractionally ionic model for polarizability</a> method (MBD@rSC/FI) (available as of VASP.6.1.0)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">4</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/DDsC_dispersion_correction\" title=\"DDsC dispersion correction\">dDsC dispersion correction</a> method (available as of VASP.5.4.1)</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a>=<span><span class=\"tag-value\">3</span>&#160;: </span><a href=\"https://www.vasp.at/wiki/index.php/DFT-ulg\" title=\"DFT-ulg\">DFT-ulg</a> method (available as of VASP.5.3.5)</li></ul>\n<p>With all methods listed above, a dispersion correction is added to the total energy, potential, interatomic forces and stress tensor, such that lattice relaxations, molecular dynamics, and vibrational analysis (via finite differences) can be performed. Note, however, that these correction schemes are currently not available for calculations based on density functional perturbation theory.\n</p><p><b>N.B.</b>: The parameter <a href=\"https://www.vasp.at/wiki/index.php/LVDW\" class=\"mw-redirect tag-link\" title=\"LVDW\">LVDW</a> used in previous versions of VASP (5.2.11 and later) to activate the <a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a> method is now obsolete. If <a href=\"https://www.vasp.at/wiki/index.php/LVDW\" class=\"mw-redirect tag-link\" title=\"LVDW\">LVDW</a>=<i>.TRUE.</i> is defined, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a> is automatically set to 1 (unless <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW\">IVDW</a> is specified in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>, <a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler method</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Self-consistent_screening_in_Tkatchenko-Scheffler_method\" title=\"Self-consistent screening in Tkatchenko-Scheffler method\">Self-consistent screening in Tkatchenko-Scheffler method</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method_with_iterative_Hirshfeld_partitioning\" title=\"Tkatchenko-Scheffler method with iterative Hirshfeld partitioning\">Tkatchenko-Scheffler method with iterative Hirshfeld partitioning</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Many-body_dispersion_energy\" title=\"Many-body dispersion energy\">Many-body dispersion energy</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Many-body_dispersion_energy_with_fractionally_ionic_model_for_polarizability\" title=\"Many-body dispersion energy with fractionally ionic model for polarizability\">Many-body dispersion energy with fractionally ionic model for polarizability</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DDsC_dispersion_correction\" title=\"DDsC dispersion correction\">dDsC dispersion correction</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT-ulg\" title=\"DFT-ulg\">DFT-ulg</a>\n</p><p>See also the alternative vdW-DF functionals: <a href=\"https://www.vasp.at/wiki/index.php/LUSE_VDW\" title=\"LUSE VDW\" class=\"tag-link\">LUSE_VDW</a>, <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IVDW%22_incategory:%22Examples%22\" title='Special:Search/\"IVDW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-06-07T13:21:29Z"}, "IWAVPR": {"datatype": "integer", "default": [["2", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBRION\">IBRION</a>=<span><span class=\"tag-value\">0</span> (MD) and 1,2 (relaxation)</span>"], ["0", "else (static calculation)"]], "options": {"0": null, "1": null, "2": null, "3": null, "10": null, "11": null, "12": null, "13": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a> determines how orbitals and/or charge densities</span>", "id": 377, "info": "<div><p>Usually the file <a href=\"https://www.vasp.at/wiki/index.php/TMPCAR\" title=\"TMPCAR\" class=\"tag-link\">TMPCAR</a> is used to store old orbitals, which\nare required for the prediction.If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a> is larger than 10, the prediction is\ndone without an external file <a href=\"https://www.vasp.at/wiki/index.php/TMPCAR\" title=\"TMPCAR\" class=\"tag-link\">TMPCAR</a> (i.e. all required arrays\nare stored in the main memory, this option works from version VASP.4.1).\nIf <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a> is set to 10, the reader will set it to the\nfollowing default values:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>=<span><span class=\"tag-value\">12</span> if </span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">0</span> (MD)</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>=<span><span class=\"tag-value\">11</span> if </span><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">1</span>,2 (relaxation)</span></li></ul>\n<p><br>\nThe following options are available for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>=<span><span class=\"tag-value\">0</span> no extrapolation, usually less preferable if you want to do an ab initio MD or a relaxation of the ions into the instantaneous groundstate.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>=<span><span class=\"tag-value\">1|11</span> Simple extrapolation of the charge density using atomic charge densities is done (eq. (9.8) in thesis G. Kresse). This switch is convenient for all kind of geometry optimizations (ionic relaxation</span></li></ul>\n<p>and volume/cell shape with conjugate gradient or Quasi-Newton methods, i.e. <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">1</span>,2) \n</span></p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>=<span><span class=\"tag-value\">2|12</span> A second order extrapolation for the orbitals and the charge density is done (eq. (9.9) in thesis G. Kresse). A must for ab-initio  MD-runs.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>=<span><span class=\"tag-value\">3|13</span> In this case a second order extrapolation for the orbitals, and a  simple  extrapolation of the charge density using atomic charge densities is done.</span></li></ul>\n<p>This is obviously a mixture between <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>=<span><span class=\"tag-value\">1</span> and 2, however, it is usually worse than </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IWAVPR\">IWAVPR</a>=<span><span class=\"tag-value\">2</span>.\n</span></p><p>Mind: We don't  encourage this  setting.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IWAVPR%22_incategory:%22Examples%22\" title='Special:Search/\"IWAVPR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T08:05:36Z"}, "KGAMMA": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "Determines whether the k points (specified by the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KSPACING\">KSPACING</a> tag ) include (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KSPACING\">KGAMMA</a>=<span><span class=\"tag-value\">.TRUE.</span>) the </span><math>\\Gamma</math> point.", "id": 378, "info": "<div><div class=\"alert alert-primary\" role=\"alert\"><h5 class=\"alert-heading\">Important:</h5>  If a <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file is present, VASP ignores the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KGAMMA\">KGAMMA</a> tag and the <a href=\"https://www.vasp.at/wiki/index.php/KSPACING\" title=\"KSPACING\" class=\"tag-link\">KSPACING</a> tag.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/KSPACING\" title=\"KSPACING\" class=\"tag-link\">KSPACING</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22KGAMMA%22_incategory:%22Examples%22\" title='Special:Search/\"KGAMMA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:24:39Z"}, "KSPACING": {"datatype": "real", "default": "0.5", "options": {}, "summary": "The tag  <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KSPACING\">KSPACING</a> determines the number of k points if the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KSPACING\">KPOINTS</a> file", "id": 379, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KSPACING\">KSPACING</a> is the smallest allowed spacing between k points in units of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} ^{-1}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>&#197;</mo>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mn>1</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} ^{-1}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3f97c0a309ca07ee439cb0af5fae9b4542891ab5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:3.749ex; height:3.843ex;\" alt=\"\\AA ^{{-1}}\"></span>. The number of k points increases when the spacing is decreased.\nThe number of k points in the direction of the first, second and third reciprocal lattice vector is determined by <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{i}=\\mathrm {max} (1,\\mathrm {ceiling} (|\\mathbf {b} _{i}|2\\pi /\\mathrm {KSPACING} ))}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">m</mi>\n          <mi mathvariant=\"normal\">a</mi>\n          <mi mathvariant=\"normal\">x</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mn>1</mn>\n        <mo>,</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">c</mi>\n          <mi mathvariant=\"normal\">e</mi>\n          <mi mathvariant=\"normal\">i</mi>\n          <mi mathvariant=\"normal\">l</mi>\n          <mi mathvariant=\"normal\">i</mi>\n          <mi mathvariant=\"normal\">n</mi>\n          <mi mathvariant=\"normal\">g</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mn>2</mn>\n        <mi>&#960;<!-- &#960; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">K</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">A</mi>\n          <mi mathvariant=\"normal\">C</mi>\n          <mi mathvariant=\"normal\">I</mi>\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">G</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{i}=\\mathrm {max} (1,\\mathrm {ceiling} (|\\mathbf {b} _{i}|2\\pi /\\mathrm {KSPACING} ))}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f45272f4666e357a81086b2582809a915f48c8bd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:42.113ex; height:2.843ex;\" alt=\"{\\displaystyle N_{i}=\\mathrm {max} (1,\\mathrm {ceiling} (|\\mathbf {b} _{i}|2\\pi /\\mathrm {KSPACING} ))}\"></span>\nwith <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {ceiling} (x)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">c</mi>\n          <mi mathvariant=\"normal\">e</mi>\n          <mi mathvariant=\"normal\">i</mi>\n          <mi mathvariant=\"normal\">l</mi>\n          <mi mathvariant=\"normal\">i</mi>\n          <mi mathvariant=\"normal\">n</mi>\n          <mi mathvariant=\"normal\">g</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mi>x</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {ceiling} (x)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/10a13940cfa1d03f3f0a5de09bf7e56f77005a76\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:9.599ex; height:2.843ex;\" alt=\"{\\displaystyle \\mathrm {ceiling} (x)}\"></span> being the ceiling function which returns the least integer that is equal or larger than <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle x}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>x</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle x}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/87f9e315fd7e2ba406057a97300593c4802b53e4\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.33ex; height:1.676ex;\" alt=\"x\"></span>. In this equation, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {b} _{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {b} _{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/465522bf597a945d1099bcd61062206186528638\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.285ex; height:2.509ex;\" alt=\"{\\displaystyle \\mathbf {b} _{i}}\"></span> are the reciprocal lattice vectors <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {b} _{i}\\mathbf {a} _{j}=\\delta _{ij}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">a</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mi>&#948;<!-- &#948; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {b} _{i}\\mathbf {a} _{j}=\\delta _{ij}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/15e89fbf2bb90d0c2f9a06378605021180ba6160\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:10.102ex; height:3.009ex;\" alt=\"{\\displaystyle \\mathbf {b} _{i}\\mathbf {a} _{j}=\\delta _{ij}}\"></span>.\nThe generated grid is either centred at the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Gamma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#915;<!-- &#915; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Gamma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4cfde86a3f7ec967af9955d0988592f0693d2b19\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.453ex; height:2.176ex;\" alt=\"\\Gamma \"></span> point, i.e., includes the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Gamma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#915;<!-- &#915; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Gamma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4cfde86a3f7ec967af9955d0988592f0693d2b19\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.453ex; height:2.176ex;\" alt=\"\\Gamma \"></span> point when <a href=\"https://www.vasp.at/wiki/index.php/KGAMMA\" title=\"KGAMMA\" class=\"tag-link\">KGAMMA</a>=<span><span class=\"tag-value\">.TRUE.</span>, or is shifted away from the </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Gamma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#915;<!-- &#915; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Gamma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4cfde86a3f7ec967af9955d0988592f0693d2b19\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.453ex; height:2.176ex;\" alt=\"\\Gamma \"></span> point, as done for Monkhorst-Pack grids when <a href=\"https://www.vasp.at/wiki/index.php/KGAMMA\" title=\"KGAMMA\" class=\"tag-link\">KGAMMA</a>=<span><span class=\"tag-value\">.FALSE.</span> is set. The default is to include the </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Gamma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#915;<!-- &#915; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Gamma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4cfde86a3f7ec967af9955d0988592f0693d2b19\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.453ex; height:2.176ex;\" alt=\"\\Gamma \"></span> point. \n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> This implementation is not entirely consistent with the automatic k-point generation (Mode=A) used in the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file.\n</div><p>If the k points are generated using the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS#Automatic_k-point_mesh\" title=\"KPOINTS\">automatic mode</a> in the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/fef58cebf23adff9199f17325aefb5515fdca99d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.666ex; height:2.509ex;\" alt=\"{\\displaystyle N_{i}}\"></span>  is calculated as\n<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{i}=\\mathrm {int} (\\mathrm {max} (1,R_{k}|\\mathbf {b} _{i}|+0.5))}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">i</mi>\n          <mi mathvariant=\"normal\">n</mi>\n          <mi mathvariant=\"normal\">t</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">m</mi>\n          <mi mathvariant=\"normal\">a</mi>\n          <mi mathvariant=\"normal\">x</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mn>1</mn>\n        <mo>,</mo>\n        <msub>\n          <mi>R</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>k</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">b</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo>+</mo>\n        <mn>0.5</mn>\n        <mo stretchy=\"false\">)</mo>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{i}=\\mathrm {int} (\\mathrm {max} (1,R_{k}|\\mathbf {b} _{i}|+0.5))}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b68c8909ff7336b217a16eaef3b1dce5361eb927\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:30.993ex; height:2.843ex;\" alt=\"{\\displaystyle N_{i}=\\mathrm {int} (\\mathrm {max} (1,R_{k}|\\mathbf {b} _{i}|+0.5))}\"></span> with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle R_{k}=2\\pi /\\mathrm {KSPACING} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>R</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>k</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>2</mn>\n        <mi>&#960;<!-- &#960; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">K</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">A</mi>\n          <mi mathvariant=\"normal\">C</mi>\n          <mi mathvariant=\"normal\">I</mi>\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">G</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle R_{k}=2\\pi /\\mathrm {KSPACING} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/71b448084508e4c4c56094ad527b317ae9c8d20d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:22.12ex; height:2.843ex;\" alt=\"{\\displaystyle R_{k}=2\\pi /\\mathrm {KSPACING} }\"></span>\nand rounding it to the nearest integer.  We recommend using the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KSPACING\">KSPACING</a> tag in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file \nand avoiding the automatic mode via the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file.  \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/KGAMMA\" title=\"KGAMMA\" class=\"tag-link\">KGAMMA</a>, <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22KSPACING%22_incategory:%22Examples%22\" title='Special:Search/\"KSPACING\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-01T18:45:38Z"}, "KPOINT_BSE": {"datatype": "integer (optionally  integer, integer, integer)", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPOINT_BSE\">KPOINT_BSE</a>  specifies the k-point index at which VASP calculates the dielectric matrix.</span>", "id": 380, "info": "<div><p>In the simplest form, one can specify\n</p>\n<pre>  KPOINT_BSE = index_of_k-point\n</pre>\n<p>Select the desired k point from the list of k points in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. Additionally, a shift by an arbitrary reciprocal lattice vector can be supplied by specifying three additional integer numbers:\n</p>\n<pre> KPOINT_BSE = index_of_k-point  n1 n2 n3\n</pre>\n<p>This allows calculating the dielectric function at a k point outside of the first Brillouin zone corresponding to\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {k}}+n_{1}{\\mathbf {b}}_{1}+n_{2}{\\mathbf {b}}_{2}+n_{3}{\\mathbf {b}}_{3}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">k</mi>\n          </mrow>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">b</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">b</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">b</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {k}}+n_{1}{\\mathbf {b}}_{1}+n_{2}{\\mathbf {b}}_{2}+n_{3}{\\mathbf {b}}_{3}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a8860af381f06779fe36234d65eb884cbfc03d36\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:24.898ex; height:2.509ex;\" alt=\"{\\mathbf  {k}}+n_{{1}}{\\mathbf  {b}}_{{1}}+n_{{2}}{\\mathbf  {b}}_{{2}}+n_{{3}}{\\mathbf  {b}}_{{3}}\"></span></dd></dl>\n<p>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {b}}_{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">b</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {b}}_{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3625883c990ba48d150f50fdfac921cb98adab4e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.285ex; height:2.509ex;\" alt=\"{\\mathbf  {b}}_{{i}}\"></span> are the reciprocal-lattice vectors of the unit cell.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22KPOINT_BSE%22_incategory:%22Examples%22\" title='Special:Search/\"KPOINT BSE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T12:09:22Z"}, "LADDER": {"datatype": "boolean", "default": ".NOT. <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPA\">LRPA</a>", "options": {}, "summary": "Controls whether the ladder diagrams are included in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BSE\">BSE</a> calculation. Note that the default for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BSE\">LRPA</a> and therefore LADDER is somewhat convoluted; so better to always double-check the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BSE\">OUTCAR</a> file whether VASP behaves as expected. Generally, VASP will select ladder diagrams whenever this seems reasonable. This is for instance the case for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BSE\">ALGO</a>=<span><span class=\"tag-value\">\"BSE\"</span> or \"TDHF\" calculations.</span>", "id": 381, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LADDER\">LADDER</a> is used together with <a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a>. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LADDER\">LADDER</a>=<i>.FALSE.</i>, the ladder diagrams (i.e. the exchange terms related to <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle W}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>W</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle W}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/54a9c4c547f4d6111f81946cad242b18298d70b7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.435ex; height:2.176ex;\" alt=\"W\"></span> or the screened exchange) are not included.\nIf <a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a>=<i>.FALSE.</i>, the Hartree diagrams or bubble diagrams are not included. The following table summarizes all possible combinations:\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a></td>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LADDER\">LADDER</a></td>\n<td>\n</td></tr>\n<tr>\n<td>.TRUE.</td>\n<td>.TRUE.</td>\n<td>full BSE\n</td></tr>\n<tr>\n<td>.FALSE.</td>\n<td>.TRUE.</td>\n<td>only excitonic effects (ladders)\n</td></tr>\n<tr>\n<td>.TRUE.</td>\n<td>.FALSE.</td>\n<td>random phase approximation (rings = bubbles only)\n</td></tr>\n<tr>\n<td>.FALSE.</td>\n<td>.FALSE.</td>\n<td>independent particle picture\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>The last combination can be useful for sanity checks: the results must be identical to the results obtained using\n<a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<i>.TRUE.</i> in the preceding calculations. If this is not the case, it usually implies that the one-electron\nenergies have been updated in the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file, or that the  <a href=\"https://www.vasp.at/wiki/index.php/WAVEDER\" title=\"WAVEDER\" class=\"tag-link\">WAVEDER</a> file is not properly set up. The end of <a href=\"https://www.vasp.at/wiki/index.php/BSE\" class=\"mw-redirect tag-link\" title=\"BSE\">BSE</a> explains how to recalculate\nthe <a href=\"https://www.vasp.at/wiki/index.php/WAVEDER\" title=\"WAVEDER\" class=\"tag-link\">WAVEDER</a> file from an existing <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE_calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LADDER%22_incategory:%22Examples%22\" title='Special:Search/\"LADDER\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:25:49Z"}, "LHARTREE": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "Controls whether the bubble diagrams are included in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BSE\">BSE</a> calculation.", "id": 382, "info": "<div><p><a href=\"https://www.vasp.at/wiki/index.php/LADDER\" title=\"LADDER\" class=\"tag-link\">LADDER</a> is used together with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHARTREE\">LHARTREE</a>. If <a href=\"https://www.vasp.at/wiki/index.php/LADDER\" title=\"LADDER\" class=\"tag-link\">LADDER</a>=<i>.FALSE.</i>, the ladder diagrams, i.e., the exchange terms related to <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle W}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>W</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle W}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/54a9c4c547f4d6111f81946cad242b18298d70b7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.435ex; height:2.176ex;\" alt=\"W\"></span> or the screened exchange, are not included.\nIf <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHARTREE\">LHARTREE</a>=<i>.FALSE.</i>, the Hartree diagrams or bubble diagrams are not included. The following table summarizes all possible combinations:\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHARTREE\">LHARTREE</a></td>\n<td><a href=\"https://www.vasp.at/wiki/index.php/LADDER\" title=\"LADDER\" class=\"tag-link\">LADDER</a></td>\n<td>\n</td></tr>\n<tr>\n<td>.TRUE.</td>\n<td>.TRUE.</td>\n<td>full BSE\n</td></tr>\n<tr>\n<td>.FALSE.</td>\n<td>.TRUE.</td>\n<td>only excitonic effects (ladders)\n</td></tr>\n<tr>\n<td>.TRUE.</td>\n<td>.FALSE.</td>\n<td>random phase approximation (rings = bubbles only)\n</td></tr>\n<tr>\n<td>.FALSE.</td>\n<td>.FALSE.</td>\n<td>independent particle picture\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>The last combination can be useful for sanity checks: the results must be identical to the results obtained using\n<a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>=<i>.TRUE.</i> in the preceding calculations. If this is not the case, it usually implies that the one-electron\nenergies have been updated in the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file, or that the  <a href=\"https://www.vasp.at/wiki/index.php/WAVEDER\" title=\"WAVEDER\" class=\"tag-link\">WAVEDER</a> file is not properly set up. The end of <a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE</a> explains how to recalculate the <a href=\"https://www.vasp.at/wiki/index.php/WAVEDER\" title=\"WAVEDER\" class=\"tag-link\">WAVEDER</a> file from an existing <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LADDER\" title=\"LADDER\" class=\"tag-link\">LADDER</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LOPTICS\" title=\"LOPTICS\" class=\"tag-link\">LOPTICS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LHARTREE%22_incategory:%22Examples%22\" title='Special:Search/\"LHARTREE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T08:30:27Z"}, "LASYNC": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "Controls the overlap in communication.", "id": 383, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LASYNC\">LASYNC</a>=<i>.TRUE.</i> is set in the INCAR file, VASP will try to overlap communication with calculations.\nThis might improve performance or degrade it depending on the MPI library and hardware you are running on.\nPlease do your own testing and compare the runtimes and results before using this tag in production runs.\nCompiling VASP using the <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options#-DPROFILING\" title=\"Precompiler options\">-DPROFILING</a> precompiler switch provides a detailed timing of the different VASP routines which helps in determining if there is a performance gain.\nPlease report any issues in the <a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://www.vasp.at/forum/\">VASP forum</a>.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LASYNC%22_incategory:%22Examples%22\" title='Special:Search/\"LASYNC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T08:12:41Z"}, "LBERRY": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "This tag is used in the the evaluation of the Berry phase expression for the electronic polarization of an insulating system.", "id": 384, "info": "<div><p>As of VASP.5.2, calculating the macroscopic polarization and Born effective charges along the lines of the following example (using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LBERRY\">LBERRY</a>=<i>.TRUE.</i> etc) is unnecessary. The use of <a href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\" title=\"LCALCPOL\" class=\"tag-link\">LCALCPOL</a> or <a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a> is much more convenient.\n</p><p>Setting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LBERRY\">LBERRY</a>=<i>.TRUE.</i> in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file switches on the evaluation of the Berry phase expression for the electronic polarization of an insulating system, as modified for the application of USPP's and PAW datasets <sup id=\"cite_ref-berryformalism1_1-0\" class=\"reference\"><a href=\"#cite_note-berryformalism1-1\">[1]</a></sup><sup id=\"cite_ref-berryformalism2_2-0\" class=\"reference\"><a href=\"#cite_note-berryformalism2-2\">[2]</a></sup><sup id=\"cite_ref-berryformalism3_3-0\" class=\"reference\"><a href=\"#cite_note-berryformalism3-3\">[3]</a></sup><sup id=\"cite_ref-berryformalism4_4-0\" class=\"reference\"><a href=\"#cite_note-berryformalism4-4\">[4]</a></sup><sup id=\"cite_ref-berryformalism5_5-0\" class=\"reference\"><a href=\"#cite_note-berryformalism5-5\">[5]</a></sup><sup id=\"cite_ref-berryultrasoft_6-0\" class=\"reference\"><a href=\"#cite_note-berryultrasoft-6\">[6]</a></sup><sup id=\"cite_ref-berrymmars_7-0\" class=\"reference\"><a href=\"#cite_note-berrymmars-7\">[7]</a></sup>.\nIn addition, the following keywords must be specified in order to generate the mesh of k-points:\n</p>\n<pre>IGPAR = 1|2|3\n</pre>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a> tag specifies the socalled parallel or <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {G}}_{\\parallel }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8741;<!-- &#8741; --></mo>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {G}}_{\\parallel }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ed574ea2f6b4692fe8eacbd3bcf1a628e3ab1fb1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:3.155ex; height:3.009ex;\" alt=\"{\\mathbf  {G}}_{{\\parallel }}\"></span> direction in the integration over the reciprocal space unit cell.\n</p>\n<pre>NPPSTR = number of points on the strings in the IGPAR direction\n</pre>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NPPSTR\" title=\"NPPSTR\" class=\"tag-link\">NPPSTR</a> specifies the number of k-points on the strings <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {k}}_{j}={\\mathbf {k}}_{\\perp }+j{\\mathbf {G}}_{\\parallel }/\\mathrm {NPPSTR} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8869;<!-- &#8869; --></mo>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <mi>j</mi>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8741;<!-- &#8741; --></mo>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">R</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {k}}_{j}={\\mathbf {k}}_{\\perp }+j{\\mathbf {G}}_{\\parallel }/\\mathrm {NPPSTR} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0cecda91a98843826d1c76d8c9920322432eae30\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:26.047ex; height:3.176ex;\" alt=\"{\\mathbf  {k}}_{{j}}={\\mathbf  {k}}_{{\\perp }}+j{\\mathbf  {G}}_{{\\parallel }}/{\\mathrm  {NPPSTR}}\"></span> (with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle j=0,..,\\mathrm {NPPSTR} -1}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>j</mi>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mo>.</mo>\n        <mo>.</mo>\n        <mo>,</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">R</mi>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle j=0,..,\\mathrm {NPPSTR} -1}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e9e024c2d6d4ad7ad140b2e5bd807335e6153eca\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; margin-left: -0.027ex; width:22.974ex; height:2.509ex;\" alt=\"j=0,..,{\\mathrm  {NPPSTR}}-1\"></span>).\n</p>\n<pre>DIPOL = center of cell (fractional coordinates)\n</pre>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a> specifies the origin with respect to which the ionic contribution to the dipole moment in the cell is calculated. When comparing changes in this contribution due to the displacement of an ion, this center should be chosen in such a way that the ions in the distorted and the undistorted structure remain on the same side of <a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a> (in terms of a minimum image convention).\n</p><p><br>\n</p>\n<h2><span id=\"An_example:_The_fluorine_displacement_dipole_(Born_effective_charge)_in_NaF\"></span><span class=\"mw-headline\" id=\"An_example:_The_fluorine_displacement_dipole_.28Born_effective_charge.29_in_NaF\">An example: The fluorine displacement dipole (Born effective charge) in NaF</span></h2>\n<p>First one needs to determine the electronic polarization of the undistorted NaF.\n</p><p>Caluclation1:\nIt is usually convenient to calculate the self-consistent Kohn-Sham potential of the undistorted structure, using a symmetry reduced <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 6\\times 6\\times 6}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mn>6</mn>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mn>6</mn>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mn>6</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 6\\times 6\\times 6}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/dcc842cf497ba697163f60dac8e5d7f3d869e1a6\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:9.168ex; height:2.176ex;\" alt=\"6\\times 6\\times 6\"></span> Monkhorst-Pack sampling of the Brillouin zone. Using for instance the following <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file:\n</p>\n<pre>PREC   = Med\nISMEAR = 0\nEDIFF  = 1E-6\n</pre>\n<p><a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file:\n</p>\n<pre>6x6x6\n 0\nGamma\n 6 6 6\n 0 0 0 \n</pre>\n<p><a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file:\n</p>\n<pre>NaF\n 4.5102\n 0.0 0.5 0.5\n 0.5 0.0 0.5\n 0.5 0.5 0.0\n1 1\nDirect\n  0.0000000000000000  0.0000000000000000  0.0000000000000000\n  0.5000000000000000  0.5000000000000000  0.5000000000000000\n</pre>\n<p>and LDA Na_sv and F PAW datasets.\n</p><p><br>\nCalculation 2:\nTo calculate the electronic contribution to the polarization, along the reciprocal lattice vector <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {G}}_{1}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {G}}_{1}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7f46372be5fb61c9e5d06fdd569bec84d8051cb3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.155ex; height:2.509ex;\" alt=\"{\\mathbf  {G}}_{{1}}\"></span> (i.e. <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {P}}\\cdot {\\mathbf {G}}_{1}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">P</mi>\n          </mrow>\n        </mrow>\n        <mo>&#8901;<!-- &#8901; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {P}}\\cdot {\\mathbf {G}}_{1}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/afc896c92a4bc39945e0bfdc8e85e153e167f228\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:6.661ex; height:2.509ex;\" alt=\"{\\mathbf  {P}}\\cdot {\\mathbf  {G}}_{{1}}\"></span>), add the following lines to the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file:\n</p>\n<pre>LBERRY = .TRUE.\nIGPAR  = 1\nNPPSTR = 8\nDIPOL = 0.25 0.25 0.25\n</pre>\n<p>Setting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LBERRY\">LBERRY</a>=<i>.TRUE.</i> automatically sets <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">11</span>, i.e., the charge density of the previous calculation is read and kept fixed, and only the orbitals and one-electron eigenenergies are recalculated for the new k-point set. This is advantageous, since the number of k-points used to evaluate the Berry phase expression can be quite large, and precalculating the charge density (</span><a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">11)</span> saves significant CPU time.\n</span></p><p>The <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> will now contain the following lines:\n</p>\n<pre>                                e&lt;r&gt;_ev=(     0.00000     0.00000     0.00000 ) e*Angst\n                                e&lt;r&gt;_bp=(     0.00000     0.00000     0.00000 ) e*Angst\n</pre>\n<pre> Total electronic dipole moment: p[elc]=(     0.00000     0.00000     0.00000 ) e*Angst \n</pre>\n<pre>            ionic dipole moment: p[ion]=(     2.25510     2.25510     2.25510 ) e*Angst\n</pre>\n<p><br>\nCalculations 3 and 4:\nThe procedure mentioned under Calculation 2 now has to be repeated with <a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>=<span><span class=\"tag-value\">2</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>=<span><span class=\"tag-value\">3</span> (again using the charge density obtained from Calculation 1), to obtain the contributions to the electronic polarization along </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {G}}_{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {G}}_{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5dee30ce526c33aba351acaf7ba74b417314c8f7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.155ex; height:2.509ex;\" alt=\"{\\mathbf  {G}}_{2}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {G}}_{3}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {G}}_{3}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/36508ce0bbd41caeca2ebe7f1ede25da1400e9ee\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.155ex; height:2.509ex;\" alt=\"{\\mathbf  {G}}_{{3}}\"></span>, respectively.\n</p><p><br>\nCalculations 5 to 8:\nTo calculate the change in the electronic polarization of NaF due to the displacement of the fluorine sublattice, one should repeat Calculations 1 to 4, using the following <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file: \n</p>\n<pre>NaF\n 4.5102\n 0.0 0.5 0.5\n 0.5 0.0 0.5\n 0.5 0.5 0.0\n1 1\nDirect\n  0.0000000000000000  0.0000000000000000  0.0000000000000000\n  0.5100000000000000  0.5100000000000000  0.4900000000000000\n</pre>\n<p>This corresponds to a displacement of the F ion by <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 0.01\\times 4.51\\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mn>0.01</mn>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mn>4.51</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 0.01\\times 4.51\\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2449da00a937b9e1646001f318c2f57aa7a9e6aa\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:12.525ex; height:3.343ex;\" alt=\"0.01\\times 4.51\\AA \"></span> along the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\hat {z}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>z</mi>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\hat {z}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/722665b45e05afe79f4395a3de0237d8ce856273\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.296ex; height:2.176ex;\" alt=\"{\\hat  {z}}\"></span> direction. The output of the Berry phase calculation using <a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>=<span><span class=\"tag-value\">1</span> should now look similar to:\n</span></p>\n<pre>                                e&lt;r&gt;_ev=(     0.00000     0.00000     0.00004 ) e*Angst\n                                e&lt;r&gt;_bp=(     0.00000     0.18028     0.18028 ) e*Angst \n\n Total electronic dipole moment: p[elc]=(     0.00000     0.18028     0.18031 ) e*Angst\n</pre>\n<pre>            ionic dipole moment: p[ion]=(     2.25510     2.25510     1.93939 ) e*Angst\n</pre>\n<p><br>\nCollecting the results:\nThe change in the electronic contribution to the polarization due to the F-sublattice displacement should be calculated as follows:\n</p>\n<ul><li>Take the average of the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {ev} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">v</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {ev} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a245bf014dc32d8e5a0c472d8f2947cf91415a6a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:9.377ex; height:2.176ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{\\mathrm  {ev}}}\"></span> terms obtained in calculations 2 to 4. Lets call this <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {ev,undist} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">v</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {ev,undist} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e41dd8a3b77bf4cff6ce5bc2af391c69ea99b19d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:14.321ex; height:2.509ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {ev,undist}}}}\"></span></li></ul>\n<ul><li>Add the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {bp} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">b</mi>\n              <mi mathvariant=\"normal\">p</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {bp} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a81da747986cf5efdfd08419b70ddbcbe4724326\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:9.607ex; height:2.509ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {bp}}}}\"></span> terms obtained in calculations 2 to 4. Lets call this <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {bp,undist} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">b</mi>\n              <mi mathvariant=\"normal\">p</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {bp,undist} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7a6133e74e7c02278812e48a1bbc305bc394d7ba\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:14.551ex; height:2.509ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {bp,undist}}}}\"></span></li></ul>\n<ul><li>The electronic polarization of the undistorted structure is then given by:</li></ul>\n<p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {el,undist} }=e&lt;\\mathrm {r} &gt;_{\\mathrm {ev,undist} }+e&lt;\\mathrm {r} &gt;_{\\mathrm {bp,undist} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">l</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">v</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">b</mi>\n              <mi mathvariant=\"normal\">p</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {el,undist} }=e&lt;\\mathrm {r} &gt;_{\\mathrm {ev,undist} }+e&lt;\\mathrm {r} &gt;_{\\mathrm {bp,undist} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/51dec0f67f8e5b3efdb6195179fefdae6fa09f01\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:47.69ex; height:2.676ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {el,undist}}}}=e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {ev,undist}}}}+e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {bp,undist}}}}\"></span>\n</p>\n<ul><li>Repeat the above three steps for the results obtained using the distorted structure (Calculations 6 to 8), to evaluate <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {ev,dist} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">v</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {ev,dist} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5488607b7bb8a5eaa976f6a71d71d26b6ce05509\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:12.493ex; height:2.509ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {ev,dist}}}}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {bp,dist} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">b</mi>\n              <mi mathvariant=\"normal\">p</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {bp,dist} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/95272da11c3f98fd5d4948557426fbe4e47760f0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:12.723ex; height:2.509ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {bp,dist}}}}\"></span>, and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {el,dist} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">l</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {el,dist} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/dd794dd8e2d6bee5aa2782a418aade71731b2bcd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:12.083ex; height:2.509ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {el,dist}}}}\"></span></li></ul>\n<ul><li>The change in the electronic contribution to the polarization due to the F-sublattice displacement, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e\\Delta &lt;\\mathrm {r} &gt;_{\\mathrm {el} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e\\Delta &lt;\\mathrm {r} &gt;_{\\mathrm {el} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/dd2a3bfbbde172a69410caafab6a518fcde3eac3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:10.902ex; height:2.509ex;\" alt=\"e\\Delta &lt;{\\mathrm  {r}}&gt;_{{\\mathrm  {el}}}\"></span> is then given by <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {el,dist} }-e&lt;\\mathrm {r} &gt;_{\\mathrm {el,undist} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">l</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>e</mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">l</mi>\n              <mo>,</mo>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e&lt;\\mathrm {r} &gt;_{\\mathrm {el,dist} }-e&lt;\\mathrm {r} &gt;_{\\mathrm {el,undist} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/dfe01bfcdd0a714414d9439ad80b4ce168fb165a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:28.447ex; height:2.676ex;\" alt=\"e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {el,dist}}}}-e&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {el,undist}}}}\"></span></li></ul>\n<p><br>\nTo calculate the total change in polarization, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e\\Delta &lt;\\mathrm {r} &gt;}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <mo>&gt;</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e\\Delta &lt;\\mathrm {r} &gt;}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bcb862a0de9d3a9775939188e412160ce9f968bb\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:9.483ex; height:2.176ex;\" alt=\"e\\Delta &lt;{\\mathrm  {r}}&gt;\"></span>, one should account for the ionic contribution to this change. This contribution can be calculated from p[ion] as given above from\nCalculations 2 and 5:\n<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta \\mathrm {p[ion]} =\\mathrm {p[ion]} _{\\mathrm {dist} }-\\mathrm {p[ion]} _{\\mathrm {undist} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">p</mi>\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">i</mi>\n          <mi mathvariant=\"normal\">o</mi>\n          <mi mathvariant=\"normal\">n</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">p</mi>\n            <mo stretchy=\"false\">[</mo>\n            <mi mathvariant=\"normal\">i</mi>\n            <mi mathvariant=\"normal\">o</mi>\n            <mi mathvariant=\"normal\">n</mi>\n            <mo stretchy=\"false\">]</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">p</mi>\n            <mo stretchy=\"false\">[</mo>\n            <mi mathvariant=\"normal\">i</mi>\n            <mi mathvariant=\"normal\">o</mi>\n            <mi mathvariant=\"normal\">n</mi>\n            <mo stretchy=\"false\">]</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">n</mi>\n              <mi mathvariant=\"normal\">d</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">s</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta \\mathrm {p[ion]} =\\mathrm {p[ion]} _{\\mathrm {dist} }-\\mathrm {p[ion]} _{\\mathrm {undist} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5883184e882e751b5a90ff0b52841958d2a4e807\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:32.549ex; height:3.009ex;\" alt=\"\\Delta {\\mathrm  {p[ion]}}={\\mathrm  {p[ion]}}_{{{\\mathrm  {dist}}}}-{\\mathrm  {p[ion]}}_{{{\\mathrm  {undist}}}}\"></span>.\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e\\Delta &lt;\\mathrm {r} &gt;}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <mo>&gt;</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e\\Delta &lt;\\mathrm {r} &gt;}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bcb862a0de9d3a9775939188e412160ce9f968bb\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:9.483ex; height:2.176ex;\" alt=\"e\\Delta &lt;{\\mathrm  {r}}&gt;\"></span> is then given by <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta \\mathrm {p[ion]} +e\\Delta &lt;\\mathrm {r} &gt;_{\\mathrm {el} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">p</mi>\n          <mo stretchy=\"false\">[</mo>\n          <mi mathvariant=\"normal\">i</mi>\n          <mi mathvariant=\"normal\">o</mi>\n          <mi mathvariant=\"normal\">n</mi>\n          <mo stretchy=\"false\">]</mo>\n        </mrow>\n        <mo>+</mo>\n        <mi>e</mi>\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta \\mathrm {p[ion]} +e\\Delta &lt;\\mathrm {r} &gt;_{\\mathrm {el} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c746cb0b544c2ed23b32a59c4f449e10535fdd45\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:21.367ex; height:2.843ex;\" alt=\"\\Delta {\\mathrm  {p[ion]}}+e\\Delta &lt;{\\mathrm  {r}}&gt;_{{\\mathrm  {el}}}\"></span>. In this example we find <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle e\\Delta &lt;\\mathrm {r} &gt;=0.04489}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>e</mi>\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <mo>&gt;=</mo>\n        <mn>0.04489</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle e\\Delta &lt;\\mathrm {r} &gt;=0.04489}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/05dd3b10595411c30fe105674162f637eb289af0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:19.558ex; height:2.176ex;\" alt=\"e\\Delta &lt;{\\mathrm  {r}}&gt;=0.04489\"></span> electrons <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span>. Considering that the moved F-sublattice was displaced by 0.045102 <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span>, this calculation yields a Born effective charge for fluorine in NaF of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Z^{*}=-0.995}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi>Z</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msup>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>0.995</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Z^{*}=-0.995}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4d1ffe302ab0f7f4138d225bc7642e187875d29b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:12.966ex; height:2.509ex;\" alt=\"Z^{{*}}=-0.995\"></span>.\n</p><p>N.B.(I) In the case of spinpolarized calculations (<a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">2)</span>,the Berry phase of the orbitals is evaluated separately for each spin direction. This means a </span><i>grep</i> on \"<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle &lt;\\mathrm {r} &gt;}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <mo>&gt;</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle &lt;\\mathrm {r} &gt;}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b505b77fe8814441e13ca70b6ad836c8c6133e5f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.818ex; height:1.843ex;\" alt=\"&lt;{\\mathrm  {r}}&gt;\"></span>\" will yield two sets of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle &lt;\\mathrm {r} &gt;_{\\mathrm {ev} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">e</mi>\n              <mi mathvariant=\"normal\">v</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle &lt;\\mathrm {r} &gt;_{\\mathrm {ev} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bb8e1c843cec57881d77728bf12dca832955ba85\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:7.648ex; height:2.176ex;\" alt=\"&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {ev}}}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle &lt;\\mathrm {r} &gt;_{\\mathrm {bp} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">b</mi>\n              <mi mathvariant=\"normal\">p</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle &lt;\\mathrm {r} &gt;_{\\mathrm {bp} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e0deef79b071a5ba1871c6e757cd25e2b488038e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:7.878ex; height:2.509ex;\" alt=\"&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {bp}}}}\"></span> terms, which have to be added to oneanother to obtain the total electronic polarization of the system.\n</p><p>N.B.(II) One should take care of the fact that the calculated \"Berry phase\" term <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle &lt;\\mathrm {r} &gt;_{\\mathrm {bp} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">r</mi>\n        </mrow>\n        <msub>\n          <mo>&gt;</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">b</mi>\n              <mi mathvariant=\"normal\">p</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle &lt;\\mathrm {r} &gt;_{\\mathrm {bp} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e0deef79b071a5ba1871c6e757cd25e2b488038e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:7.878ex; height:2.509ex;\" alt=\"&lt;{\\mathrm  {r}}&gt;_{{{\\mathrm  {bp}}}}\"></span> along <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G} _{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G} _{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/735fc3f88f940fa096e6495506bd91a5ccccb2ab\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.9ex; height:2.509ex;\" alt=\"{\\mathbf  {G}}_{{i}}\"></span> is, in principle, obtained modulo a certain period, determined by the lattice vector <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {R} _{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">R</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {R} _{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4f89b7e6f1eb0602ce2df26f016b4a4a9d55f86f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.803ex; height:2.509ex;\" alt=\"{\\mathbf  {R}}_{{i}}\"></span> (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {R} _{i}\\cdot \\mathbf {G} _{i}=2\\pi }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">R</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8901;<!-- &#8901; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>2</mn>\n        <mi>&#960;<!-- &#960; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {R} _{i}\\cdot \\mathbf {G} _{i}=2\\pi }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ff6492b1953bb16ff6185f885fe720efb9e017a2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:12.975ex; height:2.509ex;\" alt=\"{\\mathbf  {R}}_{{i}}\\cdot {\\mathbf  {G}}_{{i}}=2\\pi \"></span>), the spin multiplicity of the orbitals, the volume of the unit cell, the number of k-point in the \"perpendicular\" grid, and some aspects of the symmetry of the system. More information on this particular aspect of the Berry phase calculations can be found in references <sup id=\"cite_ref-berryformalism1_1-1\" class=\"reference\"><a href=\"#cite_note-berryformalism1-1\">[1]</a></sup><sup id=\"cite_ref-berryformalism2_2-1\" class=\"reference\"><a href=\"#cite_note-berryformalism2-2\">[2]</a></sup><sup id=\"cite_ref-berryformalism3_3-1\" class=\"reference\"><a href=\"#cite_note-berryformalism3-3\">[3]</a></sup><sup id=\"cite_ref-berryformalism4_4-1\" class=\"reference\"><a href=\"#cite_note-berryformalism4-4\">[4]</a></sup><sup id=\"cite_ref-berryformalism5_5-1\" class=\"reference\"><a href=\"#cite_note-berryformalism5-5\">[5]</a></sup><sup id=\"cite_ref-berrymmars_7-1\" class=\"reference\"><a href=\"#cite_note-berrymmars-7\">[7]</a></sup>.\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/DIPOL\" title=\"DIPOL\" class=\"tag-link\">DIPOL</a>, <a href=\"https://www.vasp.at/wiki/index.php/NPPSTR\" title=\"NPPSTR\" class=\"tag-link\">NPPSTR</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCALCPOL\" title=\"LCALCPOL\" class=\"tag-link\">LCALCPOL</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCALCEPS\" title=\"LCALCEPS\" class=\"tag-link\">LCALCEPS</a>, <a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LBERRY%22_incategory:%22Examples%22\" title='Special:Search/\"LBERRY\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-berryformalism1-1\">&#8593; <sup><a href=\"#cite_ref-berryformalism1_1-0\">a</a></sup> <sup><a href=\"#cite_ref-berryformalism1_1-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://journals.aps.org/prb/abstract/10.1103/PhysRevB.47.1651\">R. D. King-Smith and D. Vanderbilt, Phys. Rev. B 47, 1651 (1993).</a></span>\n</li>\n<li id=\"cite_note-berryformalism2-2\">&#8593; <sup><a href=\"#cite_ref-berryformalism2_2-0\">a</a></sup> <sup><a href=\"#cite_ref-berryformalism2_2-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://journals.aps.org/prb/abstract/10.1103/PhysRevB.48.4442\">D. Vanderbilt and R. D. King-Smith, Phys. Rev. B 48, 4442 (1993).</a></span>\n</li>\n<li id=\"cite_note-berryformalism3-3\">&#8593; <sup><a href=\"#cite_ref-berryformalism3_3-0\">a</a></sup> <sup><a href=\"#cite_ref-berryformalism3_3-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://www.tandfonline.com/doi/abs/10.1080/00150199208016065\">R. Resta, Ferroelectrtics 136, 51 (1992).</a></span>\n</li>\n<li id=\"cite_note-berryformalism4-4\">&#8593; <sup><a href=\"#cite_ref-berryformalism4_4-0\">a</a></sup> <sup><a href=\"#cite_ref-berryformalism4_4-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://journals.aps.org/rmp/abstract/10.1103/RevModPhys.66.899\">R. Resta, Rev. Mod. Phys. 66, 899 (1994).</a></span>\n</li>\n<li id=\"cite_note-berryformalism5-5\">&#8593; <sup><a href=\"#cite_ref-berryformalism5_5-0\">a</a></sup> <sup><a href=\"#cite_ref-berryformalism5_5-1\">b</a></sup> <span class=\"reference-text\">[R. Resta, in Berry Phase in Electronic Wavefunctions, Troisi&#232;me Cycle de la Physique en Suisse Romande, Ann&#233;e Academique 1995-96, (1996).]</span>\n</li>\n<li id=\"cite_note-berryultrasoft-6\"><a href=\"#cite_ref-berryultrasoft_6-0\">&#8593;</a> <span class=\"reference-text\">[D. Vanderbilt and R. D. King-Smith, in Electronic polarization in the ultrasoft pseudopotential formalism, Unpublished report, (1998).]</span>\n</li>\n<li id=\"cite_note-berrymmars-7\">&#8593; <sup><a href=\"#cite_ref-berrymmars_7-0\">a</a></sup> <sup><a href=\"#cite_ref-berrymmars_7-1\">b</a></sup> <span class=\"reference-text\">[Available online at <a rel=\"nofollow\" class=\"external free\" href=\"http://cms.mpi.univie.ac.at/vasp/Welcome.html\">http://cms.mpi.univie.ac.at/vasp/Welcome.html</a>.]</span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-19T07:51:37Z"}, "LCORR": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "Controls whether Harris corrections are calculated or not.", "id": 385, "info": "<div><p>Based on the ideas of the <a href=\"https://www.vasp.at/wiki/index.php/Harris-Foulkes_functional\" title=\"Harris-Foulkes functional\">Harris-Foulkes functional</a> it is possible to derive a correction to the forces for non fully self-consistent calculations, we call these corrections Harris corrections. For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCORR\">LCORR</a>=<i>.TRUE.</i> these corrections are calculated and included in the stress-tensor and the forces. The contributions are explicitly written to the file <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> and help to show how well forces and stress are converged. For surfaces, the correction term might be relatively large and testing has shown that the corrected forces converge much faster to the exact forces than uncorrected forces.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LCORR%22_incategory:%22Examples%22\" title='Special:Search/\"LCORR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T08:25:28Z"}, "LDIAG": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "This tag determines whether a subspace diagonalization is performed or not within the main algorithm selected by <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">ALGO</a> or <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALGO\">IALGO</a>.", "id": 386, "info": "<div><p>For <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> = <tt>Normal</tt>, <tt>Fast</tt>, and <tt>VeryFast</tt>, VASP performs a diagonalization in the subspace spanned by all orbitals. This is often referred to as the <a rel=\"nofollow\" class=\"external text\" href=\"https://en.wikipedia.org/wiki/Rayleigh%E2%80%93Ritz_method\">Rayleigh&#8211;Ritz method</a>. \nThis step increases the convergence rate and thus is expedient in most cases.\nFurthermore, the subspace diagonalization sorts the orbital/eigenvalues in ascending order.\n</p><p>For the direct optimization algorithms (for instance <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> = <tt>All</tt> or <tt>Damped</tt>),\na subspace diagonalization is usually not performed, but in order to improve the accuracy of the calculated forces,\nafter convergence has been reached one single diagonalization in the subspace spanned by all orbitals is performed.\n</p><p>For <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> = <tt>VeryFast</tt> and <tt>Damped</tt> it is possible to switch off the subspace diagonalization by specifying <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDIAG\">LDIAG</a> = <tt>.FALSE.</tt> in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.\nSpecifically, for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> = <tt>VeryFast</tt>, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDIAG\">LDIAG</a> = <tt>.FALSE.</tt> changes from an exact Rayleigh&#8211;Ritz diagonalization to Loewdin perturbation theory.\n</p><p>Note, Loewdin perturbation theory strictly conserves the orbital order, <i>i.e.</i>, the <i>n</i>-th orbital will remain stored in the <i>n</i>-th storage slot and only small rotations into that orbital can occur.\nFor <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> = <tt>Damped</tt> and <tt>All</tt>, the final subspace diagonalization is simply skipped if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDIAG\">LDIAG</a> = <tt>.FALSE.</tt> is set.\nGenerally using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDIAG\">LDIAG</a> = <tt>.FALSE.</tt> is only advised, if one wants to maintain a certain orbital order, for instance, when reading the orbitals from an existing <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file.\n</p><p>For the algorithms <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> = <tt>Normal</tt> or <tt>Fast</tt>, by construction it is not possible to switch off subspace diagonalization, as these algorithms require subspace diagonalizations during the iterative refinement of the orbitals.\nFurthermore, algorithms that minimize the total energy (<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> = <tt>All</tt>) are often too \"greedy\" and tend to alternate the orbital order in the course of the SCF cycle and energy optimization.  \n</p><p>In summary, the following combinations are potentially useful: \n</p>\n<pre>ALGO = VeryFast&#160;; LDIAG = .FALSE.\n</pre>\n<pre>ALGO = Damped&#160;; LDIAG = .FALSE.\n</pre>\n<p>Other combinations using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDIAG\">LDIAG</a> = <tt>.FALSE.</tt> are likely to yield undesirable results.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5>  <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> = <tt>VeryFast</tt> is not supported for hybrid functionals.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LDIAG%22_incategory:%22Examples%22\" title='Special:Search/\"LDIAG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:30:07Z"}, "LSELFENERGY": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "Controls whether the frequency-dependent self-energy is calculated or not.", "id": 387, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSELFENERGY\">LSELFENERGY</a>=<i>.FALSE.</i>,  QP shifts are evaluated. This is the default behavior.\n</p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSELFENERGY\">LSELFENERGY</a>=<i>.TRUE.</i>, the frequency dependent self-energy <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\langle \\psi _{n{\\mathbf {k} }}|\\Sigma (\\omega )|\\psi _{n{\\mathbf {k} }}\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mi mathvariant=\"normal\">&#931;<!-- &#931; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mi>&#968;<!-- &#968; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\langle \\psi _{n{\\mathbf {k} }}|\\Sigma (\\omega )|\\psi _{n{\\mathbf {k} }}\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/02b7519aa32a86aa95b5b6f9572e4a0f968a5893\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:15.495ex; height:2.843ex;\" alt=\"\\langle \\psi _{{n{{\\mathbf  {k}}}}}|\\Sigma (\\omega )|\\psi _{{n{{\\mathbf  {k}}}}}\\rangle \"></span> is evaluated. Evaluation of QP shifts is bypassed in this case.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSELFENERGY%22_incategory:%22Examples%22\" title='Special:Search/\"LSELFENERGY\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:05:58Z"}, "LVHAR": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": null, "id": 388, "info": "<div><p>See <a href=\"https://www.vasp.at/wiki/index.php/LOCPOT\" title=\"LOCPOT\" class=\"tag-link\">LOCPOT</a> to find out how to not include the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V_{\\text{XC}}(\\mathbf {r} )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>XC</mtext>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V_{\\text{XC}}(\\mathbf {r} )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ab1ca787d1605faf51a74dca98c20e93fdabc4b7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.918ex; height:2.843ex;\" alt=\"{\\displaystyle V_{\\text{XC}}(\\mathbf {r} )}\"></span> in older versions of VASP.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LVHAR%22_incategory:%22Examples%22\" title='Special:Search/\"LVHAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:44:19Z"}, "NBANDSGW": {"datatype": "integer", "default": "twice the number of occupied states", "options": {}, "summary": "The flag determines how many QP energies are calculated and updated in GW type calculations.", "id": 389, "info": "<div><p>This value usually needs to be increased somewhat for partially or fully self-consistent calculations. Very accurate results\nare only obtained when <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSGW\">NBANDSGW</a> approaches <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>, although this  dramatically increases the computational requirements.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NBANDSGW%22_incategory:%22Examples%22\" title='Special:Search/\"NBANDSGW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:21:14Z"}, "NBANDSO": {"datatype": "integer", "default": "number of occupied orbitals", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSO\">NBANDSO</a> determines how many occupied orbitals are included in the Casida/<a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\">BSE calculations</a> or time propagation (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSO\">ALGO</a>=<span><span class=\"tag-value\">TIMEEV</span>.</span></span>", "id": 390, "info": "<div><p>For the time-propagation algorithm increasing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSO\">NBANDSO</a> only modestly increases the compute time.\nFor BSE and Casida-type calculations, the compute time  grows with the third power of the number of included occupied and unoccupied bands\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle (N_{\\mathrm {occ} }N_{\\mathrm {virtual} }N_{\\mathrm {k} })^{3}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msup>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle (N_{\\mathrm {occ} }N_{\\mathrm {virtual} }N_{\\mathrm {k} })^{3}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/10299986cb80443a19a76debfd6f91f55437027a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:17.112ex; height:3.176ex;\" alt=\"(N_{{{\\mathrm  {occ}}}}N_{{{\\mathrm  {virtual}}}}N_{{{\\mathrm  {k}}}})^{{3}}\"></span>\n</p><p>and the memory requirements increase quadratically\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle (N_{\\mathrm {occ} }N_{\\mathrm {virtual} }N_{\\mathrm {k} })^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msup>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle (N_{\\mathrm {occ} }N_{\\mathrm {virtual} }N_{\\mathrm {k} })^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5fd30c16f2619cbfac598847c7deb101860ae95c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:17.112ex; height:3.176ex;\" alt=\"(N_{{{\\mathrm  {occ}}}}N_{{{\\mathrm  {virtual}}}}N_{{{\\mathrm  {k}}}})^{{2}}\"></span>\n</p><p>Please be aware that symmetry is not exploited in the BSE code, hence memory requirements can be excessive. To allow for calculations on large systems, the BSE code distributes the BSE matrix among all available cores and uses ScaLAPACK for the diagonalization.\n</p><p>VASP always uses the orbitals closest to the Fermi-level, and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSO\">NBANDSO</a> (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\mathrm {occ} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\mathrm {occ} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0d58d1e98373abe45bd315536ccaf99b4dfb14e8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.38ex; height:2.509ex;\" alt=\"N_{{{\\mathrm  {occ}}}}\"></span>) and <a href=\"https://www.vasp.at/wiki/index.php/NBANDSV\" title=\"NBANDSV\" class=\"tag-link\">NBANDSV</a> (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\mathrm {virtual} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\mathrm {virtual} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/040fdf2a174b4e19895f59ea2ec5f0430fe8f3c5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:6.901ex; height:2.509ex;\" alt=\"N_{{{\\mathrm  {virtual}}}}\"></span>) determines how many occupied and unoccupied orbitals are included. The defaults are fairly \"conservative\" and equal the total number of electrons/2 (this usually implies that all occupied states are included). For highly accurate results, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSV\" title=\"NBANDSV\" class=\"tag-link\">NBANDSV</a> often needs to be increased, whereas for large systems one is often forced to reduce both values to much smaller numbers. Sometimes qualitative results for bandlike  Wannier-Mott excitons can be obtained even with a single conduction and valence band.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NBANDSV\" title=\"NBANDSV\" class=\"tag-link\">NBANDSV</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Timepropagation\" class=\"mw-redirect\" title=\"Timepropagation\">Timepropagation</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NBANDSO%22_incategory:%22Examples%22\" title='Special:Search/\"NBANDSO\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-24T09:17:58Z"}, "NBANDSV": {"datatype": "integer", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSV\">NBANDSV</a> determines how many unoccupied orbitals are included in the Casida/<a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\">BSE calculations</a> or <a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\">timepropagation</a>.</span>", "id": 391, "info": "<div><p>For the time-propagation algorithm increasing <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSV\">NBANDSV</a> only modestly increases the compute time.\nFor BSE and Casida type calculations, the compute time  grows with the third power of the number of included occupied and unoccupied bands\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle (N_{\\mathrm {occ} }N_{\\mathrm {virtual} }N_{\\mathrm {k} })^{3}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msup>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle (N_{\\mathrm {occ} }N_{\\mathrm {virtual} }N_{\\mathrm {k} })^{3}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/10299986cb80443a19a76debfd6f91f55437027a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:17.112ex; height:3.176ex;\" alt=\"(N_{{{\\mathrm  {occ}}}}N_{{{\\mathrm  {virtual}}}}N_{{{\\mathrm  {k}}}})^{{3}}\"></span>\n</p><p>and the memory requirements increase quadratically\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle (N_{\\mathrm {occ} }N_{\\mathrm {virtual} }N_{\\mathrm {k} })^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <msup>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle (N_{\\mathrm {occ} }N_{\\mathrm {virtual} }N_{\\mathrm {k} })^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5fd30c16f2619cbfac598847c7deb101860ae95c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:17.112ex; height:3.176ex;\" alt=\"(N_{{{\\mathrm  {occ}}}}N_{{{\\mathrm  {virtual}}}}N_{{{\\mathrm  {k}}}})^{{2}}\"></span>\n</p><p>Please be aware that symmetry is not exploited in the BSE code, hence memory requirements can be excessive. To allow for calculations on large systems, the BSE code distributes the BSE matrix among all available cores and uses ScaLAPACK for the diagonalization.\n</p><p>VASP always uses the orbitals closest to the Fermi-level, and <a href=\"https://www.vasp.at/wiki/index.php/NBANDSO\" title=\"NBANDSO\" class=\"tag-link\">NBANDSO</a> (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\mathrm {occ} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\mathrm {occ} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0d58d1e98373abe45bd315536ccaf99b4dfb14e8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.38ex; height:2.509ex;\" alt=\"N_{{{\\mathrm  {occ}}}}\"></span>) and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSV\">NBANDSV</a> (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\mathrm {virtual} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n              <mi mathvariant=\"normal\">i</mi>\n              <mi mathvariant=\"normal\">r</mi>\n              <mi mathvariant=\"normal\">t</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">l</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\mathrm {virtual} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/040fdf2a174b4e19895f59ea2ec5f0430fe8f3c5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:6.901ex; height:2.509ex;\" alt=\"N_{{{\\mathrm  {virtual}}}}\"></span>) determines how many occupied and unoccupied orbitals are included. The defaults are fairly \"conservative\" and equal the total number of electrons/2 (this usually implies that all occupied state are included). For highly accurate results, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSV\">NBANDSV</a> often needs to be increased, whereas for large systems one is often forced to reduce both values to much smaller numbers. Sometimes qualitative results for bandlike  Wannier-Mott excitons can be obtained even with a single conduction and valence band.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tag_and_articles\">Related tag and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NBANDSO\" title=\"NBANDSO\" class=\"tag-link\">NBANDSO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Timepropagation\" class=\"mw-redirect\" title=\"Timepropagation\">timepropagation</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NBANDSV%22_incategory:%22Examples%22\" title='Special:Search/\"NBANDSV\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-24T11:24:47Z"}, "NBLK": {"datatype": "integer", "default": [["-1", "VASP.4.6"], ["256", "in VASP.5.2, if dfast"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBLK\">NBLK</a> determines the blocking factor in many BLAS level 3 routines.</span>", "id": 392, "info": "<div><p>In some cases, VASP has to perform a unitary transformation of the current orbitals. This is done using a work array CBLOCK and the following FORTRAN code:\n</p>\n<pre>      DO 100 IBLOCK=0,NPL-1,NBLK\n         ILEN=MIN(NBLK,NPL-IBLOCK)\n         DO 200 N1=1,N\n            DO 200 M=1,ILEN\n            CBLOCK(M,N1)=C(M+IBLOCK,N1)\n            C(M+IBLOCK,N1)=0\n  200    CONTINUE\nC        C(IBLOCK+I,N)=SUM_(J,K) CH(I,K) CBLOCK(K,N)\n         CALL ZGEMM ('N', 'N', ILEN, N, N, (1.,0.), CBLOCK, NBLK, CH, N,\n              &amp;   (1.,0.), C(IBLOCK+1,1), NDIM)\n  100 CONTINUE\n</pre>\n<p>ZGEMM is the matrix <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\times }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#215;<!-- &#215; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\times }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0ffafff1ad26cbe49045f19a67ce532116a32703\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: 0.019ex; margin-bottom: -0.19ex; width:1.808ex; height:1.509ex;\" alt=\"\\times \"></span> matrix  multiplication command of the BLAS package. The task performed by this call is indicated by the comment line written above the ZGEMM call. Generally <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBLK\">NBLK</a>=<span><span class=\"tag-value\">16</span> or 32 is large enough for super-scalar machines. A large value might be necessary on vector machines for optimal performance (</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBLK\">NBLK</a>=<span><span class=\"tag-value\">128)</span>.\n</span></p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NBLK%22_incategory:%22Examples%22\" title='Special:Search/\"NBLK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:05Z"}, "NPPSTR": {"datatype": "integer", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPPSTR\">NPPSTR</a> specifies the number of k-points on the strings in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPPSTR\">IGPAR</a> direction.</span>", "id": 393, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NPPSTR\">NPPSTR</a> specifies the number of k-points on the strings <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\mathbf {k}}_{j}={\\mathbf {k}}_{\\perp }+j{\\mathbf {G}}_{\\parallel }/\\mathrm {NPPSTR} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8869;<!-- &#8869; --></mo>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <mi>j</mi>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8741;<!-- &#8741; --></mo>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">R</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\mathbf {k}}_{j}={\\mathbf {k}}_{\\perp }+j{\\mathbf {G}}_{\\parallel }/\\mathrm {NPPSTR} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0cecda91a98843826d1c76d8c9920322432eae30\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:26.047ex; height:3.176ex;\" alt=\"{\\mathbf  {k}}_{{j}}={\\mathbf  {k}}_{{\\perp }}+j{\\mathbf  {G}}_{{\\parallel }}/{\\mathrm  {NPPSTR}}\"></span> (with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle j=0,..,\\mathrm {NPPSTR} -1}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>j</mi>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mo>.</mo>\n        <mo>.</mo>\n        <mo>,</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">R</mi>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle j=0,..,\\mathrm {NPPSTR} -1}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e9e024c2d6d4ad7ad140b2e5bd807335e6153eca\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; margin-left: -0.027ex; width:22.974ex; height:2.509ex;\" alt=\"j=0,..,{\\mathrm  {NPPSTR}}-1\"></span>). See also <a href=\"https://www.vasp.at/wiki/index.php/LBERRY\" title=\"LBERRY\" class=\"tag-link\">LBERRY</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IGPAR\" title=\"IGPAR\" class=\"tag-link\">IGPAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/LBERRY\" title=\"LBERRY\" class=\"tag-link\">LBERRY</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NPPSTR%22_incategory:%22Examples%22\" title='Special:Search/\"NPPSTR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:59:57Z"}, "NUPDOWN": {"datatype": "positive real", "default": "not set", "options": {}, "summary": "Sets the difference between the number of electrons in the up and down spin components.", "id": 394, "info": "<div><p><br>\nAllows calculations for a specific spin multiplet, i.e. the difference of the number of electrons in the up and down spin component will be kept fixed to the specified value. There is a word of caution required: If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUPDOWN\">NUPDOWN</a> is set in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file the initial moment for the charge density should be the same. Otherwise convergence can slow down. When starting from atomic charge densities (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">2)</span>, VASP will try to do this automatically by setting </span><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUPDOWN\">NUPDOWN</a>/<a href=\"https://www.vasp.at/wiki/index.php?title=NIONS&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"NIONS (page does not exist)\">NIONS</a>. The user can of course overwrite this default by specifying a different <a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a> (which should still result in the correct total moment). If one initializes the charge density from the one-electron wavefunctions, the initial moment is always correct, because VASP \"pushes\" the required number of electrons from the down to the up component. Initializing the charge density from the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file (<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>=<span><span class=\"tag-value\">1)</span>, however, the initial moment is usually incorrect!\n</span></p><p>If no value is set (or <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUPDOWN\">NUPDOWN</a>=<span><span class=\"tag-value\">-1)</span> a full relaxation will be performed. This is also the default.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/MAGMOM\" title=\"MAGMOM\" class=\"tag-link\">MAGMOM</a>,<a href=\"https://www.vasp.at/wiki/index.php/ICHARG\" title=\"ICHARG\" class=\"tag-link\">ICHARG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NUPDOWN%22_incategory:%22Examples%22\" title='Special:Search/\"NUPDOWN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-22T07:35:34Z"}, "NWRITE": {"datatype": "integer", "default": "2", "options": {"0": null, "1": null, "2": null, "3": null, "4": null}, "summary": "This tag determines how much will be written to the file <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OUTCAR\">OUTCAR</a> ('verbosity tag').", "id": 395, "info": "<div><p>The options for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NWRITE\">NWRITE</a> are given in detail as\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>NWRITE</td>\n<td>0</td>\n<td>1</td>\n<td>2</td>\n<td>3\n</td></tr>\n<tr>\n<td>contributions to electronic energy at each electronic iteration</td>\n<td>f</td>\n<td>f</td>\n<td>e</td>\n<td>e\n</td></tr>\n<tr>\n<td>convergence information</td>\n<td>f</td>\n<td>f</td>\n<td>e</td>\n<td>e\n</td></tr>\n<tr>\n<td>eigenvalues</td>\n<td>f+l</td>\n<td>i</td>\n<td>i</td>\n<td>e\n</td></tr>\n<tr>\n<td>DOS + charge density</td>\n<td>f+l</td>\n<td>i</td>\n<td>i</td>\n<td>e\n</td></tr>\n<tr>\n<td>total energy and electronic contributions</td>\n<td>i</td>\n<td>i</td>\n<td>i</td>\n<td>i\n</td></tr>\n<tr>\n<td>stress</td>\n<td>i</td>\n<td>i</td>\n<td>i</td>\n<td>i\n</td></tr>\n<tr>\n<td>basis vectors</td>\n<td>f+l</td>\n<td>i</td>\n<td>i</td>\n<td>i\n</td></tr>\n<tr>\n<td>forces</td>\n<td>f+l</td>\n<td>i</td>\n<td>i</td>\n<td>i\n</td></tr>\n<tr>\n<td>lattice and space group information for <a href=\"https://www.vasp.at/wiki/index.php/ISYM\" title=\"ISYM\" class=\"tag-link\">ISYM</a>&amp;gt;<span class=\"tag-value\">0</span></td>\n<td>f</td>\n<td>f</td>\n<td>f</td>\n<td>f\n</td></tr>\n<tr>\n<td>symmetry operations for <a href=\"https://www.vasp.at/wiki/index.php/ISYM\" title=\"ISYM\" class=\"tag-link\">ISYM</a>&amp;gt;<span class=\"tag-value\">0</span></td>\n<td></td>\n<td></td>\n<td></td>\n<td>f\n</td></tr>\n<tr>\n<td>timing information</td>\n<td></td>\n<td></td>\n<td>X</td>\n<td>X\n</td></tr></tbody></table></dd></dl></dd></dl>\n<p>where the following abbreviations have been used\n</p>\n<dl><dd><dl><dd><table cellpadding=\"5\" cellspacing=\"0\" border=\"1\" class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>f+l</td>\n<td>first and last ionic step\n</td></tr>\n<tr>\n<td>f</td>\n<td>first ionic step\n</td></tr>\n<tr>\n<td>i</td>\n<td>each ionic step\n</td></tr>\n<tr>\n<td>e</td>\n<td>each electronic step\n</td></tr>\n<tr>\n<td>X</td>\n<td>when applicable\n</td></tr>\n</tbody></table></dd></dl></dd></dl>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> For long molecular-dynamics runs, use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NWRITE\">NWRITE</a>=<span><span class=\"tag-value\">0</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NWRITE\">NWRITE</a>=<span><span class=\"tag-value\">1</span>. For short runs use </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NWRITE\">NWRITE</a>=<span><span class=\"tag-value\">2</span>. </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NWRITE\">NWRITE</a>=<span><span class=\"tag-value\">3</span> might give information if something goes wrong.\n</span></div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NWRITE\">NWRITE</a>=<span><span class=\"tag-value\">4</span> is for debugging only.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>, <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>, <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>, <a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ISYM\" title=\"ISYM\" class=\"tag-link\">ISYM</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NWRITE%22_incategory:%22Examples%22\" title='Special:Search/\"NWRITE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T09:50:54Z"}, "POMASS": {"datatype": "real array", "default": "values read from <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POMASS\">POMASS</a> describes the mass of each atomic sphere in atomic units.</span>", "id": 396, "info": "<div><p><a href=\"https://www.vasp.at/wiki/index.php/ZVAL\" title=\"ZVAL\" class=\"tag-link\">ZVAL</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/POMASS\">POMASS</a>  determine the valency and the atomic mass of each atomic species. It should be omitted usually since the values are read from the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file. If incompatibilities exist, VASP will stop.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ZVAL\" title=\"ZVAL\" class=\"tag-link\">ZVAL</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22POMASS%22_incategory:%22Examples%22\" title='Special:Search/\"POMASS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-06T11:42:24Z"}, "ZVAL": {"datatype": "real", "default": "values read from <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ZVAL\">ZVAL</a> describes the valency of each atomic sphere.</span>", "id": 397, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ZVAL\">ZVAL</a> and <a href=\"https://www.vasp.at/wiki/index.php/POMASS\" title=\"POMASS\" class=\"tag-link\">POMASS</a>  determine the valency and the atomic mass of each atomic species and should be omitted usually since the values are read from the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file. If incompatibilities exist, VASP will stop.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/POMASS\" title=\"POMASS\" class=\"tag-link\">POMASS</a>, <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ZVAL%22_incategory:%22Examples%22\" title='Special:Search/\"ZVAL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-06T15:04:59Z"}, "PSTRESS": {"datatype": "real", "default": null, "options": {}, "summary": "Sets the external pressure in kB or adds corrections to the stress tensor.", "id": 398, "info": "<div><p>The unit of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PSTRESS\">PSTRESS</a> is kB.\n</p><p>During <a href=\"https://www.vasp.at/wiki/index.php/Ionic_minimization\" class=\"mw-redirect\" title=\"Ionic minimization\">ionic minimization</a>, an energy term <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E=V\\times \\mathrm {PSTRESS} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>E</mi>\n        <mo>=</mo>\n        <mi>V</mi>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">P</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">R</mi>\n          <mi mathvariant=\"normal\">E</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">S</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E=V\\times \\mathrm {PSTRESS} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/851b41281e508674968514234bac4f9ec7980a55\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:19.934ex; height:2.176ex;\" alt=\"{\\displaystyle E=V\\times \\mathrm {PSTRESS} }\"></span> is added to the total energy and the value of  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PSTRESS\">PSTRESS</a> is subtracted from  the diagonals of the stress tensor. This allows to perform structure optimization at a specific external pressure.\n</p><p>In <a href=\"https://www.vasp.at/wiki/index.php/Molecular_dynamics\" class=\"mw-redirect\" title=\"Molecular dynamics\">molecular-dynamics calculations</a> within the <a href=\"https://www.vasp.at/wiki/index.php/NpT_ensemble\" title=\"NpT ensemble\">NpT ensemble</a>, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PSTRESS\">PSTRESS</a> controls the target pressure for the Parinello-Rahman<sup id=\"cite_ref-parrinello:prl:1980_1-0\" class=\"reference\"><a href=\"#cite_note-parrinello:prl:1980-1\">[1]</a></sup><sup id=\"cite_ref-parrinello:jap:1981_2-0\" class=\"reference\"><a href=\"#cite_note-parrinello:jap:1981-2\">[2]</a></sup> barostat. \n</p><p>Generally, if a negative value is supplied, the system is under effective tensile strain and during relaxations (or molecular dynamics simulations) the volume \nwill increase. If a positive value is supplied, the system is under compressive strain; this will decrease the volume during relaxations and molecular dynamics simulations.\n</p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PSTRESS\">PSTRESS</a> can also be used to correct errors caused by the Pulay stress, i.e., errors in the calculated stress tensor caused by the incomplete plane wave basis set. To correct for Pulay-stress errors, set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PSTRESS\">PSTRESS</a> to the negative value of the Pulay stress. The Pulay stress is computed by taking the difference between the external pressure at the desired cutoff and a very large energy cutoff (check the  lines 'external pressure' in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file and calculate \npressure at cutoff you want to use <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle -}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8722;<!-- &#8722; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle -}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/04bd52ce670743d3b61bec928a7ec9f47309eb36\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:1.808ex; height:2.176ex;\" alt=\"{\\displaystyle -}\"></span> pressure at large cutoff; this must be a negative value). Before using this tag in this manner, please read the following section carefully: <a href=\"https://www.vasp.at/wiki/index.php/Energy_vs_volume_Volume_relaxations_and_Pulay_stress\" title=\"Energy vs volume Volume relaxations and Pulay stress\">Energy vs volume Volume relaxations and Pulay stress</a>.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PSTRESS%22_incategory:%22Examples%22\" title='Special:Search/\"PSTRESS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-03-22T06:48:50Z"}, "VOSKOWN": {"datatype": "integer", "default": "0", "options": {"0": null, "1": null}, "summary": "Determines whether Vosko-Wilk-Nusair interpolation is used or not.", "id": 399, "info": "<div><p>This flag is not relevant for most \"modern\" gradient corrected functionals, such as PBE or PBEsol.\n</p><p>For the LDA and some \"older\" gradient corrected functionals such as PW91, VASP interpolates the correlation energy from the non-spinpolarized to the fully spinpolarized case in the same way as the exchange energy (Barth-Hedin spin interpolation<sup id=\"cite_ref-barth:jpc:1972_1-0\" class=\"reference\"><a href=\"#cite_note-barth:jpc:1972-1\">[1]</a></sup>. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VOSKOWN\">VOSKOWN</a> is set to 1, the interpolation formula according to Vosko, Wilk and Nusair<sup id=\"cite_ref-vosko1980_2-0\" class=\"reference\"><a href=\"#cite_note-vosko1980-2\">[2]</a></sup> is used (this interpolation is based on the RPA correlation energy of partially spin polarized systems). The  Vosko, Wilk and Nusair interpolation usually enhances the magnetic moments and the magnetic energies. Because the Vosko-Wilk-Nusair interpolation is the interpolation usually applied in the context of gradient corrected functionals, it is desirable to use this interpolation whenever the PW91 functional is applied. Setting this tag is not required for most modern functions, such as the PBE or PBEsol functional, since these functional strictly follow the original publications and disregard the setting of this flag entirely (this implicitly implies that the correlation energy is interpolated according to Vosko, Wilk and Nusair).\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-barth:jpc:1972-1\"><a href=\"#cite_ref-barth:jpc:1972_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1088/0022-3719/5/13/012\">U. V. Barth and L. Hedin, J. Phys. C <b>5</b>, 1629 (1972).</a></span>\n</li>\n<li id=\"cite_note-vosko1980-2\"><a href=\"#cite_ref-vosko1980_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1139/p80-159\">S. H. Vosko, L. Wilk, and M. Nusair, Can. J. Phys. <b>58</b>, 1200 (1980).</a></span>\n</li>\n</ol></div>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VOSKOWN%22_incategory:%22Examples%22\" title='Special:Search/\"VOSKOWN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:55:36Z"}, "EINT": {"datatype": "real real", "default": "not set", "options": {}, "summary": "Specifies the energy range of the bands that are used for the evaluation of the partial charge density needed in {{TAG|Band decomposed charge densities}}. Check also <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBMOD\">NBMOD</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBMOD\">IBAND</a>.", "id": 400, "info": "<div><p>Two real values should  be given, if  only one value is specified, the second one is set to <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon _{f}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>f</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon _{f}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c07dbe00bb5d293a8ae18e732b048a3cea7955ee\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:2.08ex; height:2.343ex;\" alt=\"\\epsilon _{f}\"></span>. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EINT\">EINT</a> is given and <a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a> is not specified,\n<a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a> is set automatically to -2.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LPARD\" title=\"LPARD\" class=\"tag-link\">LPARD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBAND\" title=\"IBAND\" class=\"tag-link\">IBAND</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPUSE\" title=\"KPUSE\" class=\"tag-link\">KPUSE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPB\" title=\"LSEPB\" class=\"tag-link\">LSEPB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPK\" title=\"LSEPK\" class=\"tag-link\">LSEPK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\" title=\"Band decomposed charge densities\">Band decomposed charge densities</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EINT%22_incategory:%22Examples%22\" title='Special:Search/\"EINT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:11:31Z"}, "NBMOD": {"datatype": "integer", "default": "-1", "options": {}, "summary": null, "id": 401, "info": "<div><p>This integer variable can take the following values:\n</p>\n<ul><li>&gt;0  Number of values in the array <a href=\"https://www.vasp.at/wiki/index.php/IBAND\" title=\"IBAND\" class=\"tag-link\">IBAND</a>. If <a href=\"https://www.vasp.at/wiki/index.php/IBAND\" title=\"IBAND\" class=\"tag-link\">IBAND</a> is specified, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBMOD\">NBMOD</a> is set automatically to the correct value (in that case <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBMOD\">NBMOD</a> should not be set manually in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file).</li></ul>\n<ul><li>0 Take all bands to calculate the charge density, even unoccupied bands are taken into account.</li></ul>\n<ul><li>-1 Calculate the total charge density as usual. This is the default value if nothing else is given.</li></ul>\n<ul><li>-2 Calculate the partial charge density for electrons with their eigenvalues in the range specified by <a href=\"https://www.vasp.at/wiki/index.php/EINT\" title=\"EINT\" class=\"tag-link\">EINT</a>.</li></ul>\n<ul><li>-3 The same as before, but the energy range is given vs. the Fermi energy.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LPARD\" title=\"LPARD\" class=\"tag-link\">LPARD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBAND\" title=\"IBAND\" class=\"tag-link\">IBAND</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EINT\" title=\"EINT\" class=\"tag-link\">EINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPUSE\" title=\"KPUSE\" class=\"tag-link\">KPUSE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPB\" title=\"LSEPB\" class=\"tag-link\">LSEPB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPK\" title=\"LSEPK\" class=\"tag-link\">LSEPK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\" title=\"Band decomposed charge densities\">Band decomposed charge densities</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NBMOD%22_incategory:%22Examples%22\" title='Special:Search/\"NBMOD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:11Z"}, "IBAND": {"datatype": "integer array", "default": null, "options": {}, "summary": "Controls which bands are used in the calculation of {{TAG|Band decomposed charge densities}}. Check also <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBMOD\">NBMOD</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBMOD\">EINT</a>.", "id": 402, "info": "<div><p>Calculates the partial charge density for all bands specified in the array <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBAND\">IBAND</a>. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBAND\">IBAND</a> is specified in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file and if <a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a> is not given, <a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a> is set automatically to the size of the array. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IBAND\">IBAND</a> is for instance\n</p>\n<pre>IBAND = 20 21 22 23\n</pre>\n<p>the charge density will be calculated for bands 20 to 23.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LPARD\" title=\"LPARD\" class=\"tag-link\">LPARD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EINT\" title=\"EINT\" class=\"tag-link\">EINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPUSE\" title=\"KPUSE\" class=\"tag-link\">KPUSE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPB\" title=\"LSEPB\" class=\"tag-link\">LSEPB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPK\" title=\"LSEPK\" class=\"tag-link\">LSEPK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\" title=\"Band decomposed charge densities\">Band decomposed charge densities</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IBAND%22_incategory:%22Examples%22\" title='Special:Search/\"IBAND\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:20:53Z"}, "LPARD": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "Determines whether partial (band or k-point decomposed) charge densities are evaluated. See also {{TAG|Band decomposed charge densities}}.", "id": 403, "info": "<div><div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5>  The orbitals read from the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file must be converged in a prior VASP run.\n</div><p>If only <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPARD\">LPARD</a> is set and none of the tags discussed in <a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\" title=\"Band decomposed charge densities\">Band decomposed charge densities</a>, the total charge density is evaluated from the orbitals and written to the <a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBAND\" title=\"IBAND\" class=\"tag-link\">IBAND</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EINT\" title=\"EINT\" class=\"tag-link\">EINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPUSE\" title=\"KPUSE\" class=\"tag-link\">KPUSE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPB\" title=\"LSEPB\" class=\"tag-link\">LSEPB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPK\" title=\"LSEPK\" class=\"tag-link\">LSEPK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\" title=\"Band decomposed charge densities\">Band decomposed charge densities</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LPARD%22_incategory:%22Examples%22\" title='Special:Search/\"LPARD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:39:15Z"}, "KPUSE": {"datatype": "integer array", "default": "not set", "options": {}, "summary": "Specifies which k points are used in the evaluation of the partial DOS (<a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\">Band decomposed charge densities</a>).", "id": 404, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPUSE\">KPUSE</a> is an array of integer values:\n</p>\n<pre>KPUSE = 1 2 3 4\n</pre>\n<p>means that the charge density is evaluated and summed for the first four k points. Be careful: VASP changes the k-point weights if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPUSE\">KPUSE</a> is specified.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LPARD\" title=\"LPARD\" class=\"tag-link\">LPARD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBAND\" title=\"IBAND\" class=\"tag-link\">IBAND</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EINT\" title=\"EINT\" class=\"tag-link\">EINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPB\" title=\"LSEPB\" class=\"tag-link\">LSEPB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPK\" title=\"LSEPK\" class=\"tag-link\">LSEPK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\" title=\"Band decomposed charge densities\">Band decomposed charge densities</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22KPUSE%22_incategory:%22Examples%22\" title='Special:Search/\"KPUSE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:25:03Z"}, "LSEPB": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "Specifies whether the charge density is calculated for every band separately and written to a file PARCHG.nb.* (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSEPB\">LSEPB</a>=<i>.TRUE.</i>) or whether charge density is merged for all selected bands and written to the files PARCHG.ALLB.* or <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSEPB\">PARCHG</a>.", "id": 405, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSEPB\">LSEPB</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>LSEPB</b> = .FALSE.&#160;\n</p><p>Description: Specifies whether the charge density is calculated for every band separately and written to a file PARCHG.nb.* (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSEPB\">LSEPB</a>=<i>.TRUE.</i>) or whether charge density is merged for all selected bands and written to the files PARCHG.ALLB.* or <a href=\"https://www.vasp.at/wiki/index.php/PARCHG\" title=\"PARCHG\" class=\"tag-link\">PARCHG</a>. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LPARD\" title=\"LPARD\" class=\"tag-link\">LPARD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBAND\" title=\"IBAND\" class=\"tag-link\">IBAND</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EINT\" title=\"EINT\" class=\"tag-link\">EINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPUSE\" title=\"KPUSE\" class=\"tag-link\">KPUSE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPK\" title=\"LSEPK\" class=\"tag-link\">LSEPK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\" title=\"Band decomposed charge densities\">Band decomposed charge densities</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSEPB%22_incategory:%22Examples%22\" title='Special:Search/\"LSEPB\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:41:50Z"}, "LSEPK": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "Write the charge density of every k point to the files PARCHG.*.nk (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSEPK\">LSEPK</a>=<span><span class=\"tag-value\">.TRUE.</span>) or merge them to a single file (</span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSEPK\">LSEPK</a>=.False.).", "id": 406, "info": "<div><p>If the merged file is written, then the weight of each k point is determined from the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file. Otherwise, the values of the k-point weights are all set to 1.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LPARD\" title=\"LPARD\" class=\"tag-link\">LPARD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBAND\" title=\"IBAND\" class=\"tag-link\">IBAND</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/EINT\" title=\"EINT\" class=\"tag-link\">EINT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBMOD\" title=\"NBMOD\" class=\"tag-link\">NBMOD</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPUSE\" title=\"KPUSE\" class=\"tag-link\">KPUSE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSEPB\" title=\"LSEPB\" class=\"tag-link\">LSEPB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Band_decomposed_charge_densities\" title=\"Band decomposed charge densities\">Band decomposed charge densities</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSEPK%22_incategory:%22Examples%22\" title='Special:Search/\"LSEPK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:41:58Z"}, "ODDONLYGW": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ODDONLYGW\">ODDONLYGW</a> allows to avoid the inclusion of the <math>\\Gamma</math> point in the evaluation of response functions (in {{TAG|GW calculations}}).</span>", "id": 407, "info": "<div><p>The independent particle polarizability  <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi _{\\mathbf {q} }^{0}({\\mathbf {G} },{\\mathbf {G} }',\\omega )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo>,</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi _{\\mathbf {q} }^{0}({\\mathbf {G} },{\\mathbf {G} }',\\omega )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8a1bd08397d5cca2cb2d14007259f5fa030720f0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:12.898ex; height:3.176ex;\" alt=\"\\chi _{{{{\\mathbf  {q}}}}}^{0}({{\\mathbf  {G}}},{{\\mathbf  {G}}}',\\omega )\"></span> is given by:\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi _{\\mathbf {q} }^{0}({\\mathbf {G} },{\\mathbf {G} }',\\omega )={\\frac {1}{\\Omega }}\\sum _{n,n',{\\mathbf {k} }}2w_{\\mathbf {k} }(f_{n'{\\mathbf {k} }+{\\mathbf {q} }}-f_{n{\\mathbf {k} }})\\times {\\frac {\\langle \\psi _{n{\\mathbf {k} }}|e^{-i({\\mathbf {q} }+{\\mathbf {G} }){\\mathbf {r} }}|\\psi _{n'{\\mathbf {k} }+{\\mathbf {q} }}\\rangle \\langle \\psi _{n'{\\mathbf {k} }+{\\mathbf {q} }}|e^{i({\\mathbf {q} }+{\\mathbf {G} }'){\\mathbf {r'} }}|\\psi _{n{\\mathbf {k} }}\\rangle }{\\epsilon _{n'{\\mathbf {k} }+{\\mathbf {q} }}-\\epsilon _{n{\\mathbf {k} }}-\\omega -i\\eta }}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">G</mi>\n            </mrow>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo>,</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n          </mfrac>\n        </mrow>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mo>,</mo>\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mo>,</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <mn>2</mn>\n        <msub>\n          <mi>w</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n            <mo>+</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">q</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#215;<!-- &#215; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msup>\n                <mi>e</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo>&#8722;<!-- &#8722; --></mo>\n                  <mi>i</mi>\n                  <mo stretchy=\"false\">(</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">G</mi>\n                    </mrow>\n                  </mrow>\n                  <mo stretchy=\"false\">)</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">r</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n              <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msup>\n                <mi>e</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                  <mo stretchy=\"false\">(</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <msup>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"bold\">G</mi>\n                      </mrow>\n                    </mrow>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mo stretchy=\"false\">)</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <msup>\n                        <mi mathvariant=\"bold\">r</mi>\n                        <mo>&#8242;</mo>\n                      </msup>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msub>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n            </mrow>\n            <mrow>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                  <mo>+</mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>&#969;<!-- &#969; --></mi>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>i</mi>\n              <mi>&#951;<!-- &#951; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi _{\\mathbf {q} }^{0}({\\mathbf {G} },{\\mathbf {G} }',\\omega )={\\frac {1}{\\Omega }}\\sum _{n,n',{\\mathbf {k} }}2w_{\\mathbf {k} }(f_{n'{\\mathbf {k} }+{\\mathbf {q} }}-f_{n{\\mathbf {k} }})\\times {\\frac {\\langle \\psi _{n{\\mathbf {k} }}|e^{-i({\\mathbf {q} }+{\\mathbf {G} }){\\mathbf {r} }}|\\psi _{n'{\\mathbf {k} }+{\\mathbf {q} }}\\rangle \\langle \\psi _{n'{\\mathbf {k} }+{\\mathbf {q} }}|e^{i({\\mathbf {q} }+{\\mathbf {G} }'){\\mathbf {r'} }}|\\psi _{n{\\mathbf {k} }}\\rangle }{\\epsilon _{n'{\\mathbf {k} }+{\\mathbf {q} }}-\\epsilon _{n{\\mathbf {k} }}-\\omega -i\\eta }}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cfc41a1ff50b82b3bba10158bf601337061496a1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.505ex; width:90.107ex; height:8.009ex;\" alt=\"\\chi _{{{{\\mathbf  {q}}}}}^{0}({{\\mathbf  {G}}},{{\\mathbf  {G}}}',\\omega )={\\frac  {1}{\\Omega }}\\sum _{{n,n',{{\\mathbf  {k}}}}}2w_{{{{\\mathbf  {k}}}}}(f_{{n'{{\\mathbf  {k}}}+{{\\mathbf  {q}}}}}-f_{{n{{\\mathbf  {k}}}}})\\times {\\frac  {\\langle \\psi _{{n{{\\mathbf  {k}}}}}|e^{{-i({{\\mathbf  {q}}}+{{\\mathbf  {G}}}){{\\mathbf  {r}}}}}|\\psi _{{n'{{\\mathbf  {k}}}+{{\\mathbf  {q}}}}}\\rangle \\langle \\psi _{{n'{{\\mathbf  {k}}}+{{\\mathbf  {q}}}}}|e^{{i({{\\mathbf  {q}}}+{{\\mathbf  {G}}}'){{\\mathbf  {r'}}}}}|\\psi _{{n{{\\mathbf  {k}}}}}\\rangle }{\\epsilon _{{n'{{\\mathbf  {k}}}+{{\\mathbf  {q}}}}}-\\epsilon _{{n{{\\mathbf  {k}}}}}-\\omega -i\\eta }}\"></span>\n</p><p>If the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Gamma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#915;<!-- &#915; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Gamma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4cfde86a3f7ec967af9955d0988592f0693d2b19\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.453ex; height:2.176ex;\" alt=\"\\Gamma \"></span> point is included in the summation over <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {k} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {k} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9ea699cbc1f843f2e855577d57529430ec33a1ed\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.411ex; height:2.176ex;\" alt=\"{\\mathbf  {k}}\"></span>, convergence is very slow for some materials  (e.g. GaAs).\n</p><p>To deal with this problem the flag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ODDONLYGW\">ODDONLYGW</a> has been included.\nIn the automatic mode,  the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {k} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {k} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9ea699cbc1f843f2e855577d57529430ec33a1ed\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.411ex; height:2.176ex;\" alt=\"{\\mathbf  {k}}\"></span>-grid is given by (see Sec. \\ref{sec:autok}): \n</p>\n<pre><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\vec {k}}={\\vec {b}}_{1}{\\frac {n_{1}}{N_{1}}}+{\\vec {b}}_{2}{\\frac {n_{2}}{N_{2}}}+{\\vec {b}}_{3}{\\frac {n_{3}}{N_{3}}},\\qquad n_{1}=0...,N_{1}-1\\quad n_{2}=0...,N_{2}-1\\quad n_{3}=0...,N_{3}-1.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mi>k</mi>\n              <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>b</mi>\n                <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msub>\n              <mi>n</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>1</mn>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>1</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>b</mi>\n                <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msub>\n              <mi>n</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>b</mi>\n                <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msub>\n              <mi>n</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>3</mn>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"2em\"></mspace>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0...</mn>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mspace width=\"1em\"></mspace>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0...</mn>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mspace width=\"1em\"></mspace>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0...</mn>\n        <mo>,</mo>\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1.</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\vec {k}}={\\vec {b}}_{1}{\\frac {n_{1}}{N_{1}}}+{\\vec {b}}_{2}{\\frac {n_{2}}{N_{2}}}+{\\vec {b}}_{3}{\\frac {n_{3}}{N_{3}}},\\qquad n_{1}=0...,N_{1}-1\\quad n_{2}=0...,N_{2}-1\\quad n_{3}=0...,N_{3}-1.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ac6eeb327f521e6332de639df1639d00b1f17503\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:88.499ex; height:5.176ex;\" alt=\"{\\vec  {k}}={\\vec  {b}}_{{1}}{\\frac  {n_{{1}}}{N_{{1}}}}+{\\vec  {b}}_{{2}}{\\frac  {n_{{2}}}{N_{{2}}}}+{\\vec  {b}}_{{3}}{\\frac  {n_{{3}}}{N_{{3}}}},\\qquad n_{1}=0...,N_{1}-1\\quad n_{2}=0...,N_{2}-1\\quad n_{3}=0...,N_{3}-1.\"></span>\n</pre>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/EVENONLYGW\" title=\"EVENONLYGW\" class=\"tag-link\">EVENONLYGW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ODDONLYGW%22_incategory:%22Examples%22\" title='Special:Search/\"ODDONLYGW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:25:01Z"}, "EVENONLYGW": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/EVENONLYGW\">EVENONLYGW</a> allows to restrict the k-points in the evaluation of response functions (in {{TAG|GW calculations}}) to even values.</span>", "id": 408, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/EVENONLYGW\">EVENONLYGW</a>=<i>.TRUE.</i> is only of limited use and restricts the summation to k-points with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n_{1}+n_{2}+n_{3}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n_{1}+n_{2}+n_{3}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8a9daf00b3eeb2d44f590edeb8e8c7448799d4ad\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:13.028ex; height:2.343ex;\" alt=\"n_{{1}}+n_{{2}}+n_{{3}}\"></span> being even (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Gamma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#915;<!-- &#915; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Gamma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4cfde86a3f7ec967af9955d0988592f0693d2b19\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.453ex; height:2.176ex;\" alt=\"\\Gamma \"></span> point and from there on every second k-point included).\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ODDONLYGW\" title=\"ODDONLYGW\" class=\"tag-link\">ODDONLYGW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22EVENONLYGW%22_incategory:%22Examples%22\" title='Special:Search/\"EVENONLYGW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:02:32Z"}, "SMEARINGS": {"datatype": "integer array", "default": "not set", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMEARINGS\">SMEARINGS</a> defines the smearing parameters for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SMEARINGS\">ISMEAR</a>=<i>-3</i> in the calculation of the partial occupancies.</span>", "id": 409, "info": "<div><p><a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>=<i>-3</i> performs a loop over smearing-parameters supplied in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file. In this case a tag\n</p>\n<pre>SMEARINGS = ismear1 sigma1  ismear2 sigma2  ...\n</pre>\n<p>must be present in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, supplying different smearing parameters. <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a> has to be set to -1 and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> to the number of supplied values ismear<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle i}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>i</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle i}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.802ex; height:2.176ex;\" alt=\"i\"></span>) . The first loop is done using the tetrahedron method with Bl&#246;chl corrections.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SIGMA\" title=\"SIGMA\" class=\"tag-link\">SIGMA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SMEARINGS%22_incategory:%22Examples%22\" title='Special:Search/\"SMEARINGS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-06T16:01:40Z"}, "DIMER_DIST": {"datatype": "real", "default": "0.01", "options": {}, "summary": "The flag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/DIMER_DIST\">DIMER_DIST</a> defines the step size for the numerical differentiation (in <math>\\AA</math>) for the {{TAG|Improved Dimer Method}}.", "id": 437, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Improved_Dimer_Method\" title=\"Improved Dimer Method\">Improved Dimer Method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22DIMER_DIST%22_incategory:%22Examples%22\" title='Special:Search/\"DIMER DIST\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T15:55:01Z"}, "FINDIFF": {"datatype": "integer", "default": "1", "options": {}, "summary": "The flag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/DIMER_DIST\">DIMER_DIST</a> defines whether a forward (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/DIMER_DIST\">FINDIFF</a>=<span><span class=\"tag-value\">1)</span> or a central (</span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/DIMER_DIST\">FINDIFF</a>=<span><span class=\"tag-value\">2)</span> difference formula for the numerical differentiation to compute the curvature along the dimer direction is used in the {{TAG|Improved Dimer Method}}.</span>", "id": 438, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Improved_Dimer_Method\" title=\"Improved Dimer Method\">Improved Dimer Method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22FINDIFF%22_incategory:%22Examples%22\" title='Special:Search/\"FINDIFF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:20:07Z"}, "MINROT": {"datatype": "real", "default": "0.01", "options": {}, "summary": "The flag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MINROT\">MINROT</a> defines the value for which the dimer is rotated only if the predicted rotation angle is greater than <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MINROT\">MINROT</a> (rad.) in the {{TAG|Improved Dimer Method}}.", "id": 439, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Improved_Dimer_Method\" title=\"Improved Dimer Method\">Improved Dimer Method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22MINROT%22_incategory:%22Examples%22\" title='Special:Search/\"MINROT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:46:01Z"}, "STEP_SIZE": {"datatype": "real", "default": "0.01", "options": {}, "summary": "The flag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/STEP_SIZE\">STEP_SIZE</a> defines the trial step size for the optimization step (in <math>\\AA</math> ) in the {{TAG|Improved Dimer Method}}.", "id": 440, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Improved_Dimer_Method\" title=\"Improved Dimer Method\">Improved Dimer Method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22STEP_SIZE%22_incategory:%22Examples%22\" title='Special:Search/\"STEP SIZE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T06:52:53Z"}, "STEP_MAX": {"datatype": "real", "default": "0.1", "options": {}, "summary": "The flag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/STEP_MAX\">STEP_MAX</a> defines the trust radius (upper limit) for the optimization step (in <math>\\AA</math> ) in the {{TAG|Improved Dimer Method}}.", "id": 441, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Improved_Dimer_Method\" title=\"Improved Dimer Method\">Improved Dimer Method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22STEP_MAX%22_incategory:%22Examples%22\" title='Special:Search/\"STEP MAX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T06:52:46Z"}, "OFIELD_A": {"datatype": "real", "default": null, "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OFIELD_A\">OFIELD_A</a> sets the desired order parameter <math>Q_6</math> in the <a href=\"https://www.vasp.at/wiki/index.php/%3ACategory%3AInterface_pinning\">Interface pinning</a> method.", "id": 452, "info": "<div><p>The bias potential in the <a href=\"https://www.vasp.at/wiki/index.php/Category:Interface_pinning\" title=\"Category:Interface pinning\">Interface pinning</a> method is written as\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U_{\\text{bias}}(\\mathbf {R} )={\\frac {\\kappa }{2}}\\left(Q_{6}(\\mathbf {R} )-A\\right)^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>bias</mtext>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mi>&#954;<!-- &#954; --></mi>\n            <mn>2</mn>\n          </mfrac>\n        </mrow>\n        <msup>\n          <mrow>\n            <mo>(</mo>\n            <mrow>\n              <msub>\n                <mi>Q</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>6</mn>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">R</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>A</mi>\n            </mrow>\n            <mo>)</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U_{\\text{bias}}(\\mathbf {R} )={\\frac {\\kappa }{2}}\\left(Q_{6}(\\mathbf {R} )-A\\right)^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c1890d858aee631c9218962842d125ea100f24b9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.838ex; width:27.899ex; height:4.676ex;\" alt=\"{\\displaystyle U_{\\text{bias}}(\\mathbf {R} )={\\frac {\\kappa }{2}}\\left(Q_{6}(\\mathbf {R} )-A\\right)^{2}}\"></span>.</dd></dl></dd></dl>\n<p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OFIELD_A\">OFIELD_A</a> sets the desired value of the order parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle A}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>A</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle A}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.743ex; height:2.176ex;\" alt=\"A\"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Category:Interface_pinning\" title=\"Category:Interface pinning\">Interface pinning</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_Q6_NEAR\" title=\"OFIELD Q6 NEAR\" class=\"tag-link\">OFIELD_Q6_NEAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_Q6_FAR\" title=\"OFIELD Q6 FAR\" class=\"tag-link\">OFIELD_Q6_FAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_KAPPA\" title=\"OFIELD KAPPA\" class=\"tag-link\">OFIELD_KAPPA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22OFIELD_A%22_incategory:%22Examples%22\" title='Special:Search/\"OFIELD A\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:15:42Z"}, "OFIELD_KAPPA": {"datatype": "real", "default": null, "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OFIELD_KAPPA\">OFIELD_KAPPA</a> sets the strength of the bias potential in the <a href=\"https://www.vasp.at/wiki/index.php/%3ACategory%3AInterface_pinning\">Interface pinning</a> method.", "id": 453, "info": "<div><p>The bias potential in the <a href=\"https://www.vasp.at/wiki/index.php/Category:Interface_pinning\" title=\"Category:Interface pinning\">Interface pinning</a> method is written as\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U_{\\text{bias}}(\\mathbf {R} )={\\frac {\\kappa }{2}}\\left(Q_{6}(\\mathbf {R} )-A\\right)^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>bias</mtext>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">R</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mi>&#954;<!-- &#954; --></mi>\n            <mn>2</mn>\n          </mfrac>\n        </mrow>\n        <msup>\n          <mrow>\n            <mo>(</mo>\n            <mrow>\n              <msub>\n                <mi>Q</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>6</mn>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">R</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>A</mi>\n            </mrow>\n            <mo>)</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U_{\\text{bias}}(\\mathbf {R} )={\\frac {\\kappa }{2}}\\left(Q_{6}(\\mathbf {R} )-A\\right)^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c1890d858aee631c9218962842d125ea100f24b9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.838ex; width:27.899ex; height:4.676ex;\" alt=\"{\\displaystyle U_{\\text{bias}}(\\mathbf {R} )={\\frac {\\kappa }{2}}\\left(Q_{6}(\\mathbf {R} )-A\\right)^{2}}\"></span>.</dd></dl></dd></dl>\n<p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OFIELD_KAPPA\">OFIELD_KAPPA</a> method sets the strength of the bias potential <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\kappa }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#954;<!-- &#954; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\kappa }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/54ddec2e922c5caea4e47d04feef86e782dc8e6d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.339ex; height:1.676ex;\" alt=\"\\kappa \"></span>. The unit of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\kappa }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#954;<!-- &#954; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\kappa }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/54ddec2e922c5caea4e47d04feef86e782dc8e6d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.339ex; height:1.676ex;\" alt=\"\\kappa \"></span> is <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\textrm {eV}}/({\\textrm {unit}}\\,\\,{\\textrm {of}}\\,\\,Q)^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>eV</mtext>\n          </mrow>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>unit</mtext>\n          </mrow>\n        </mrow>\n        <mspace width=\"thinmathspace\"></mspace>\n        <mspace width=\"thinmathspace\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>of</mtext>\n          </mrow>\n        </mrow>\n        <mspace width=\"thinmathspace\"></mspace>\n        <mspace width=\"thinmathspace\"></mspace>\n        <mi>Q</mi>\n        <msup>\n          <mo stretchy=\"false\">)</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\textrm {eV}}/({\\textrm {unit}}\\,\\,{\\textrm {of}}\\,\\,Q)^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/db62b165154dd21e01facc4999bc1199fed9d53b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:16.199ex; height:3.176ex;\" alt=\"{\\textrm  {eV}}/({\\textrm  {unit}}\\,\\,{\\textrm  {of}}\\,\\,Q)^{2}\"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Category:Interface_pinning\" title=\"Category:Interface pinning\">Interface pinning</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_Q6_NEAR\" title=\"OFIELD Q6 NEAR\" class=\"tag-link\">OFIELD_Q6_NEAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_Q6_FAR\" title=\"OFIELD Q6 FAR\" class=\"tag-link\">OFIELD_Q6_FAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_A\" title=\"OFIELD A\" class=\"tag-link\">OFIELD_A</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22OFIELD_KAPPA%22_incategory:%22Examples%22\" title='Special:Search/\"OFIELD KAPPA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:16:42Z"}, "OFIELD_Q6_FAR": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OFIELD_Q6_FAR\">OFIELD_Q6_FAR</a> sets the far fading distance  for the computation of a continuous <math>Q_6</math> parameter in the <a href=\"https://www.vasp.at/wiki/index.php/%3ACategory%3AInterface_pinning\">interface-pinning</a> method. </span>", "id": 454, "info": "<div><p>The unit of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/OFIELD_Q6_FAR\">OFIELD_Q6_FAR</a> is <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Category:Interface_pinning\" title=\"Category:Interface pinning\">Interface pinning</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_Q6_NEAR\" title=\"OFIELD Q6 NEAR\" class=\"tag-link\">OFIELD_Q6_NEAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_A\" title=\"OFIELD A\" class=\"tag-link\">OFIELD_A</a>, <a href=\"https://www.vasp.at/wiki/index.php/OFIELD_KAPPA\" title=\"OFIELD KAPPA\" class=\"tag-link\">OFIELD_KAPPA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22OFIELD_Q6_FAR%22_incategory:%22Examples%22\" title='Special:Search/\"OFIELD Q6 FAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:18:56Z"}, "OFIELD_Q6_NEAR": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OFIELD_Q6_NEAR\">OFIELD_Q6_NEAR</a> sets the near-fading distance (in <math>\\AA</math>) for the computation of a continuous <math>Q_6</math> parameter in the <a href=\"https://www.vasp.at/wiki/index.php/%3ACategory%3AInterface_pinning\">interface-pinning</a> method. </span>", "id": 455, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Category:Interface_pinning\" title=\"Category:Interface pinning\">Interface pinning</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22OFIELD_Q6_NEAR%22_incategory:%22Examples%22\" title='Special:Search/\"OFIELD Q6 NEAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:20:43Z"}, "LATTICE_CONSTRAINTS": {"datatype": "boolean boolean boolean", "default": null, "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LATTICE_CONSTRAINTS\">LATTICE_CONSTRAINTS</a> determines whether the lattice dynamics are released (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LATTICE_CONSTRAINTS\">LATTICE_CONSTRAINTS</a>=<i>.TRUE.</i>) in the given directions in molecular-dynamics calculations (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LATTICE_CONSTRAINTS\">IBRION</a>=<span><span class=\"tag-value\">0)</span>. </span>", "id": 456, "info": "<div><p>This tag requires three boolean values for the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle a}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>a</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle a}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ffd2487510aa438433a2579450ab2b3d557e5edc\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.23ex; height:1.676ex;\" alt=\"a\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle b}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>b</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle b}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f11423fbb2e967f986e36804a8ae4271734917c3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.998ex; height:2.176ex;\" alt=\"b\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>c</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/86a67b81c2de995bd608d5b2df50cd8cd7d92455\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.007ex; height:1.676ex;\" alt=\"c\"></span> direction of the lattice constants, respectively. By setting <i>.TRUE.</i> the lattice constant in the respective direction is allowed to change.\n</p><p>We recommend using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LATTICE_CONSTRAINTS\">LATTICE_CONSTRAINTS</a> for (orthorombic) liquids in the isobaric-isothermal (<a href=\"https://www.vasp.at/wiki/index.php/NpT_ensemble\" title=\"NpT ensemble\">NpT</a>) ensemble in the following way:\n</p>\n<pre><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LATTICE_CONSTRAINTS\"><span style=\"color:black\">LATTICE_CONSTRAINTS</span></a>=<span><span class=\"tag-value\">.FALSE.</span> .FALSE. .TRUE.\n</span></pre>\n<p>This way the first two lattice constants are not allowed to change. The third lattice constant needs to be free to change to allow volume changes for the barostat (the system is then like a piston). The constraints are necessary for liquids in <a href=\"https://www.vasp.at/wiki/index.php/NpT_ensemble\" title=\"NpT ensemble\">NpT</a> simulations, because if all lattice degrees of freedom are allowed to relax, irreversible deformations of the cell are very likely to happen that can lead to undesirable results.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LATTICE_CONSTRAINTS\">LATTICE_CONSTRAINTS</a> is only available for molecular-dynamics calculations.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>, <a href=\"https://www.vasp.at/wiki/index.php/MDALGO\" title=\"MDALGO\" class=\"tag-link\">MDALGO</a>, <a href=\"https://www.vasp.at/wiki/index.php/Category:Interface_pinning\" title=\"Category:Interface pinning\">Interface pinning</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LATTICE_CONSTRAINTS%22_incategory:%22Examples%22\" title='Special:Search/\"LATTICE CONSTRAINTS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T09:18:57Z"}, "PARAM1": {"datatype": "real", "default": "0.1234", "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PARAM1\">PARAM1</a> determines the value corresponding to <math>\\mu</math> in the exchange GGA optB86b/B86R (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PARAM1\">GGA</a>=<span><span class=\"tag-value\">MK)</span> or </span><math>\\beta</math> in the exchange GGA optB88 (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PARAM1\">GGA</a>=<span><span class=\"tag-value\">BO)</span>.</span>", "id": 458, "info": "<div><p>Note that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PARAM1\">PARAM1</a> should be set to 0.1234 for the nonlocal optB86b-vdW functional or to 0.1833333333 for the nonlocal optB88-vdW functional.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PARAM2\" title=\"PARAM2\" class=\"tag-link\">PARAM2</a>, <a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>, <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PARAM1%22_incategory:%22Examples%22\" title='Special:Search/\"PARAM1\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:02:45Z"}, "PARAM2": {"datatype": "real", "default": "1.0", "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PARAM2\">PARAM2</a> determines the value corresponding to <math>\\kappa</math> in the exchange GGA optB86b/B86R (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PARAM2\">GGA</a>=<span><span class=\"tag-value\">MK)</span> or </span><math>\\mu</math> in the exchange GGA optB88 (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PARAM2\">GGA</a>=<span><span class=\"tag-value\">BO)</span>.</span>", "id": 459, "info": "<div><p>Note that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PARAM2\">PARAM2</a> should be set to 1.0 for the nonlocal optB86b-vdW functional, to 0.711357 for the nonlocal rev-vdW-DF2 functional or to 0.22 for the nonlocal optB88-vdW functional.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PARAM1\" title=\"PARAM1\" class=\"tag-link\">PARAM1</a>, <a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>, <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PARAM2%22_incategory:%22Examples%22\" title='Special:Search/\"PARAM2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:02:31Z"}, "LUSE_VDW": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LUSE_VDW\">LUSE_VDW</a>=<span><span class=\"tag-value\">.TRUE.</span> switches on the use of a nonlocal vdW-DF functional. These functionals depend on the electron density at two points in space and model long-range van der Waals (dispersion) correlation effects.</span></span>", "id": 460, "info": "<div><p><br>\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> In versions of VASP prior to 6.4.0, a meta-GGA functional (e.g., SCAN) could be combined only with the rVV10 nonlocal functional. Conversely, a GGA functional could be combined only with the original nonlocal functional of Dion <i>et al.</i>. This restriction is lifted since VASP.6.4.0 thanks to the introduction of the <a href=\"https://www.vasp.at/wiki/index.php/IVDW_NL\" title=\"IVDW NL\" class=\"tag-link\">IVDW_NL</a> tag.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>, <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>, <a href=\"https://www.vasp.at/wiki/index.php/IVDW_NL\" title=\"IVDW NL\" class=\"tag-link\">IVDW_NL</a>, <a href=\"https://www.vasp.at/wiki/index.php/LSPIN_VDW\" title=\"LSPIN VDW\" class=\"tag-link\">LSPIN_VDW</a>, <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LUSE_VDW%22_incategory:%22Examples%22\" title='Special:Search/\"LUSE VDW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-16T10:35:59Z"}, "OMEGAMIN": {"datatype": "real", "default": "minimum transition energy (0.05 for metals)", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OMEGAMIN\">OMEGAMIN</a> sets the minimum frequency in the frequency grid. </span>", "id": 462, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/OMEGAMAX\" title=\"OMEGAMAX\" class=\"tag-link\">OMEGAMAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/OMEGATL\" title=\"OMEGATL\" class=\"tag-link\">OMEGATL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22OMEGAMIN%22_incategory:%22Examples%22\" title='Special:Search/\"OMEGAMIN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:26:19Z"}, "SYSTEM": {"datatype": "string", "default": "unknown system", "options": {}, "summary": "The \"title string\" defined by <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SYSTEM\">SYSTEM</a> is for the user only and should help the user to identify what he/she wants to do with this specific input file.", "id": 463, "info": "<div><p>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SYSTEM\">SYSTEM</a> tag is followed by a string that possibly contains blanks. The string is read in and written to the main output file <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SYSTEM%22_incategory:%22Examples%22\" title='Special:Search/\"SYSTEM\" incategory:\"Examples\"'>Examples that use this tag</a>                         \n</p>\n</div>", "last_revised": "2022-04-06T16:05:11Z"}, "MAXMEM": {"datatype": "integer", "default": "2800 (VASP.5.4.4. and older), automatically set as of VASP.6", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMEM\">MAXMEM</a> specifies the maximum memory one MPI rank will attempt to allocate (in MByte).</span>", "id": 468, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>, <a href=\"https://www.vasp.at/wiki/index.php/ACFDT_calculations\" class=\"mw-redirect\" title=\"ACFDT calculations\">ACFDT calculations</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NTAUPAR\" title=\"NTAUPAR\" class=\"tag-link\">NTAUPAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22MAXMEM%22_incategory:%22Examples%22\" title='Special:Search/\"MAXMEM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:13:43Z"}, "LSPECTRALGW": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRALGW\">LSPECTRALGW</a> specifies to use the spectral method for calculating the self-energy.</span>", "id": 469, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRALGW\">LSPECTRALGW</a>=<span><span class=\"tag-value\">.TRUE.</span> is set, the imaginary part of the self-energy </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Sigma (\\omega )=GW}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#931;<!-- &#931; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mi>G</mi>\n        <mi>W</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Sigma (\\omega )=GW}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5d8ddb42d5716771bca8ca6edde5d795c9146355\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:12.294ex; height:2.843ex;\" alt=\"\\Sigma (\\omega )=GW\"></span> is calculated from the imaginary part of screened potential <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle W(\\omega )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>W</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle W(\\omega )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3471a08c4a9a7dba8735136565aaa085022dce1f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.69ex; height:2.843ex;\" alt=\"W(\\omega )\"></span> by shifting the poles of\n<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle W}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>W</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle W}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/54a9c4c547f4d6111f81946cad242b18298d70b7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.435ex; height:2.176ex;\" alt=\"W\"></span> by <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm \\epsilon }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n        <mi>&#1013;<!-- &#1013; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm \\epsilon }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/408c669f7186c81a8d39b07f84fbb8763e1daf15\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.752ex; height:2.176ex;\" alt=\"\\pm \\epsilon \"></span>, where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#1013;<!-- &#1013; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c3837cad72483d97bcdde49c85d3b7b859fb3fd2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.944ex; height:1.676ex;\" alt=\"\\epsilon \"></span> are the poles of the Green's function <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>G</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f5f3c8921a3b352de45446a6789b104458c9f90b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.827ex; height:2.176ex;\" alt=\"G\"></span>.\nGenerally, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRALGW\">LSPECTRALGW</a> affects the compute time very little. QP energies also hardly\nchange when <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRALGW\">LSPECTRALGW</a>  is modified.\nHowever, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRALGW\">LSPECTRALGW</a>=<span><span class=\"tag-value\">.TRUE.</span> is usually slightly more robust,\nand should be selected for molecules and other systems with flat dispersion-less bands.  \nOne the other hand, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPECTRALGW\">LSPECTRALGW</a>=<span><span class=\"tag-value\">.TRUE.</span> seems to converge slightly slower, \nas the complex shift </span><a href=\"https://www.vasp.at/wiki/index.php/CSHIFT\" title=\"CSHIFT\" class=\"tag-link\">CSHIFT</a> is decreased. Set this flag, if the QP energies\nshow erratic behavior, for instance, if QP energies or Z-factors are not in the expected\nrange of values (0.5&lt;Z&lt;0.9).\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LSPECTRAL\" title=\"LSPECTRAL\" class=\"tag-link\">LSPECTRAL</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSPECTRALGW%22_incategory:%22Examples%22\" title='Special:Search/\"LSPECTRALGW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:12:06Z"}, "NMAXFOCKAE": {"datatype": "integer", "default": "1", "options": {"2": null, "1": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NMAXFOCKAE\">NMAXFOCKAE</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NMAXFOCKAE\">LMAXFOCKAE</a> determine whether </span>", "id": 470, "info": "<div><h2><span class=\"mw-headline\" id=\"Detailed_Discussion\">Detailed Discussion</span></h2>\n<p>In the PAW method, the difference between the charge density of the all-electron partial waves <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\phi _{\\beta }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\phi _{\\beta }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8beae3af4f52166fa996066900cc52ddbba48157\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:2.56ex; height:2.843ex;\" alt=\"\\phi _{\\beta }\"></span> and\nthe pseudo partial waves <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {\\phi }}_{\\beta }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {\\phi }}_{\\beta }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ec04fe52e1d042844ad81834eae76e010d2d1cd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:2.642ex; height:3.509ex;\" alt=\"{\\tilde  \\phi }_{\\beta }\"></span>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })=\\phi _{\\alpha }^{*}({\\mathbf {r} })\\phi _{\\beta }({\\mathbf {r} })-{\\tilde {\\phi }}_{\\alpha }^{*}({\\mathbf {r} }){\\tilde {\\phi }}_{\\beta }({\\mathbf {r} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msubsup>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })=\\phi _{\\alpha }^{*}({\\mathbf {r} })\\phi _{\\beta }({\\mathbf {r} })-{\\tilde {\\phi }}_{\\alpha }^{*}({\\mathbf {r} }){\\tilde {\\phi }}_{\\beta }({\\mathbf {r} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cf55250eb0fa292468779d03a1ba8316ef3277d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:35.182ex; height:3.676ex;\" alt=\"Q_{{\\alpha \\beta }}({{\\mathbf  r}})=\\phi _{\\alpha }^{*}({{\\mathbf  r}})\\phi _{\\beta }({{\\mathbf  r}})-{\\tilde  \\phi }_{\\alpha }^{*}({{\\mathbf  r}}){\\tilde  \\phi }_{\\beta }({{\\mathbf  r}})\"></span>\n</p><p>is usually treated on spherical grids centered at each atom\n(one-center terms inside the PAW spheres, see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a> and more detailed description for <a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>).  To describe long range electrostatic effects, the <i>moments</i> of the differences of the all-electron and pseudo charge density \nalso need to be added on the plane wave grid (compensation density, see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a>).\nThese compensation charges exactly restore the moments of the all-electron density on the plane wave\ngrid. For the Fock exchange the maximum <i>L</i> quantum number up to which  \nthe augmentation is done is controlled by <a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>.\n</p><p>For the RPA, GW, and most post DFT methods, the one-center terms are, however, presently\nnot implemented. Depending on the material, this can cause sizable errors\nin particular for 3d and (to a lesser extent) 2p, 4d and 5d elements.\nTo correct for this error, an alternative treatment is implemented\non the plane wave grid for the exchange and correlation contributions. \nThis  allows to restore the all-electron densities accurately already on the plane wave grid\nby specifying the flags <b>LMAXFOCKAE</b> and <b>NMAXFOCKAE</b>. This improved\ntreatment&#8212; termed shape restoration &#8212;is available for exchange as well as many body correlation contributions.\nFor exchange, the exact one-center terms are also implemented. This means shape restoration is not required and should not change the results.\n</p><p>To achieve the improved treatment on the plane wave grid, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/96dcfa4f35fd419c4b9ee691deb1d9a27dc68f95\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.976ex; height:3.009ex;\" alt=\"Q_{{\\alpha \\beta }}({{\\mathbf  r}})\"></span> is Fourier transformed  to reciprocal space <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }(q)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>q</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }(q)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7bfd4a2093607c65ef92ed8d640b4dce3ddbd006\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.943ex; height:3.009ex;\" alt=\"Q_{{\\alpha \\beta }}(q)\"></span> and then expanded\nin a set of orthogonal functions localized at each atomic site. These augmentation charges\nare then added to the pseudo charge densities on the plane wave grid. Shape restoration is only accurate up to a certain plane wave cutoff, typically about 150 eV for <b>NMAXFOCKAE</b> =1, and 400 eV for <b>NMAXFOCKAE</b> = 2. Experience shows that <b>NMAXFOCKAE</b> =1 is sufficient to predict very accurate energy differences and quite accurate quasiparticle energies.  \n</p><p><br>\n</p><p>For <b>LMAXFOCKAE</b>=-1 (the default for DFT and Hartree-Fock calculations), only the moments of the all-electron charge densities are restored on the plane wave grid. This is the default for Hartree-Fock calculations, and the setting is very precise since for Hartree-Fock the one-center terms are implemented in radial grids as for DFT. \n</p><p>If <b>LMAXFOCKAE</b> is set to values larger than -1 (and <b>NMAXFOCKAE</b>=1), not only the moments of the all-electron charge density are restored on the plane wave grid, but also the all-electron charge density is restored up to a typical plane wave energy of 150 eV (controlled by <a href=\"https://www.vasp.at/wiki/index.php/QMAXFOCKAE\" title=\"QMAXFOCKAE\" class=\"tag-link\">QMAXFOCKAE</a>). This setting yields very accurate results for post DFT methods (MP2, RPA, GW, etc.) for most sp bonded materials.  <b>LMAXFOCKAE</b> is used to specify the maximum spherical (<i>L</i>) quantum number up \nto which this more accurate treatment is used. The default is <b>LMAXFOCKAE</b>=4 for post DFT methods.\nIf no accurate augmentation is desired by the user, simply set <b>LMAXFOCKAE</b>=-1 in the INCAR file.\n</p><p>If <b>LMAXFOCKAE</b> is set to values larger than -1 and <b>NMAXFOCKAE</b>=2, the charge density is restored accurately on the plane wave grid up to a typical plane wave energy of 400 eV. As before,  <b>LMAXFOCKAE</b> can be used to specify the maximum spherical (<i>L</i>) quantum number up \nto which this more accurate treatment is used.  <b>NMAXFOCKAE</b>=2 yields very accurate results for \npost DFT methods (MP2, RPA, GW) even for difficult 3d elements. For RPA and MP2 total energy calculations, differences between <b>NMAXFOCKAE</b>=1 and <b>NMAXFOCKAE</b>=2 are usually tiny for total energy differences. Since the absolute correlation energies might change, it is, however, vital to use the same setting for\n<b>NMAXFOCKAE</b> and <b>LMAXFOCKAE</b>, if energy differences are calculated. \nFor GW calculations, increasing  <b>NMAXFOCKAE</b> from 1 to 2 might change QP energies by 100-200 meV for 3d and late 4d and 5d elements. Despite the improve precision, <b>NMAXFOCKAE</b>=2 should be used with great caution. Specifically, noise and egg-box effects are introduced as <b>NMAXFOCKAE</b> is increased. So use\nthis flag only after extensive tests.\n</p><p>The setting for <b>LMAXFOCKAE</b> should be also considered carefully. Generally, it suffices to set <b>LMAXFOCKAE</b> to twice the maximum <i>l</i> quantum number found in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file.\nFor instance for sp elements, <b>LMAXFOCKAE</b>= 2 suffices. For d elements, <b>LMAXFOCKAE</b>= 4 suffices\n(a d electron can create charge densities with <i>L</i>-quantum numbers up to 4), whereas for f elements, users\nshould test whether <b>LMAXFOCKAE</b>= 6 is required.\n</p><p>More details on shape restoration are explained in Ref.<sup id=\"cite_ref-shishkin:prb:2006_1-0\" class=\"reference\"><a href=\"#cite_note-shishkin:prb:2006-1\">[1]</a></sup> and <sup id=\"cite_ref-unzog:prb:2022_2-0\" class=\"reference\"><a href=\"#cite_note-unzog:prb:2022-2\">[2]</a></sup>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Usefull_Settings\">Usefull Settings</span></h2>\n<p>In summary, useful manual settings of <b>NMAXFOCKAE</b>  and <b>LMAXFOCKAE</b> are:\n</p>\n<ul><li><b>LMAXFOCKAE</b>=-1, to switch off the accurate augmentation altogether (reduces noise in correlation energies).</li>\n<li><b>LMAXFOCKAE</b>=4 (or larger) to force an accurate treatment for the charge augmentation on the plane wave grid (can be selected even in Hartree-Fock type calculations, but causes some additional noise).</li>\n<li><b>NMAXFOCKAE</b>=2, to select the very accurate augmentation on the plane wave grid. Please check whether the VASP default setting for <b>LMAXFOCKAE</b> suffices (OUTCAR file). Use this setting only with care, as it can result in very noisy data for coarse FFT grids.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>, <a href=\"https://www.vasp.at/wiki/index.php/QMAXFOCKAE\" title=\"QMAXFOCKAE\" class=\"tag-link\">QMAXFOCKAE</a>, <a href=\"https://www.vasp.at/wiki/index.php/LFOCKAEDFT\" title=\"LFOCKAEDFT\" class=\"tag-link\">LFOCKAEDFT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NMAXFOCKAE%22_incategory:%22Examples%22\" title='Special:Search/\"NMAXFOCKAE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:49:51Z"}, "QMAXFOCKAE": {"datatype": "real array", "default": null, "options": {}, "summary": "The parameter <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/QMAXFOCKAE\">QMAXFOCKAE</a> controls at which wave vectors the local augmentation", "id": 471, "info": "<div><p>We do not recommend setting these tags manually, except after careful inspection\nof the VASP code (fast_aug.F). The default values are 6.0 &#197;<sup>-1</sup> \nif <a href=\"https://www.vasp.at/wiki/index.php/NMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"NMAXFOCKAE\">NMAXFOCKAE</a>=<span><span class=\"tag-value\">1</span> (corresponding to 140 eV), and 5.0 and 10 &#197;</span><sup>-1</sup> (corresponding to 95 eV and 380 eV)\nfor <a href=\"https://www.vasp.at/wiki/index.php/NMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"NMAXFOCKAE\">NMAXFOCKAE</a>=<span><span class=\"tag-value\">2</span>.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"NMAXFOCKAE\">NMAXFOCKAE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"LMAXFOCKAE\">LMAXFOCKAE</a>, <a href=\"https://www.vasp.at/wiki/index.php/LFOCKAEDFT\" title=\"LFOCKAEDFT\" class=\"tag-link\">LFOCKAEDFT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22QMAXFOCKAE%22_incategory:%22Examples%22\" title='Special:Search/\"QMAXFOCKAE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-06T15:45:54Z"}, "LFOCKAEDFT": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LFOCKAEDFT\">LFOCKAEDFT</a> forces VASP to use the same charge augmentation </span>", "id": 472, "info": "<div><p>This flag should be set only in exceptional cases. The Hartree as well\nas the DFT part are usually calculated very accurately using the one-centre\nPAW spheres. Restoring the all-electron charge accurately on the plane\nwave grid adds potentially noise, but should not change the results (relative energies,\nforces etc.).\nThe flag, however, needs to be set for optimized potential methods, which\nare supported by VASP but not documented yet.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"LMAXFOCKAE\">LMAXFOCKAE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"NMAXFOCKAE\">NMAXFOCKAE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/QMAXFOCKAE\" title=\"QMAXFOCKAE\" class=\"tag-link\">QMAXFOCKAE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LFOCKAEDFT%22_incategory:%22Examples%22\" title='Special:Search/\"LFOCKAEDFT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:04:40Z"}, "NMAXFOCKAE_and_LMAXFOCKAE": {"datatype": null, "default": "1", "options": {}, "summary": "<b>NMAXFOCKAE</b> and <b>LMAXFOCKAE</b> determine whether", "id": 474, "info": "<div><h2><span class=\"mw-headline\" id=\"Detailed_Discussion\">Detailed Discussion</span></h2>\n<p>In the PAW method, the difference between the charge density of the all-electron partial waves <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\phi _{\\beta }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\phi _{\\beta }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8beae3af4f52166fa996066900cc52ddbba48157\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:2.56ex; height:2.843ex;\" alt=\"\\phi _{\\beta }\"></span> and\nthe pseudo partial waves <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {\\phi }}_{\\beta }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {\\phi }}_{\\beta }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7ec04fe52e1d042844ad81834eae76e010d2d1cd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:2.642ex; height:3.509ex;\" alt=\"{\\tilde  \\phi }_{\\beta }\"></span>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })=\\phi _{\\alpha }^{*}({\\mathbf {r} })\\phi _{\\beta }({\\mathbf {r} })-{\\tilde {\\phi }}_{\\alpha }^{*}({\\mathbf {r} }){\\tilde {\\phi }}_{\\beta }({\\mathbf {r} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msubsup>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })=\\phi _{\\alpha }^{*}({\\mathbf {r} })\\phi _{\\beta }({\\mathbf {r} })-{\\tilde {\\phi }}_{\\alpha }^{*}({\\mathbf {r} }){\\tilde {\\phi }}_{\\beta }({\\mathbf {r} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cf55250eb0fa292468779d03a1ba8316ef3277d3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:35.182ex; height:3.676ex;\" alt=\"Q_{{\\alpha \\beta }}({{\\mathbf  r}})=\\phi _{\\alpha }^{*}({{\\mathbf  r}})\\phi _{\\beta }({{\\mathbf  r}})-{\\tilde  \\phi }_{\\alpha }^{*}({{\\mathbf  r}}){\\tilde  \\phi }_{\\beta }({{\\mathbf  r}})\"></span>\n</p><p>is usually treated on spherical grids centered at each atom\n(one-center terms inside the PAW spheres, see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a> and more detailed description for <a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>).  To describe long range electrostatic effects, the <i>moments</i> of the differences of the all-electron and pseudo charge density \nalso need to be added on the plane wave grid (compensation density, see <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a>).\nThese compensation charges exactly restore the moments of the all-electron density on the plane wave\ngrid. For the Fock exchange the maximum <i>L</i> quantum number up to which  \nthe augmentation is done is controlled by <a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>.\n</p><p>For the RPA, GW, and most post DFT methods, the one-center terms are, however, presently\nnot implemented. Depending on the material, this can cause sizable errors\nin particular for 3d and (to a lesser extent) 2p, 4d and 5d elements.\nTo correct for this error, an alternative treatment is implemented\non the plane wave grid for the exchange and correlation contributions. \nThis  allows to restore the all-electron densities accurately already on the plane wave grid\nby specifying the flags <b>LMAXFOCKAE</b> and <b>NMAXFOCKAE</b>. This improved\ntreatment&#8212; termed shape restoration &#8212;is available for exchange as well as many body correlation contributions.\nFor exchange, the exact one-center terms are also implemented. This means shape restoration is not required and should not change the results.\n</p><p>To achieve the improved treatment on the plane wave grid, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }({\\mathbf {r} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/96dcfa4f35fd419c4b9ee691deb1d9a27dc68f95\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.976ex; height:3.009ex;\" alt=\"Q_{{\\alpha \\beta }}({{\\mathbf  r}})\"></span> is Fourier transformed  to reciprocal space <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Q_{\\alpha \\beta }(q)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Q</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>q</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Q_{\\alpha \\beta }(q)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7bfd4a2093607c65ef92ed8d640b4dce3ddbd006\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.943ex; height:3.009ex;\" alt=\"Q_{{\\alpha \\beta }}(q)\"></span> and then expanded\nin a set of orthogonal functions localized at each atomic site. These augmentation charges\nare then added to the pseudo charge densities on the plane wave grid. Shape restoration is only accurate up to a certain plane wave cutoff, typically about 150 eV for <b>NMAXFOCKAE</b> =1, and 400 eV for <b>NMAXFOCKAE</b> = 2. Experience shows that <b>NMAXFOCKAE</b> =1 is sufficient to predict very accurate energy differences and quite accurate quasiparticle energies.  \n</p><p><br>\n</p><p>For <b>LMAXFOCKAE</b>=-1 (the default for DFT and Hartree-Fock calculations), only the moments of the all-electron charge densities are restored on the plane wave grid. This is the default for Hartree-Fock calculations, and the setting is very precise since for Hartree-Fock the one-center terms are implemented in radial grids as for DFT. \n</p><p>If <b>LMAXFOCKAE</b> is set to values larger than -1 (and <b>NMAXFOCKAE</b>=1), not only the moments of the all-electron charge density are restored on the plane wave grid, but also the all-electron charge density is restored up to a typical plane wave energy of 150 eV (controlled by <a href=\"https://www.vasp.at/wiki/index.php/QMAXFOCKAE\" title=\"QMAXFOCKAE\" class=\"tag-link\">QMAXFOCKAE</a>). This setting yields very accurate results for post DFT methods (MP2, RPA, GW, etc.) for most sp bonded materials.  <b>LMAXFOCKAE</b> is used to specify the maximum spherical (<i>L</i>) quantum number up \nto which this more accurate treatment is used. The default is <b>LMAXFOCKAE</b>=4 for post DFT methods.\nIf no accurate augmentation is desired by the user, simply set <b>LMAXFOCKAE</b>=-1 in the INCAR file.\n</p><p>If <b>LMAXFOCKAE</b> is set to values larger than -1 and <b>NMAXFOCKAE</b>=2, the charge density is restored accurately on the plane wave grid up to a typical plane wave energy of 400 eV. As before,  <b>LMAXFOCKAE</b> can be used to specify the maximum spherical (<i>L</i>) quantum number up \nto which this more accurate treatment is used.  <b>NMAXFOCKAE</b>=2 yields very accurate results for \npost DFT methods (MP2, RPA, GW) even for difficult 3d elements. For RPA and MP2 total energy calculations, differences between <b>NMAXFOCKAE</b>=1 and <b>NMAXFOCKAE</b>=2 are usually tiny for total energy differences. Since the absolute correlation energies might change, it is, however, vital to use the same setting for\n<b>NMAXFOCKAE</b> and <b>LMAXFOCKAE</b>, if energy differences are calculated. \nFor GW calculations, increasing  <b>NMAXFOCKAE</b> from 1 to 2 might change QP energies by 100-200 meV for 3d and late 4d and 5d elements. Despite the improve precision, <b>NMAXFOCKAE</b>=2 should be used with great caution. Specifically, noise and egg-box effects are introduced as <b>NMAXFOCKAE</b> is increased. So use\nthis flag only after extensive tests.\n</p><p>The setting for <b>LMAXFOCKAE</b> should be also considered carefully. Generally, it suffices to set <b>LMAXFOCKAE</b> to twice the maximum <i>l</i> quantum number found in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file.\nFor instance for sp elements, <b>LMAXFOCKAE</b>= 2 suffices. For d elements, <b>LMAXFOCKAE</b>= 4 suffices\n(a d electron can create charge densities with <i>L</i>-quantum numbers up to 4), whereas for f elements, users\nshould test whether <b>LMAXFOCKAE</b>= 6 is required.\n</p><p>More details on shape restoration are explained in Ref.<sup id=\"cite_ref-shishkin:prb:2006_1-0\" class=\"reference\"><a href=\"#cite_note-shishkin:prb:2006-1\">[1]</a></sup> and <sup id=\"cite_ref-unzog:prb:2022_2-0\" class=\"reference\"><a href=\"#cite_note-unzog:prb:2022-2\">[2]</a></sup>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Usefull_Settings\">Usefull Settings</span></h2>\n<p>In summary, useful manual settings of <b>NMAXFOCKAE</b>  and <b>LMAXFOCKAE</b> are:\n</p>\n<ul><li><b>LMAXFOCKAE</b>=-1, to switch off the accurate augmentation altogether (reduces noise in correlation energies).</li>\n<li><b>LMAXFOCKAE</b>=4 (or larger) to force an accurate treatment for the charge augmentation on the plane wave grid (can be selected even in Hartree-Fock type calculations, but causes some additional noise).</li>\n<li><b>NMAXFOCKAE</b>=2, to select the very accurate augmentation on the plane wave grid. Please check whether the VASP default setting for <b>LMAXFOCKAE</b> suffices (OUTCAR file). Use this setting only with care, as it can result in very noisy data for coarse FFT grids.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCK\" title=\"LMAXFOCK\" class=\"tag-link\">LMAXFOCK</a>, <a href=\"https://www.vasp.at/wiki/index.php/QMAXFOCKAE\" title=\"QMAXFOCKAE\" class=\"tag-link\">QMAXFOCKAE</a>, <a href=\"https://www.vasp.at/wiki/index.php/LFOCKAEDFT\" title=\"LFOCKAEDFT\" class=\"tag-link\">LFOCKAEDFT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NMAXFOCKAE%22_incategory:%22Examples%22\" title='Special:Search/\"NMAXFOCKAE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-03-29T12:17:31Z"}, "CLNT": {"datatype": "integer", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CLNT\">CLNT</a> selects for which species the core levels are calculated using the tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CLNT\">ICORELEVEL</a>.</span>", "id": 482, "info": "<div><p>This option is only used if <a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>=<span><span class=\"tag-value\">2</span> is set.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLN\" title=\"CLN\" class=\"tag-link\">CLN</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLL\" title=\"CLL\" class=\"tag-link\">CLL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\">CLZ</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CLNT%22_incategory:%22Examples%22\" title='Special:Search/\"CLNT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:56:31Z"}, "CLN": {"datatype": "integer", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CLN\">CLN</a> selects the main quantum number of the excited electron when using <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CLN\">ICORELEVEL</a>.</span>", "id": 483, "info": "<div><p>This option is only used if <a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>=<span><span class=\"tag-value\">2</span> is set.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\">CLNT</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLL\" title=\"CLL\" class=\"tag-link\">CLL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\">CLZ</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CLN%22_incategory:%22Examples%22\" title='Special:Search/\"CLN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:56:17Z"}, "CLL": {"datatype": "integer", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CLL\">CLL</a> selects the angular (l) quantum number of the excited electron when using <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CLL\">ICORELEVEL</a>.</span>", "id": 484, "info": "<div><p>This option is only used if <a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>=<span><span class=\"tag-value\">2</span> is set.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\">CLNT</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLN\" title=\"CLN\" class=\"tag-link\">CLN</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\">CLZ</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CLL%22_incategory:%22Examples%22\" title='Special:Search/\"CLL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:56:02Z"}, "CLZ": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CLZ\">CLZ</a> selects the electron count of the excited electron when using <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CLZ\">ICORELEVEL</a>.</span>", "id": 485, "info": "<div><p>This option is only used if <a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>=<span><span class=\"tag-value\">2</span> is set.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\">CLNT</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLN\" title=\"CLN\" class=\"tag-link\">CLN</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLL\" title=\"CLL\" class=\"tag-link\">CLL</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CLZ%22_incategory:%22Examples%22\" title='Special:Search/\"CLZ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:56:45Z"}, "LLRAUG": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LLRAUG\">LLRAUG</a> calculates the two-center contributions to the chemical shift tensor.</span>", "id": 540, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LLRAUG\">LLRAUG</a> switches on two-center contributions to the NMR chemical shift tensor.\nThese are contributions due to the augmentation\ncurrents in other PAW spheres than the sphere with the atom for which the shift tensor is calculated.\nTypically these contributions are safely neglected.\nIt makes sense to include them for accurate calculations with hard potentials (<tt>*_h</tt>)\non systems containing also (non-hydrogen) atoms from the top rows of the periodic\ntable (B, C, N, O, F), typically with short bonds, e.g. C<sub>2</sub>H<sub>2</sub>, where\neffects up to a few ppm are possible. Effects are most significant for the H shift. For such systems using standard potentials\ntypically introduces larger inaccuracies. The two-center contributions are calculated using\na multipole expansion of the current density that is represented on the plane wave grid.<sup id=\"cite_ref-dewijs:jcp:17_1-0\" class=\"reference\"><a href=\"#cite_note-dewijs:jcp:17-1\">[1]</a></sup>\nThe relevance of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LLRAUG\">LLRAUG</a> to achieve basis-set completeness for shieldings is discussed in \nRef.<sup id=\"cite_ref-dewijs:jcp:18_2-0\" class=\"reference\"><a href=\"#cite_note-dewijs:jcp:18-2\">[2]</a></sup> that compares to basis-set converged quantum chemical calculations.<sup id=\"cite_ref-jenssen:jcp:nmr_3-0\" class=\"reference\"><a href=\"#cite_note-jenssen:jcp:nmr-3\">[3]</a></sup>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-dewijs:jcp:17-1\"><a href=\"#cite_ref-dewijs:jcp:17_1-0\">&#8593;</a> <span class=\"reference-text\">As in Sec. III.A.3 of <a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://aip.scitation.org/doi/10.1063/1.4810799\">F. Vasconcelos, G.A. de Wijs, R. W. A. Havenith, M. Marsman, G. Kresse, J. Chem. Phys. 139, 014109 (2013).</a></span>\n</li>\n<li id=\"cite_note-dewijs:jcp:18-2\"><a href=\"#cite_ref-dewijs:jcp:18_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://aip.scitation.org/doi/10.1063/5.0069637\">G.A. de Wijs, G. Kresse, R. W. A. Havenith, M. Marsman, J. Chem. Phys. 155, 234101 (2021).</a></span>\n</li>\n<li id=\"cite_note-jenssen:jcp:nmr-3\"><a href=\"#cite_ref-jenssen:jcp:nmr_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1039/C6CP01294A\">S.R. Jensen, T. Fl&#229;, D. Jonsson, R.S. Monstad, K. Ruud, L. Frediani, Phys. Chem. Chem. Phys. 18, 21145 (2016).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-28T14:29:07Z"}, "LBONE": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LBONE\">LBONE</a> adds the small <i>B</i>-component to the chemical shift tensor.</span>", "id": 541, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LBONE\">LBONE</a> restores the small <i>B</i>-component of the wave function inside\nthe PAW spheres in the linear-response calculation of the NMR chemical shift\ntensor. The POTCARs used in VASP are scalar-relativistic and the\nAE-partial waves are solutions of the scalar-relativistic Kohn-Sham\nequation for the spherical atom. These have a large (<i>A</i>) and a small (<i>B</i>) component.\nThe latter is not retained on the POTCAR, but approximately restored when <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LBONE\">LBONE</a>=<span class=\"tag-value\">.TRUE.</span><sup id=\"cite_ref-dewijs:jcp:17_1-0\" class=\"reference\"><a href=\"#cite_note-dewijs:jcp:17-1\">[1]</a></sup>\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LBONE\">LBONE</a> only affects the one-center valence contributions to the chemical shift. The contribution of the core electrons includes the <i>B</i>-component by default.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articless\">Related tags and articless</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-dewijs:jcp:17-1\"><a href=\"#cite_ref-dewijs:jcp:17_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://aip.scitation.org/doi/10.1063/1.4975122\">G. A. de Wijs, R. Laskowski, P. Blaha, R. W. A. Havenith, G. Kresse, M. Marsman, J. Chem. Phys. 146, 064115 (2017).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-12-12T15:04:46Z"}, "NTAUPAR": {"datatype": "integer", "default": [["depends on <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/MAXMEM\">MAXMEM</a>", "used in low scaling <a href=\"https://www.vasp.at/wiki/index.php/GW_approximation_of_Hedin%27s_equations%23lowGW\">GW</a> and RPA/ACFDT calculations."]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTAUPAR\">NTAUPAR</a> available as of VASP.6, specifies the number of MPI groups sharing same imaginary time grid points. The default value of NTAUPAR is set to the largest possible value supported on the compute nodes to speed up the GW or RPA calculation.</span>", "id": 551, "info": "<div><p>NTAUPAR has the biggest impact on memory usage as well as total runtime for low-scaling GW and RPA calculations. If not found in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>, NTAUPAR is set automatically based on the value of <a href=\"https://www.vasp.at/wiki/index.php/MAXMEM\" title=\"MAXMEM\" class=\"tag-link\">MAXMEM</a> (the available memory for each rank on each compute node), such that the GW and RPA job fits in the RAM on each compute node. \n</p><p>If <a href=\"https://www.vasp.at/wiki/index.php/MAXMEM\" title=\"MAXMEM\" class=\"tag-link\">MAXMEM</a> is not set, VASP looks in \"/proc/meminfo\" for \"MemAvailable\" to set <a href=\"https://www.vasp.at/wiki/index.php/MAXMEM\" title=\"MAXMEM\" class=\"tag-link\">MAXMEM</a> internally, otherwise the code uses the value provided in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>. \n</p><p>NTAUPAR=<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a> is the maximum value possible, while NTAUPAR=1 is the smallest possible value. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NOMEGAPAR\" title=\"NOMEGAPAR\" class=\"tag-link\">NOMEGAPAR</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NTAUPAR%22_incategory:%22Examples%22\" title='Special:Search/\"NTAUPAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:24:37Z"}, "NOMEGAPAR": {"datatype": "integer", "default": [["NOMEGA", "used in low scaling <a href=\"https://www.vasp.at/wiki/index.php/GW_approximation_of_Hedin%27s_equations%23lowGW\">GW</a> and RPA/ACFDT calculations."]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGAPAR\">NOMEGAPAR</a> available as of VASP.6, specifies the number of processor groups sharing the same imaginary frequency grid points.</span>", "id": 552, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NTAUPAR\" title=\"NTAUPAR\" class=\"tag-link\">NTAUPAR</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NOMEGAPAR%22_incategory:%22Examples%22\" title='Special:Search/\"NOMEGAPAR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:23:11Z"}, "NBSEEIG": {"datatype": "integer", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBSEEIG\">NBSEEIG</a> sets the number of BSE eigenvectors written to the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BSEFATBAND\">BSEFATBAND</a> output file.</span>", "id": 571, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBSEEIG\">NBSEEIG</a>=<span class=\"tag-value\">[integer]</span><br> Default: <b>NBSEEIG</b> = 1&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBSEEIG\">NBSEEIG</a> sets the number of BSE eigenvectors written to the <a href=\"https://www.vasp.at/wiki/index.php/BSEFATBAND\" title=\"BSEFATBAND\" class=\"tag-link\">BSEFATBAND</a> output file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_sections\">Related tags and sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/BSE\" class=\"mw-redirect tag-link\" title=\"BSE\">BSE</a>, <a href=\"https://www.vasp.at/wiki/index.php/BSEFATBAND\" title=\"BSEFATBAND\" class=\"tag-link\">BSEFATBAND</a>, <a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NBSEEIG%22_incategory:%22Examples%22\" title='Special:Search/\"NBSEEIG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-20T07:53:04Z"}, "HITOLER": {"datatype": "real", "default": "5E-5", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HITOLER\">HITOLER</a> specifies the convergence parameter for the iterative Hirschfeld partitioning in the Tkatchenko-Scheffler method.</span>", "id": 573, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LVDW\" class=\"mw-redirect tag-link\" title=\"LVDW\">LVDW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler method</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method_with_iterative_Hirshfeld_partitioning\" title=\"Tkatchenko-Scheffler method with iterative Hirshfeld partitioning\">Tkatchenko-Scheffler method with iterative Hirshfeld partitioning</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Many-body_dispersion_energy\" title=\"Many-body dispersion energy\">Many-body dispersion energy</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DDsC_dispersion_correction\" title=\"DDsC dispersion correction\">dDsC dispersion correction</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22HITOLER%22_incategory:%22Examples%22\" title='Special:Search/\"HITOLER\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-20T08:46:31Z"}, "LORBMOM": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LORBMOM\">LORBMOM</a> specifies whether the orbital moments are written out or not (in a calculation using <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LORBMOM\">LSORBIT</a>=<span><span class=\"tag-value\">.TRUE.</span>).</span></span>", "id": 575, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LORBMOM\">LORBMOM</a>=<span><span class=\"tag-value\">.TRUE.</span> is set VASP will  use the projectors of the PAW potentials to calculate the\norbital moment within the PAW spheres, and write them to the </span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LORBIT\" title=\"LORBIT\" class=\"tag-link\">LORBIT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LORBMOM%22_incategory:%22Examples%22\" title='Special:Search/\"LORBMOM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:39:03Z"}, "LVDWEXPANSION": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVDWEXPANSION\">LVDWEXPANSION</a> decides whether to write the two- to six- body contributions to MBD dispersion energy in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OUTCAR\">OUTCAR</a> file.</span>", "id": 576, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IVDW\" title=\"IVDW\" class=\"tag-link\">IVDW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Many-body_dispersion_energy\" title=\"Many-body dispersion energy\">Many-body dispersion energy</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCSGRAD\" title=\"LSCSGRAD\" class=\"tag-link\">LSCSGRAD</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LVDWEXPANSION%22_incategory:%22Examples%22\" title='Special:Search/\"LVDWEXPANSION\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:41:43Z"}, "LSCSGRAD": {"datatype": "boolean", "default": ".TRUE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCSGRAD\">LSCSGRAD</a> decides whether to compute gradients in the calculation of the MBD dispersion energy or the SCS contribution.</span>", "id": 577, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IVDW\" title=\"IVDW\" class=\"tag-link\">IVDW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Many-body_dispersion_energy\" title=\"Many-body dispersion energy\">Many-body dispersion energy</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Self-consistent_screening_in_Tkatchenko-Scheffler_method\" title=\"Self-consistent screening in Tkatchenko-Scheffler method\">Self-consistent screening in Tkatchenko-Scheffler method</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LVDWEXPANSION\" title=\"LVDWEXPANSION\" class=\"tag-link\">LVDWEXPANSION</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LVDWEXPANSION%22_incategory:%22Examples%22\" title='Special:Search/\"LVDWEXPANSION\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:38:46Z"}, "SCSRAD": {"datatype": "real", "default": "120", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/SCSRAD\">SCSRAD</a> defines the cutoff radius (in <math>\\AA</math>) used in the calculation of <math>$\\tau_{ij}$</math> within the Tkatchenko-Scheffler method {{TAG|Self-consistent screening in Tkatchenko-Scheffler method}}.</span>", "id": 578, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Self-consistent_screening_in_Tkatchenko-Scheffler_method\" title=\"Self-consistent screening in Tkatchenko-Scheffler method\">Self-consistent screening in Tkatchenko-Scheffler method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22SCSRAD%22_incategory:%22Examples%22\" title='Special:Search/\"SCSRAD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:54:39Z"}, "VDW_RADIUS": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_RADIUS\">VDW_RADIUS</a> defines the cutoff radius (in <math>\\AA</math>) for the pair interactions used in the {{TAG|DFT-D2}} and {{TAG|DFT-D3}} method.</span>", "id": 579, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_RADIUS%22_incategory:%22Examples%22\" title='Special:Search/\"VDW RADIUS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:29Z"}, "VDW_S6": {"datatype": "real", "default": "0.75", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_S6\">VDW_S6</a> defines the global scaling factor <math>s_{6}</math> in the {{TAG|DFT-D2}} method.</span>", "id": 580, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_S6%22_incategory:%22Examples%22\" title='Special:Search/\"VDW S6\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:36Z"}, "VDW_S8": {"datatype": "real", "default": "1.0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_S8\">VDW_S8</a> defines the damping function parameter <math>s_{8}</math> in the {{TAG|DFT-D3}} method.</span>", "id": 581, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_S8%22_incategory:%22Examples%22\" title='Special:Search/\"VDW S8\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:43Z"}, "VDW_CNRADIUS": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_CNRADIUS\">VDW_CNRADIUS</a> defines the cutoff radius (in <math>\\AA</math>) for the calculation of the coordination numbers used in the {{TAG|DFT-D3}} method.</span>", "id": 582, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_CNRADIUS%22_incategory:%22Examples%22\" title='Special:Search/\"VDW CNRADIUS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:46:52Z"}, "VDW_A1": {"datatype": "real", "default": "1.0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_A1\">VDW_A1</a> defines the damping function parameter <math>a_{1}</math> in the {{TAG|DFT-D3}} method.</span>", "id": 583, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_A1%22_incategory:%22Examples%22\" title='Special:Search/\"VDW A1\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:45:59Z"}, "VDW_A2": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_A2\">VDW_A2</a> defines the damping function parameter <math>a_{2}</math> in the {{TAG|DFT-D3}} method.</span>", "id": 584, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_A2%22_incategory:%22Examples%22\" title='Special:Search/\"VDW A2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:46:07Z"}, "VDW_SR": {"datatype": "real", "default": "1.0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_SR\">VDW_SR</a> defines the damping function parameter <math>s_{R}</math> (or scaling factor) in the {{TAG|DFT-D2}} and {{TAG|DFT-D3}} method.</span>", "id": 585, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/DFT-D3\" title=\"DFT-D3\" class=\"tag-link\">DFT-D3</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_SR%22_incategory:%22Examples%22\" title='Special:Search/\"VDW SR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:50Z"}, "VDW_D": {"datatype": "real", "default": "20", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_D\">VDW_D</a> defines the damping parameter <math>d</math> in the {{TAG|DFT-D2}} method.</span>", "id": 587, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_D%22_incategory:%22Examples%22\" title='Special:Search/\"VDW D\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:28:00Z"}, "VDW_C6": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_C6\">VDW_C6</a> defines the <math>C_6</math> parameters (<math>\\mathrm{Jnm}^{6}\\mathrm{mol}^{-1}</math>) for each species defined in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_C6\">POSCAR</a> file within the {{TAG|DFT-D2}} and <a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\">Tkatchenko-Scheffler</a> methods.</span>", "id": 588, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>\n<a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler_method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_C6%22_incategory:%22Examples%22\" title='Special:Search/\"VDW C6\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:46:36Z"}, "VDW_R0": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_R0\">VDW_R0</a> defines the <math>R_0</math> parameters (<math>\\AA</math>) for each species defined in the {{TAG|DFT-D2}} and <a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\">Tkatchenko-Scheffler</a> methods.</span>", "id": 589, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>\n<a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler_method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_R0%22_incategory:%22Examples%22\" title='Special:Search/\"VDW R0\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:11Z"}, "LVDW_EWALD": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVDW_EWALD\">LVDW_EWALD</a> decides whether lattice summation in <math>E_{disp}</math> expression by means of Ewald's summation is computed in the pairwise van der Waals corrections schemes, including   </span>", "id": 590, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/DFT-D2\" title=\"DFT-D2\" class=\"tag-link\">DFT-D2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LVDW_EWALD%22_incategory:%22Examples%22\" title='Special:Search/\"LVDW EWALD\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-10-04T13:27:23Z"}, "IEPSILON": {"datatype": "integer", "default": null, "options": {"1": null, "2": null, "3": null, "4": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IEPSILON\">IEPSILON</a> determines along which Cartesian direction the E field is applied.</span>", "id": 595, "info": "<div><ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IEPSILON\">IEPSILON</a>=<span><span class=\"tag-value\">1</span> x direction</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IEPSILON\">IEPSILON</a>=<span><span class=\"tag-value\">2</span> y direction</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IEPSILON\">IEPSILON</a>=<span><span class=\"tag-value\">3</span> z direction</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IEPSILON\">IEPSILON</a>=<span><span class=\"tag-value\">4</span> x, y and z direction; three indpendent calculations are performed</span></li></ul>\n<div class=\"alert alert-primary\" role=\"alert\"><h5 class=\"alert-heading\">Important:</h5> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IEPSILON\">IEPSILON</a> only applies to the time-propagation algorithm.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IEPSILON%22_incategory:%22Examples%22\" title='Special:Search/\"IEPSILON\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T12:02:07Z"}, "CH_LSPEC": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "This flag controls whether the imaginary part of the dielectric function for a selected core electron is calculated and written to the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/OUTCAR\">OUTCAR</a> file or not.", "id": 603, "info": "<div><p>How to calculate XAS spectra from core-hole calculations is explained here:  <a href=\"https://www.vasp.at/wiki/index.php/SCH_calculations\" title=\"SCH calculations\">SCH calculations</a>.\n</p><p>This feature is only available from VASP version 6.0 or higher.\n</p><p>The broadening type of the spectrum is controlled by <a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a> and the broadening in eV is set by <a href=\"https://www.vasp.at/wiki/index.php/CH_SIGMA\" title=\"CH SIGMA\" class=\"tag-link\">CH_SIGMA</a>. We recommend to use a very small Gaussian broadening <a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>=<span><span class=\"tag-value\">0</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/CH_SIGMA\" title=\"CH SIGMA\" class=\"tag-link\">CH_SIGMA</a><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\leq }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8804;<!-- &#8804; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\leq }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/440568a09c3bfdf0e1278bfa79eb137c04e94035\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:1.808ex; height:2.176ex;\" alt=\"\\leq \"></span>0.001 in the calculations and broaden the spectrum in post processing. If another type of <a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a> is required for the electronic calculation, one can run that in a first step and use the converged <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> from that step together with <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<i>None</i> and <a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>=<span><span class=\"tag-value\">0</span> in a second step to obtain the spectrum.\n</span></p><p><br>\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> For XAS calculations it is strongly recommended to use the available GW PAW potentials for the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> files, since many standard potentials don't have projectors with quantum numbers 2 or larger and the GW potentials are more exact for excited states than the standard potentials.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/CH_SIGMA\" title=\"CH SIGMA\" class=\"tag-link\">CH_SIGMA</a>, <a href=\"https://www.vasp.at/wiki/index.php/CH_NEDOS\" title=\"CH NEDOS\" class=\"tag-link\">CH_NEDOS</a>, <a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\">CLNT</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLN\" title=\"CLN\" class=\"tag-link\">CLN</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLL\" title=\"CLL\" class=\"tag-link\">CLL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\">CLZ</a>, <a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CH_LSPEC%22_incategory:%22Examples%22\" title='Special:Search/\"CH LSPEC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:54:25Z"}, "CH_SIGMA": {"datatype": "real", "default": "0.3", "options": {}, "summary": "This tag specifies the width of the Gaussian broadening in eV of the imaginary dielectric function for a core electron.", "id": 604, "info": "<div><p>This feature is only available from VASP version 6.0 or higher.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/CH_LSPEC\" title=\"CH LSPEC\" class=\"tag-link\">CH_LSPEC</a>,<a href=\"https://www.vasp.at/wiki/index.php/CH_NEDOS\" title=\"CH NEDOS\" class=\"tag-link\">CH_NEDOS</a>,<a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>,<a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\">CLNT</a>,<a href=\"https://www.vasp.at/wiki/index.php/CLN\" title=\"CLN\" class=\"tag-link\">CLN</a>,<a href=\"https://www.vasp.at/wiki/index.php/CLL\" title=\"CLL\" class=\"tag-link\">CLL</a>,<a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\">CLZ</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CH_SIGMA%22_incategory:%22Examples%22\" title='Special:Search/\"CH SIGMA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-10-13T14:34:09Z"}, "LSPIRAL": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "set <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPIRAL\">LSPIRAL</a>=<span><span class=\"tag-value\">.TRUE.</span> to represent spin spirals by means of a generalized Bloch condition.</span>", "id": 618, "info": "<div><p>See the <a href=\"https://www.vasp.at/wiki/index.php/Spin_spirals\" title=\"Spin spirals\">description of spin spiral calculations</a> for more details.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Spin_spirals\" title=\"Spin spirals\">Spin spirals</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/QSPIRAL\" title=\"QSPIRAL\" class=\"tag-link\">QSPIRAL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LZEROZ\" title=\"LZEROZ\" class=\"tag-link\">LZEROZ</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:42:54Z"}, "QSPIRAL": {"datatype": "real array", "default": "3*0.0", "options": {}, "summary": "the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/QSPIRAL\">QSPIRAL</a>-tag specifies the spin spiral propagation vector.", "id": 620, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/QSPIRAL\">QSPIRAL</a> specifies the spin spiral propagation vector in direct coordinates of the reciprocal lattice.\n</p><p>See the <a href=\"https://www.vasp.at/wiki/index.php/Spin_spirals\" title=\"Spin spirals\">description of spin spiral calculations</a> for more details.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Spin_spirals\" title=\"Spin spirals\">Spin spirals</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSPIRAL\" title=\"LSPIRAL\" class=\"tag-link\">LSPIRAL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LZEROZ\" title=\"LZEROZ\" class=\"tag-link\">LZEROZ</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22QSPIRAL%22_incategory:%22Examples%22\" title='Special:Search/\"QSPIRAL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:54:05Z"}, "LZEROZ": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LZEROZ\">LZEROZ</a>=<span><span class=\"tag-value\">.TRUE.</span> the </span><i>z</i>-component of the spin-spiral magnetisation density will be forced to be and to remain zero.", "id": 625, "info": "<div><p>See the <a href=\"https://www.vasp.at/wiki/index.php/Spin_spirals\" title=\"Spin spirals\">description of spin spiral calculations</a> for more details.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Spin_spirals\" title=\"Spin spirals\">Spin spirals</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSPIRAL\" title=\"LSPIRAL\" class=\"tag-link\">LSPIRAL</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/QSPIRAL\" title=\"QSPIRAL\" class=\"tag-link\">QSPIRAL</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:45:02Z"}, "NTARGET_STATES": {"datatype": "integer array", "default": null, "options": {}, "summary": "Controls which Wannier states are excluded in constrained random phase approximation. Check also <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCRPA_BANDS\">NCRPA_BANDS</a>.", "id": 628, "info": "<div><p>This tag is effective for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">CRPA</span> and ignored otherwise.\nFor instance \n</span></p>\n<pre>NTARGET_STATES = 1 2 4 \n</pre>\n<p>selects the Wannier state 1, 2 and 4, where the ordering of the Wannier states depends on the chosen basis set.\n</p>\n<h3><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h3>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NCRPA_BANDS\" title=\"NCRPA BANDS\" class=\"tag-link\">NCRPA_BANDS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php?title=DMFT_BASIS&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"DMFT BASIS (page does not exist)\">DMFT_BASIS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NTARGET_STATES%22_incategory:%22Examples%22\" title='Special:Search/\"NTARGET STATES\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T12:44:23Z"}, "LWRITE_WANPROJ": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWRITE_WANPROJ\">LWRITE_WANPROJ</a> determines whether the Wannier projection file <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWRITE_WANPROJ\">WANPROJ</a> is written.</span>", "id": 629, "info": "<div><p>If <a href=\"https://www.vasp.at/wiki/index.php?title=WANPROJ&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"WANPROJ (page does not exist)\">WANPROJ</a> is present, VASP skips the Wannier projection and reads the effective projectors U<sub>nk</sub> from the <a href=\"https://www.vasp.at/wiki/index.php?title=WANPROJ&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"WANPROJ (page does not exist)\">WANPROJ</a> file for each k point. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\" title=\"LWANNIER90\" class=\"tag-link\">LWANNIER90</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90_RUN\" title=\"LWANNIER90 RUN\" class=\"tag-link\">LWANNIER90_RUN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php?title=LDOWNSAMPLE&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"LDOWNSAMPLE (page does not exist)\">LDOWNSAMPLE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LWRITE_WANPROJ%22_incategory:%22Examples%22\" title='Special:Search/\"LWRITE WANPROJ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T11:57:22Z"}, "NCRPA_BANDS": {"datatype": "integer array", "default": null, "options": {}, "summary": "Controls which bands are excluded in the constrained random phase approximation. Check also <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTARGET_STATES\">NTARGET_STATES</a>.", "id": 630, "info": "<div><p>This tag is effective for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">CRPA</span> and ignored otherwise.\n</span></p><p>For instance \n</p>\n<pre>NCRPA_BANDS = 21 22 23 \n</pre>\n<p>removes all screening effects between bands 21, 22 and 23 in the random phase approximation of the screened Coulomb interaction. \n</p>\n<h3><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h3>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NTARGET_STATES\" title=\"NTARGET STATES\" class=\"tag-link\">NTARGET_STATES</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NCRPA_BANDS%22_incategory:%22Examples%22\" title='Special:Search/\"NCRPA BANDS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T12:44:13Z"}, "VCUTOFF": {"datatype": "real", "default": "1.1 <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\">ENCUTGW</a>", "options": {}, "summary": "The parameter <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCUTOFF\">VCUTOFF</a> sets the energy cutoff for bare Coulomb matrix elements and controls the basis set for the bare Coulomb interaction.", "id": 631, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCUTOFF\">VCUTOFF</a>=<span class=\"tag-value\">[real]</span><br> Default: <b>VCUTOFF</b> =  1.1 <a href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\" title=\"ENCUTGW\" class=\"tag-link\">ENCUTGW</a>&#160;\n</p><p><br>\nDescription: The parameter <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCUTOFF\">VCUTOFF</a> sets the energy cutoff for bare Coulomb matrix elements and controls the basis set for the bare Coulomb interaction.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\" title=\"ENCUTGW\" class=\"tag-link\">ENCUTGW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php?title=CRPA_calculations&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"CRPA calculations (page does not exist)\">CRPA calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VCUTOFF%22_incategory:%22Examples%22\" title='Special:Search/\"VCUTOFF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T12:44:30Z"}, "LAECHG": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "when <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LAECHG\">LAECHG</a>=<span><span class=\"tag-value\">.TRUE.</span> the </span><i>all-electron</i> charge density will be reconstructed explicitly and written to files.", "id": 636, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LAECHG\">LAECHG</a>=<span><span class=\"tag-value\">.TRUE.</span> is set VASP will reconstruct the </span><i>all-electron</i> charge density on the so-called \"fine\" FFT-grid.\nThis \"fine\" FFT-grid consists of <a href=\"https://www.vasp.at/wiki/index.php/NGXF\" title=\"NGXF\" class=\"tag-link\">NGXF</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGYF\" title=\"NGYF\" class=\"tag-link\">NGYF</a>&#215;<a href=\"https://www.vasp.at/wiki/index.php/NGZF\" title=\"NGZF\" class=\"tag-link\">NGZF</a> points in real space (<i>i.e.</i>, the grid that is used to represent the augmented pseudo charge densities of the USPP and PAW methods).\n</p><p>In fact, for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LAECHG\">LAECHG</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP will reconstruct three distinct </span><i>all-electron</i> densities:\n</p>\n<ol><li>the core density.</li>\n<li>the proto-atomic valence density (overlapping atomic charge densities).</li>\n<li>the self-consistent valence density.</li></ol>\n<p>These are written to the files <a href=\"https://www.vasp.at/wiki/index.php?title=AECCAR0&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"AECCAR0 (page does not exist)\">AECCAR0</a>, <a href=\"https://www.vasp.at/wiki/index.php?title=AECCAR1&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"AECCAR1 (page does not exist)\">AECCAR1</a>, and <a href=\"https://www.vasp.at/wiki/index.php?title=AECCAR2&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"AECCAR2 (page does not exist)\">AECCAR2</a>, respectively.\nThe first two of these files are written at the start of the run, whereas the last is written at the end after self-consistency has been reached.\n</p><p><b>N.B.:</b> In the language of the <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">PAW method</a> an \"all-electron\" density does <b>not</b> refer to the <i>density of all electrons</i>, instead it denotes a density that includes all the nodal features near the nucleus associated with the <i>true</i> (as opposed to the <i>pseudized</i>) one-electron orbitals.\nWithin the PAW method, the <i>all-electron</i> density arising from the one-electron pseudo orbitals <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\{{\\widetilde {\\psi }}_{n\\mathbf {k} }\\}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo fence=\"false\" stretchy=\"false\">{</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">}</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\{{\\widetilde {\\psi }}_{n\\mathbf {k} }\\}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/338963a005e4203730ec4eeb621934b627620af3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.202ex; height:3.176ex;\" alt=\"\\{\\widetilde {\\psi }_{{n{\\mathbf  {k}}}}\\}\"></span> is given by:\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n(\\mathbf {r} )=\\sum _{n{\\mathbf {k} }}f_{n{\\mathbf {k} }}\\langle {\\widetilde {\\psi }}_{n\\mathbf {k} }|\\mathbf {r} \\rangle \\langle \\mathbf {r} |{\\widetilde {\\psi }}_{n\\mathbf {k} }\\rangle +\\sum _{\\alpha ,\\beta }(\\phi _{\\alpha }^{\\ast }(\\mathbf {r} )\\phi _{\\beta }(\\mathbf {r} )-{\\widetilde {\\phi }}_{\\alpha }^{\\ast }(\\mathbf {r} ){\\widetilde {\\phi }}_{\\beta }(\\mathbf {r} ))\\sum _{n{\\mathbf {k} }}f_{n{\\mathbf {k} }}\\langle {\\widetilde {\\psi }}_{n\\mathbf {k} }|{\\widetilde {p}}_{\\alpha }\\rangle \\langle {\\widetilde {p}}_{\\beta }|{\\widetilde {\\psi }}_{n\\mathbf {k} }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>n</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>+</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n            <mo>,</mo>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </munder>\n        <mo stretchy=\"false\">(</mo>\n        <msubsup>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>&#981;<!-- &#981; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#981;<!-- &#981; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo stretchy=\"false\">)</mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>p</mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#945;<!-- &#945; --></mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>p</mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#946;<!-- &#946; --></mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo>~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n(\\mathbf {r} )=\\sum _{n{\\mathbf {k} }}f_{n{\\mathbf {k} }}\\langle {\\widetilde {\\psi }}_{n\\mathbf {k} }|\\mathbf {r} \\rangle \\langle \\mathbf {r} |{\\widetilde {\\psi }}_{n\\mathbf {k} }\\rangle +\\sum _{\\alpha ,\\beta }(\\phi _{\\alpha }^{\\ast }(\\mathbf {r} )\\phi _{\\beta }(\\mathbf {r} )-{\\widetilde {\\phi }}_{\\alpha }^{\\ast }(\\mathbf {r} ){\\widetilde {\\phi }}_{\\beta }(\\mathbf {r} ))\\sum _{n{\\mathbf {k} }}f_{n{\\mathbf {k} }}\\langle {\\widetilde {\\psi }}_{n\\mathbf {k} }|{\\widetilde {p}}_{\\alpha }\\rangle \\langle {\\widetilde {p}}_{\\beta }|{\\widetilde {\\psi }}_{n\\mathbf {k} }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cf7bdaf3390796a2fa06e11ca97300bafe1f97cc\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:87.943ex; height:5.843ex;\" alt=\"n({\\mathbf  {r}})=\\sum _{{n{{\\mathbf  {k}}}}}f_{{n{{\\mathbf  {k}}}}}\\langle \\widetilde {\\psi }_{{n{\\mathbf  {k}}}}|{\\mathbf  {r}}\\rangle \\langle {\\mathbf  {r}}|\\widetilde {\\psi }_{{n{\\mathbf  {k}}}}\\rangle +\\sum _{{\\alpha ,\\beta }}(\\phi _{\\alpha }^{\\ast }({\\mathbf  {r}})\\phi _{\\beta }({\\mathbf  {r}})-\\widetilde {\\phi }_{\\alpha }^{\\ast }({\\mathbf  {r}})\\widetilde {\\phi }_{\\beta }({\\mathbf  {r}}))\\sum _{{n{{\\mathbf  {k}}}}}f_{{n{{\\mathbf  {k}}}}}\\langle \\widetilde {\\psi }_{{n{\\mathbf  {k}}}}|\\widetilde {p}_{\\alpha }\\rangle \\langle \\widetilde {p}_{\\beta }|\\widetilde {\\psi }_{{n{\\mathbf  {k}}}}\\rangle \"></span></dd></dl>\n<p>Normally one does not attempt to reconstruct <i>all-electron</i> densities explicitly since the second term on the right-hand side varies rapidly near the nuclei and is too costly to expand in-plane waves (see the bit about <a href=\"https://www.vasp.at/wiki/index.php/Projector-augmented-wave_formalism\" title=\"Projector-augmented-wave formalism\">augmentation and compensation charges</a>). For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LAECHG\">LAECHG</a>=<span><span class=\"tag-value\">.TRUE.</span>, however, this reconstruction is exactly the thing that is done.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php?title=AECCAR0&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"AECCAR0 (page does not exist)\">AECCAR0</a>, <a href=\"https://www.vasp.at/wiki/index.php?title=AECCAR1&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"AECCAR1 (page does not exist)\">AECCAR1</a>, <a href=\"https://www.vasp.at/wiki/index.php?title=AECCAR2&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"AECCAR2 (page does not exist)\">AECCAR2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LAECHG%22_incategory:%22Examples%22\" title='Special:Search/\"LAECHG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-18T12:47:35Z"}, "HFRCUT": {"datatype": "real", "default": "0", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a> specifies how the <a href=\"https://www.vasp.at/wiki/index.php/Coulomb_singularity\">Coulomb kernel is approximated at G=0</a> when the Fock energy and the exchange potential are evaluated.</span>", "id": 638, "info": "<div><p>In systems with periodic boundary conditions, the Coulomb energy and the Coulomb potential are usually evaluated under the assumption of a compensating background by introducing a compensation charge density. This is well-justified for the Hartree energy, where the compensation charge density stems from the ions. Yet, this assumption is not valid for the Fock exchange, which causes an error. For the Fock exchange potential and energy, one can correct the resulting error by assuming that the density matrix is local. The leading order correction is given by the difference between the electrostatic energy of a localized model charge density in a homogeneous background periodically repeated and the same model charge density in isolation. For details we refer to J. Paier <i>et al.,</i><sup id=\"cite_ref-paier:jcp:05_1-0\" class=\"reference\"><a href=\"#cite_note-paier:jcp:05-1\">[1]</a></sup> Section II. D. 4.  \n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a>=<span><span class=\"tag-value\">0</span>: Ewald summation </span><i>or</i> method of Massida, Posternak, and Baldereschi depending on k-mesh<sup id=\"cite_ref-gygi:prb:86_2-0\" class=\"reference\"><a href=\"#cite_note-gygi:prb:86-2\">[2]</a></sup><sup id=\"cite_ref-massidda:prb:93_3-0\" class=\"reference\"><a href=\"#cite_note-massidda:prb:93-3\">[3]</a></sup></li></ul>\n<dl><dd>If a regular automatic k-mesh and the standard 1/r Coulomb kernel are used, the correction is computed using Ewald summations. If the k-mesh is <i>not</i> regular (e.g., if the k-points are explicitly listed in the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a> file) or if kernels different from the bare Coulomb kernel are used (e.g., HSE functional), the method of Massida, Posternak, and Baldereschi<sup id=\"cite_ref-gygi:prb:86_2-1\" class=\"reference\"><a href=\"#cite_note-gygi:prb:86-2\">[2]</a></sup><sup id=\"cite_ref-massidda:prb:93_3-1\" class=\"reference\"><a href=\"#cite_note-massidda:prb:93-3\">[3]</a></sup> is used. This approach assumes that the model charge density is an error-function-like charge distribution in real space in order to handle the long-range nature of the potential in reciprocal space. It requires setting a decay constant for the error function, see <a href=\"https://www.vasp.at/wiki/index.php/HFALPHA\" title=\"HFALPHA\" class=\"tag-link\">HFALPHA</a>. Both methods, the Ewald summation and the method of Massida, Posternak, and Baldereschi, are strictly equivalent for regular k-mesh.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a>=<span><span class=\"tag-value\">-1</span>: Automated cutoff radius</span><sup id=\"cite_ref-spenceralavi:prb:08_4-0\" class=\"reference\"><a href=\"#cite_note-spenceralavi:prb:08-4\">[4]</a></sup></li></ul>\n<dl><dd>An alternative recipe is to replace the 1/r Coulomb kernel with a truncated Coulomb kernel that is strictly zero beyond a certain cutoff radius. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a> is set to -1, the radial cutoff is chosen to be equivalent to the radius of the sphere with a volume of the unit cell times the total number of k-points in the full Brillouin zone. For instance, for a  4x4x4 k-point grid, that yields 64 times the volume of the unit cell.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a>=<span><span class=\"tag-value\">[cutoff</span> radius]: Manually set cutoff radius in &#197;ngstr&#246;m.</span></li></ul>\n<p>In the limit of many k-points, both methods (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a>=<span><span class=\"tag-value\">-1</span> and </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a>=<span><span class=\"tag-value\">0)</span> should yield identical results. In our experience, the </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a>=<span><span class=\"tag-value\">-1</span> converges more rapidly for systems with a gap, as well as molecules and atoms, whereas </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a>=<span><span class=\"tag-value\">0</span> converges faster for metallic systems. It is expedient to first converge the energies with respect to the number of k-points for both methods and then select for subsequent calculations the method that converges more rapidly. A detailed comparison of the convergence of the different methods for metallic and gapped materials was made by Sundararaman and Arias</span><sup id=\"cite_ref-sundararamanarias:prb:13_5-0\" class=\"reference\"><a href=\"#cite_note-sundararamanarias:prb:13-5\">[5]</a></sup>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HFALPHA\" title=\"HFALPHA\" class=\"tag-link\">HFALPHA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LTHOMAS\" title=\"LTHOMAS\" class=\"tag-link\">LTHOMAS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Coulomb_singularity\" title=\"Coulomb singularity\">Coulomb singularity</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22HFRCUT%22_incategory:%22Examples%22\" title='Special:Search/\"HFRCUT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-paier:jcp:05-1\"><a href=\"#cite_ref-paier:jcp:05_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.1926272\">J. Paier, R. Hirschl, M. Marsman, and G. Kresse, J. Chem. Phys. <b>122</b>, 234102 (2005).</a></span>\n</li>\n<li id=\"cite_note-gygi:prb:86-2\">&#8593; <sup><a href=\"#cite_ref-gygi:prb:86_2-0\">a</a></sup> <sup><a href=\"#cite_ref-gygi:prb:86_2-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.34.4405\">F. Gygi and A. Baldereschi, Phys. Rev. B <b>34</b>, 4405(R) (1986).</a></span>\n</li>\n<li id=\"cite_note-massidda:prb:93-3\">&#8593; <sup><a href=\"#cite_ref-massidda:prb:93_3-0\">a</a></sup> <sup><a href=\"#cite_ref-massidda:prb:93_3-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.48.5058\">S. Massidda, M. Posternak, and A. Baldereschi, Phys. Rev. B <b>48</b>, 5058 (1993).</a></span>\n</li>\n<li id=\"cite_note-spenceralavi:prb:08-4\"><a href=\"#cite_ref-spenceralavi:prb:08_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.77.193110\">J. Spencer and A. Alavi, Phys. Phys. Rev. B <b>77</b>, 193110 (2008).</a></span>\n</li>\n<li id=\"cite_note-sundararamanarias:prb:13-5\"><a href=\"#cite_ref-sundararamanarias:prb:13_5-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.87.165122\">R. Sundararaman and T. A. Arias, Phys. Rev. B <b>87</b>, 165122 (2013).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-07-19T20:59:04Z"}, "LWRITE_UNK": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWRITE_UNK\">LWRITE_UNK</a> decides whether the cell-periodic part of the relevant Bloch functions is written.</span>", "id": 669, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWRITE_UNK\">LWRITE_UNK</a>=<span><span class=\"tag-value\">True</span>, VASP writes the cell-periodic part of the Kohn&#8211;Sham orbitals in spin channel s at k point p to the file </span><b>wannier90.UNKp.s</b>. This file can be used to plot Wannier orbitals with WANNIER90.\n</p><p>For details on the execution of <tt>wannier_setup</tt> in VASP, see the description of the <a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\" title=\"LWANNIER90\" class=\"tag-link\">LWANNIER90</a> tag.\nFor information on the <b>wannier90.win</b> file and the execution of WANNIER90, we refer to the <a rel=\"nofollow\" class=\"external text\" href=\"http://www.wannier.org/doc/user_guide.pdf\">WANNIER90 manual</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\" title=\"LWANNIER90\" class=\"tag-link\">LWANNIER90</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWRITE_MMN_AMN\" title=\"LWRITE MMN AMN\" class=\"tag-link\">LWRITE_MMN_AMN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LWANNIER90_RUN%22_incategory:%22Examples%22\" title='Special:Search/\"LWANNIER90 RUN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T11:55:55Z"}, "CH_NEDOS": {"datatype": "integer", "default": "1000", "options": {}, "summary": "This tag specifies the number of frequency (energy) grid points on the x-axis in the calculation of the dielectric function for XAS spectra.", "id": 729, "info": "<div><p>This feature is only available from VASP version 6.0 or higher.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/CH_LSPEC\" title=\"CH LSPEC\" class=\"tag-link\">CH_LSPEC</a>,<a href=\"https://www.vasp.at/wiki/index.php/CH_SIGMA\" title=\"CH SIGMA\" class=\"tag-link\">CH_SIGMA</a>,<a href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\" title=\"ICORELEVEL\" class=\"tag-link\">ICORELEVEL</a>,<a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\">CLNT</a>,<a href=\"https://www.vasp.at/wiki/index.php/CLN\" title=\"CLN\" class=\"tag-link\">CLN</a>,<a href=\"https://www.vasp.at/wiki/index.php/CLL\" title=\"CLL\" class=\"tag-link\">CLL</a>,<a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\">CLZ</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CH_SIGMA%22_incategory:%22Examples%22\" title='Special:Search/\"CH SIGMA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T07:54:52Z"}, "PHON_LMC": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "This flag controls whether electron-phonon interactions from Monte-Carlo sampling are calculated or not.", "id": 742, "info": "<div><p>This feature is only available from VASP version 6.0 or higher.\n</p><p>For further usage of this tag see: Electron-phonon interactions from Monte-Carlo sampling. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\" title=\"PHON NSTRUCT\" class=\"tag-link\">PHON_NSTRUCT</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_LBOSE\" title=\"PHON LBOSE\" class=\"tag-link\">PHON_LBOSE</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_NTLIST\" title=\"PHON NTLIST\" class=\"tag-link\">PHON_NTLIST</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_TLIST\" title=\"PHON TLIST\" class=\"tag-link\">PHON_TLIST</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PHON_LMC%22_incategory:%22Examples%22\" title='Special:Search/\"PHON LMC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-08T07:20:39Z"}, "PHON_NSTRUCT": {"datatype": "integer", "default": "none", "options": {}, "summary": "This flag sets the number of structures for electron-phonon interactions from Monte-Carlo (MC) sampling.", "id": 743, "info": "<div><p>This feature is only available from VASP version 6.0 or higher.\n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\">PHON_NSTRUCT</a>=<span><span class=\"tag-value\">-1</span> the eigenvalues and eigenvectors of the dynamic matrix are written to the file </span><a href=\"https://www.vasp.at/wiki/index.php/DYNMATFULL\" title=\"DYNMATFULL\" class=\"tag-link\">DYNMATFULL</a>.\n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\">PHON_NSTRUCT</a>=<span><span class=\"tag-value\">0</span> the ZG configuration</span><sup id=\"cite_ref-zacharias:prb:2016_1-0\" class=\"reference\"><a href=\"#cite_note-zacharias:prb:2016-1\">[1]</a></sup> (one-shot) method is executed.\n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\">PHON_NSTRUCT</a>&amp;gt;<span><span class=\"tag-value\">0</span> that many MC structures are prepared.\n</span></p><p>For further usage of this tag see: <a href=\"https://www.vasp.at/wiki/index.php/Electron-phonon_interactions_from_Monte-Carlo_sampling\" title=\"Electron-phonon interactions from Monte-Carlo sampling\">Electron-phonon interactions from Monte-Carlo sampling</a>.\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PHON_LMC\" title=\"PHON LMC\" class=\"tag-link\">PHON_LMC</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_LBOSE\" title=\"PHON LBOSE\" class=\"tag-link\">PHON_LBOSE</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_NTLIST\" title=\"PHON NTLIST\" class=\"tag-link\">PHON_NTLIST</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_TLIST\" title=\"PHON TLIST\" class=\"tag-link\">PHON_TLIST</a>, <a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PHON_NSTRUCT%22_incategory:%22Examples%22\" title='Special:Search/\"PHON NSTRUCT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-zacharias:prb:2016-1\"><a href=\"#cite_ref-zacharias:prb:2016_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.94.075125\">M. Zacharias and F. Giustino, Phys. Rev. B <b>94</b>, 075125 (2016).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-09-08T07:21:18Z"}, "PHON_LBOSE": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "This flag determines whether random structures in the Monte-Carlo (MC) sampling are created according to Bose-Einstein or Maxwell-Boltzmann statistics.", "id": 744, "info": "<div><p>This feature is only available from VASP version 6.0 or higher.\n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_LBOSE\">PHON_LBOSE</a>=<i>.TRUE.</i> Bose-Einstein statistics is used.\n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_LBOSE\">PHON_LBOSE</a>=<i>.FALSE.</i> Maxwell-Boltzmann statistics is used.\n</p><p>For further usage of this tag see: <a href=\"https://www.vasp.at/wiki/index.php/Electron-phonon_interactions_from_Monte-Carlo_sampling\" title=\"Electron-phonon interactions from Monte-Carlo sampling\">Electron-phonon interactions from Monte-Carlo sampling</a>.\n</p><p><b>Important</b>: This tag does not work together with <a href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\" title=\"PHON NSTRUCT\" class=\"tag-link\">PHON_NSTRUCT</a>=<span><span class=\"tag-value\">0</span>.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PHON_LMC\" title=\"PHON LMC\" class=\"tag-link\">PHON_LMC</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\" title=\"PHON NSTRUCT\" class=\"tag-link\">PHON_NSTRUCT</a>, <a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PHON_LBOES%22_incategory:%22Examples%22\" title='Special:Search/\"PHON LBOES\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-08T07:20:25Z"}, "PHON_NTLIST": {"datatype": "integer", "default": "none", "options": {}, "summary": "This flag sets the number of temperatures for that the electron-phonon interactions using the ZG configuration is evaluated.", "id": 745, "info": "<div><p>This feature is only available from VASP version 6.0 or higher.\n</p><p>Also, a list of temperatures defined in <a href=\"https://www.vasp.at/wiki/index.php/PHON_TLIST\" title=\"PHON TLIST\" class=\"tag-link\">PHON_TLIST</a> has to be defined together with this tag\n</p><p>For further usage of this tag see: <a href=\"https://www.vasp.at/wiki/index.php/Electron-phonon_interactions_from_Monte-Carlo_sampling\" title=\"Electron-phonon interactions from Monte-Carlo sampling\">Electron-phonon interactions from Monte-Carlo sampling</a>.\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PHON_LMC\" title=\"PHON LMC\" class=\"tag-link\">PHON_LMC</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\" title=\"PHON NSTRUCT\" class=\"tag-link\">PHON_NSTRUCT</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_TLIST\" title=\"PHON TLIST\" class=\"tag-link\">PHON_TLIST</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PHON_NTLIST%22_incategory:%22Examples%22\" title='Special:Search/\"PHON NTLIST\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-zacharias:prb:2016-1\"><a href=\"#cite_ref-zacharias:prb:2016_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.94.075125\">M. Zacharias and F. Giustino, Phys. Rev. B <b>94</b>, 075125 (2016).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-09-08T07:21:36Z"}, "PHON_TLIST": {"datatype": "real array", "default": "none", "options": {}, "summary": "This flag provides the list of temperatures for that the electron-phonon interaction using the ZG configuration is evaluated.", "id": 746, "info": "<div><p>This feature is only available from VASP version 6.0 or higher.\n</p><p>Also, the number of temperatures defined in <a href=\"https://www.vasp.at/wiki/index.php/PHON_NTLIST\" title=\"PHON NTLIST\" class=\"tag-link\">PHON_NTLIST</a> has to be defined together with this tag.\n</p><p>For further usage of this tag see: <a href=\"https://www.vasp.at/wiki/index.php/Electron-phonon_interactions_from_Monte-Carlo_sampling\" title=\"Electron-phonon interactions from Monte-Carlo sampling\">Electron-phonon interactions from Monte-Carlo sampling</a>.\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/PHON_LMC\" title=\"PHON LMC\" class=\"tag-link\">PHON_LMC</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\" title=\"PHON NSTRUCT\" class=\"tag-link\">PHON_NSTRUCT</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_NTLIST\" title=\"PHON NTLIST\" class=\"tag-link\">PHON_NTLIST</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22PHON_TLIST%22_incategory:%22Examples%22\" title='Special:Search/\"PHON TLIST\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-zacharias:prb:2016-1\"><a href=\"#cite_ref-zacharias:prb:2016_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.94.075125\">M. Zacharias and F. Giustino, Phys. Rev. B <b>94</b>, 075125 (2016).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-09-08T07:21:51Z"}, "ML_LMLFF": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "Main control tag which enables/disables the use of machine learning force fields.", "id": 765, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\">ML_LMLFF</a>=<span><span class=\"tag-value\">.FALSE.</span> machine learning force fields are disabled and all related </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> tags, i.e. all tags starting with \"ML_\", are ignored. If machine learning force fields are used by setting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\">ML_LMLFF</a>=<span><span class=\"tag-value\">.TRUE.</span>, the VASP mode of operation depends on the choice of </span><a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>. If <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a> is not supplied in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file then the default mode of operation is to run an MD simulation with on-the-fly machine learning starting \"from scratch\", i.e. <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span><span class=\"tag-value\">0</span>.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IREG\" title=\"ML IREG\" class=\"tag-link\">ML_IREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LSPARSDES\" title=\"ML LSPARSDES\" class=\"tag-link\">ML_LSPARSDES</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ISCALE_TOTEN\" title=\"ML ISCALE TOTEN\" class=\"tag-link\">ML_ISCALE_TOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\" title=\"ML LCOUPLE\" class=\"tag-link\">ML_LCOUPLE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LHEAT\" title=\"ML LHEAT\" class=\"tag-link\">ML_LHEAT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LEATOM\" title=\"ML LEATOM\" class=\"tag-link\">ML_LEATOM</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MB\" title=\"ML MB\" class=\"tag-link\">ML_MB</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF\" title=\"ML MCONF\" class=\"tag-link\">ML_MCONF</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_LMLFF%22_incategory:%22Examples%22\" title='Special:Search/\"ML LMLFF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:26:13Z"}, "ML_CDOUB": {"datatype": "real", "default": [["4.0", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span class=\"tag-value\">SELECT</span>"], ["2.0", "else"]], "options": {}, "summary": "This tag controls the criterion for \"enforced\" DFT calculations within the machine learning force field method.", "id": 767, "info": "<div><p>The usage of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Sampling_of_training_data_and_local_reference_configurations\" title=\"Machine learning force field calculations: Basics\">here</a>.\n</p><p>If at any time, the estimated force errors are <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\">ML_CDOUB</a> times larger than the Bayesian threshold (i.e. \"critically\" high), a first principles calculation is performed and a new force field is immediately generated (even if the counter for sampling is below the minimum amount of sampled structures <a href=\"https://www.vasp.at/wiki/index.php/ML_NMDINT\" title=\"ML NMDINT\" class=\"tag-link\">ML_NMDINT</a>).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_NMDINT\" title=\"ML NMDINT\" class=\"tag-link\">ML_NMDINT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_CDOUB%22_incategory:%22Examples%22\" title='Special:Search/\"ML CDOUB\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-24T14:05:21Z"}, "ML_EATOM_REF": {"datatype": "real array", "default": "0.0", "options": {}, "summary": "Reference total energies of isolated atoms used in the machine learning force field method.", "id": 773, "info": "<div><p>This tag is only used if <a href=\"https://www.vasp.at/wiki/index.php/ML_ISCALE_TOTEN\" title=\"ML ISCALE TOTEN\" class=\"tag-link\">ML_ISCALE_TOTEN</a>=<span><span class=\"tag-value\">1</span>.\n</span></p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_EATOM_REF\">ML_EATOM_REF</a> is not provided in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file then 0.0 is assumed for all species in the system.\n</p><p>By default this tag is not used since all energies are scaled to the average of the training data (<a href=\"https://www.vasp.at/wiki/index.php/ML_ISCALE_TOTEN\" title=\"ML ISCALE TOTEN\" class=\"tag-link\">ML_ISCALE_TOTEN</a>=<span><span class=\"tag-value\">2)</span>.\n</span></p><p>If this tag is used, each reference energy should be obtained from a VASP calculation of an isolated atoms in a sufficiently large simulation box. The reference is then simply taken from the Helmholtz free energy from the <a href=\"https://www.vasp.at/wiki/index.php/OSZICAR\" title=\"OSZICAR\" class=\"tag-link\">OSZICAR</a> file (value following \"1 F=\" in that file). \n</p><p>The reference energies are simply set in one line as a list for each species, i.e. like the following\n</p>\n<pre>ML_EATOM_REF = E_1 E_2 E_3 ...\n</pre>\n<p>where E_1, E_2, E_2 etc. are the energies for species 1, 2, 3 etc. (corresponding to the order they occur in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file).\n</p><p>The unit of the energies is eV/atom.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ISCALE_TOTEN\" title=\"ML ISCALE TOTEN\" class=\"tag-link\">ML_ISCALE_TOTEN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_EATOM_REF%22_incategory:%22Examples%22\" title='Special:Search/\"ML EATOM REF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:22:00Z"}, "ML_ISTART": {"datatype": "integer", "default": "0", "options": {}, "summary": "This tag selects the mode of operation (e.g. start from scratch, prediction-only,...) of the machine learning force fields method.", "id": 777, "info": "<div><p>If the machine learning force fields method is enabled via <a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>=<span><span class=\"tag-value\">.TRUE.</span>, this tag further specifies the mode of operation when VASP is run. The following cases can be selected:\n</span></p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">0</span>: On-the-fly learning is enabled, starting from scratch. Force predictions from the machine learning force field are used to drive the MD simulation. However, if the error estimation performed in each time step indicates a high force error an ab initio calculation is performed instead and the collected energy, forces and stress are used to improve the machine learning force field. Setting </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">0</span> starts the machine learning force field from scratch. Hence, in the beginning of the MD run there is no force field available and ab initio calculations will happen frequently.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">1</span>: Same as </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">0</span> but taking into account pre-existing ab initio data. This is the usual choice for continuing a previous MD simulation with activated machine learning. Before the MD run starts the </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file, copied from <a href=\"https://www.vasp.at/wiki/index.php/ML_ABN\" title=\"ML ABN\" class=\"tag-link\">ML_ABN</a> from a previous run, is read and the contained ab initio energies, forces and stresses are used to generate an initial force field. Note that this preparative learning step adopts the previous choice of local reference configurations, i.e. the reference atomic environments entering the kernel are taken from a list in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file. Then, the MD simulation is started with on-the-fly learning enabled. The <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file does not necessarily need to contain structures matching the current starting configuration in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file in terms of simulation box, present elements or number of atoms. However, if the same elements appear the initial force field is of course used for predictions. In any case the provided training data is included in the finally generated machine learning force field, i.e. the <a href=\"https://www.vasp.at/wiki/index.php/ML_FFN\" title=\"ML FFN\" class=\"tag-link\">ML_FFN</a> file will define a force field applicable to both, the structures in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file <b>and</b> the current MD simulation. By restarting repeatedly with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">1</span> while providing an </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file from the last run it is possible to iteratively extend the applicability of the resulting machine learning force field, e.g. by exploring different temperature ranges or element compositions.</li></ul>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> Setting <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">1</span> together with </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>=<span><span class=\"tag-value\">0</span> allows to repeat learning on the given training data and create a new force field in </span><a href=\"https://www.vasp.at/wiki/index.php/ML_FFN\" title=\"ML FFN\" class=\"tag-link\">ML_FFN</a> without actually performing additional MD steps. In this way force field parameters (e.g. cutoff radii, number of radial basis functions, etc.) can be varied without recalculating the entire trajectory. Moreover, because Bayesian error estimation is not required when no MD is run it is possible to switch the regression algorithm via the tag <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a> and check whether in this way better fitting results can be achieved. In order to avoid that the starting structure in the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file is processed and eventually added to the training data just set <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> to a large value (e.g. 1000).\n</div></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">2</span>: Prediction only. In this mode the previously trained machine learning force field is read from the </span><a href=\"https://www.vasp.at/wiki/index.php/ML_FF\" title=\"ML FF\" class=\"tag-link\">ML_FF</a> file. The MD simulation is driven with predictions from the force field only, no ab initio calculations are performed and no learning is executed. However, in order to monitor the quality of predictions the Bayesian error estimate of forces is still computed and logged in the <a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a>. This setting is typically used when the machine learning force field is considered mature and ready for production runs.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">3</span>: Learning from given ab initio data only, no MD time steps. In this operation mode a new machine learning force field is generated from ab initio data provided in the </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file. The structures are read in and processed one by one as if harvested via an MD simulation. In other words, the same steps are performed as in on-the-fly training but the source of data is not an MD run but the series of structures available in <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a>. This operation mode can be used to generate VASP machine learning force fields from pre-computed or external ab initio data sets. At first glance <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">3</span> looks very similar to the combination of </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">1</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>=<span><span class=\"tag-value\">0</span> described above. However, there is an important difference: Setting </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">3</span> will ignore the list of local reference configurations in the </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file and instead will determine a new collection which is written to the resulting <a href=\"https://www.vasp.at/wiki/index.php/ML_ABN\" title=\"ML ABN\" class=\"tag-link\">ML_ABN</a> file.</li></ul>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> If calculations for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">3</span> are too time-consuming using the default settings, it is useful to increase </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a> to values around 10-16 and set  <a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a>=<span><span class=\"tag-value\">4</span>. This often accelerates the calculations by a factor of 2-4.\n</span></div><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file may contain values for <i>CTIFOR</i> for each training structure. These are the thresholds used to sample that structure from the previous training. If a value for <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> is specified in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, that value is then used and the thresholds from the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> are ignored. Otherwise: 1) If thresholds exist in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> they are used. 2) If no thresholds are specified the default value for <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> is used.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\">ML_ISTART</a>=<span><span class=\"tag-value\">4</span>: Refitting of the force field is done based on an existing </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file, but the number of local reference configurations is taken from the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file. <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> on the input is ignored and only a single step is executed. No ab-initio calculation is carried out.</li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IREG\" title=\"ML IREG\" class=\"tag-link\">ML_IREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LSPARSDES\" title=\"ML LSPARSDES\" class=\"tag-link\">ML_LSPARSDES</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ISCALE_TOTEN\" title=\"ML ISCALE TOTEN\" class=\"tag-link\">ML_ISCALE_TOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\" title=\"ML LCOUPLE\" class=\"tag-link\">ML_LCOUPLE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LHEAT\" title=\"ML LHEAT\" class=\"tag-link\">ML_LHEAT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LEATOM\" title=\"ML LEATOM\" class=\"tag-link\">ML_LEATOM</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MB\" title=\"ML MB\" class=\"tag-link\">ML_MB</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF\" title=\"ML MCONF\" class=\"tag-link\">ML_MCONF</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_ISTART%22_incategory:%22Examples%22\" title='Special:Search/\"ML ISTART\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-03-29T08:09:21Z"}, "ML_ICRITERIA": {"datatype": "integer", "default": [["3", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span class=\"tag-value\">SELECT</span>"], ["1", "else"]], "options": {}, "summary": "Decides whether (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>&gt;<span><span class=\"tag-value\">0)</span> or how the Bayesian error threshold (</span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_CTIFOR</a>) is updated within the machine learning force field method. <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_CTIFOR</a> determines whether a first-principles calculation is performed.", "id": 781, "info": "<div><p>The use of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Threshold_for_error_of_forces\" title=\"Machine learning force field calculations: Basics\">here</a>.\n</p><p>The following options are possible for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">0</span>: The threshold </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> is not updated. This method is only recommended for refining an existing force field. For example, if you know that <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> has taken a value of 0.03 in previous runs, you can continue to collect training data by now setting the threshold to <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>=<span><span class=\"tag-value\">0</span>.03 to capture all contours and areas of the potential energy surface where first-principles data are still missing. To achieve extremely robust force fields, it is recommended to run </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>=<span><span class=\"tag-value\">100000</span> steps in this mode to slightly above the highest temperature to be considered.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span>: Set </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> to a value proportional to the average Bayesian errors of the <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a> steps. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span>, the average is calculated only for errors after updating the force field. Such updates are quite rare, so updates of </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> are also quite rare in this mode. Furthermore, since the first principle calculations are only performed for configurations with large Bayesian errors (\"outliers\"), the force field is updated only after the outliers are taken into account. Therefore, the Bayes errors included in the averaging are typically larger than the average Bayes error in this mode.  It is therefore recommended to set <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a> to 0 (default) in this mode.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span>: Update the criteria using the moving average of all previous Bayesian errors. This method gives the average of the errors of all previous predictions (i.e. all previously considered MD steps), while </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span> gives only the average of the predictions immediately following the retraining. The length of the history in this mode is currently hard-coded and set to 400 steps (or </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a> x 50 in the newer version). This mode tends to continue sampling, and is therefore somewhat prone to oversampling: as Bayesian errors decrease, the threshold is steadily lowered and additional first-principles computations are initiated. The recommended values for <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a> in this mode are approximately 0.1 to 0.3. = 0,2, a first-principles calculation is typically performed every 50 steps. This means that if the number of ionic steps is, say, <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>=<span><span class=\"tag-value\">50</span>,000, then about 1,000 first-principles calculations should be performed. For many materials, this results in a reasonably good and robust ML database.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">3</span>: This mode is the default for reselecting local reference configurations from an existing </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file (<a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>SELECT</i>). The <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file shall contain a <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> for each structure stored in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file. These values are used by VASP as Bayesian error thresholds for structure selection. This also means that the tags <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSLOPE\" title=\"ML CSLOPE\" class=\"tag-link\">ML_CSLOPE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSIG\" title=\"ML CSIG\" class=\"tag-link\">ML_CSIG</a> and <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a> set in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> are ignored. This mode is only available when <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<i>SELECT</i> is activated. It is important that the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file contains a <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> value for each structure included. Otherwise, VASP will throw an error and will also indicate to the user that some <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> values are missing from the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file.</li></ul>\n<p>As mentioned above, the <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a> tag can be used to fine-tune the update of <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>. \nThe fact that the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span> is a matter of taste. Just remember that </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a> must be set differently in both modes.  While <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span>, the </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>=<span><span class=\"tag-value\">0</span>.0, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>=<span><span class=\"tag-value\">0</span>.2 is a good default.  \nMost of our force fields use </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span>, but this mode sometimes stagnates and stops the first principle calculations.\nOn the other hand, and as already mentioned, using </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span> is prone to oversampling, i.e. it may perform too many first principle calculations. \n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSLOPE\" title=\"ML CSLOPE\" class=\"tag-link\">ML_CSLOPE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSIG\" title=\"ML CSIG\" class=\"tag-link\">ML_CSIG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_ICRITERIA%22_incategory:%22Examples%22\" title='Special:Search/\"ML ICRITERIA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-14T09:09:48Z"}, "ML_IWEIGHT": {"datatype": "integer", "default": "3", "options": {}, "summary": "This tag controls which procedure is used for normalizing and weighting the energies, forces, and stresses in the machine learning force field method.", "id": 796, "info": "<div><p>To achieve optimal training it is important to normalize the available data. Furthermore, sometimes it may be desired to emphasize some training quantities over others, e.g. one might want excellent force predictions, even at the cost of sacrificing some energy and stress accuracy. How normalizing and weighting are performed can be controlled with the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a> together with weighting parameters <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a> and <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a> for energies, forces, and stresses, respectively. The following procedures can be selected via <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">1</span>: Manual control over normalization/weighting: the unnormalized energies, forces, and stress tensor training data are divided by the weights determined by the flags </span><a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a> (eV/atom), <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a> (eV/<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span>) and <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a> (kBar), respectively.</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">2</span>: Normalization via global standard deviations: The energies, forces, and stresses are normalized by their respective standard deviation over the entire training data. Then, the normalized quantities are weighted by </span><a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a> and <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a> when they are processed for learning in the design matrix <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {\\Phi } }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">&#934;<!-- &#934; --></mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {\\Phi } }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/37cfff5df56d78e6da30d00326ba5dbda3cad202\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.931ex; height:2.176ex;\" alt=\"{\\mathbf  {\\Phi }}\"></span> (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Matrix_vector_form_of_linear_equations\" title=\"Machine learning force field: Theory\">this section</a>). In this case the values of <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a> and <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a> are unitless quantities.</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">3</span>: Normalization via averages over subset standard deviations: Same as </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">2</span> but the training data is divided into individual subsets. For each subset, the standard deviations are calculated separately. Then, the energies, forces, and stresses are normalized using the average of the standard deviations of all subsets. Finally, as for </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">2</span> the normalized quantities are multiplied by </span><a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a> and <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a> for learning purposes.</li></ul>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The division into subsets is based on the name tag provided in the first line of the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file. If training is performed for widely different materials, for instance, different phases that have widely different energies, it is important to choose different system names in the first line of the  <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file. Without correct subset assignment, the overall energy standard deviation might become large, hence reducing the weight of the energies in training.\n</div></dd></dl>\n<p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">2</span>, 3 the weights are unitless quantities used to multiply the data, whereas for </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">1</span> they have a unit. All three methods provide unitless energies, forces, and stress tensors, which are then passed to the learning algorithm. Although the defaults are usually rather sensible, it can be useful to explore different weights. For instance, if vibrational frequencies are supposed to be reproduced accurately, we found it helpful to increase </span><a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a> to 10-100. On the other hand, if the energy difference between different phases needs to be described accurately by the force field, it might be useful to increase <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a> to around 10-100.\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> On-the-fly learning implies that training structures accumulate along the running MD trajectory. Hence, also the standard deviations of energies, forces, and stresses change over time and will be recalculated whenever a learning step is triggered. We highly recommend using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">3</span> because this ensures that at any time learning is performed on an adequately normalized set.\n</span></div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_IWEIGHT%22_incategory:%22Examples%22\" title='Special:Search/\"ML IWEIGHT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-19T09:48:16Z"}, "ML_MCONF": {"datatype": "integer", "default": "see below", "options": {}, "summary": "This tag sets the maximum number of structures stored in memory that are used for training in the machine learning force field method.", "id": 799, "info": "<div><p>The defaults for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MCONF\">ML_MCONF</a> are different for each different <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> setting. Here are the defaults for each mode:\n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'TRAIN'</span>:\n</span><ul><li>No <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> present (learning from scratch): min(1500, max(1,<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>))</li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> present (continuation of learning): MCONF_AB + min(1500, max(1,<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>))</li></ul></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'SELECT'</span>: MCONF_AB + 1</span></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'REFIT'</span>: MCONF_AB + 1</span></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'REFITBAYESIAN'</span>: MCONF_AB + 1</span></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'RUN'</span>: 1</span></li></ul>\n<p>using the following definition:\n</p>\n<ul><li>MCONF_AB = Number of training structures read from the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file.</li></ul>\n<p><br>\nThe default value for <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<i>TRAIN</i> is usually a safe value for solids and easy-to-learn liquids but should be set to a higher value as soon as it is reached. When this happens the code stops and gives an error instructing to increase <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MCONF\">ML_MCONF</a>. \n</p><p>This flag sets also the maximum number of rows for the design matrix, which is usually a huge matrix. The design matrix is to be allocated statically at the beginning of the program since several parts of the code use MPI shared memory and dynamic reallocation of these arrays can cause severe problems on some systems. So most of the main arrays are statically allocated in the code. \n</p><p>An estimate of the design matrix and all other large arrays are printed out to the <a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a> before allocation. The design matrix is fully distributed in a block cyclic fashion for scaLAPACK and should almost perfectly linearly scale with the number of used processors.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_FF_MCONF%22_incategory:%22Examples%22\" title='Special:Search/\"ML FF MCONF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-28T09:22:34Z"}, "ML_MCONF_NEW": {"datatype": "integer", "default": "5", "options": {}, "summary": "This tag sets the number of configurations that are stored temporarily as candidates for the training data in the machine learning force field method.", "id": 800, "info": "<div><div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> This value is close to optimal for on-the-fly learning,  and should usually not be changed.\n</div><p>The use of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Sampling_of_training_data_and_local_reference_configurations\" title=\"Machine learning force field calculations: Basics\">here</a>.\nIf force fields are reparameterized (<a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span><span class=\"tag-value\">3)</span>, calculations are usually more efficient if this parameter is increased to values around 10-16 and setting </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a>=<span><span class=\"tag-value\">4</span>. This is particularly relevant if the ML_AB file is large.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_MCONF_NEW%22_incategory:%22Examples%22\" title='Special:Search/\"ML MCONF NEW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-08-26T08:54:00Z"}, "ML_MHIS": {"datatype": "integer", "default": "10", "options": {}, "summary": "This tag sets the number of estimated errors stored in memory to determine the threshold for the Bayesian error in the machine learning force field method for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span>. For </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span>, the history length is 50 x </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\">ML_MHIS</a> (or hard coded to 400).", "id": 801, "info": "<div><p>The use of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Threshold_for_error_of_forces\" title=\"Machine learning force field calculations: Basics\">here</a>.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span>: The ML code stores </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\">ML_MHIS</a> Bayesian errors from previous training steps: immediately after a re-training of the ML-FF, the Bayesian errors of the forces are reevaluated for the current structure (that was also just added as training structure). The average  and the maximum error of the forces is stored in the history. After  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\">ML_MHIS</a> updates of the force field, the threshold   <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> is updated the first time and is then updated after every further update of the ML-FF. We recommend to read the section <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a> for further details.\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span>: Averaging is performed over 50 x </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\">ML_MHIS</a> Bayesian error predictions. Every MD step is considered in the averaging (as opposed to above, where only structures after re-training are considered). \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSLOPE\" title=\"ML CSLOPE\" class=\"tag-link\">ML_CSLOPE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSIG\" title=\"ML CSIG\" class=\"tag-link\">ML_CSIG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_MHIS%22_incategory:%22Examples%22\" title='Special:Search/\"ML MHIS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-17T10:22:05Z"}, "ML_NMDINT": {"datatype": "integer", "default": [["1", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span class=\"tag-value\">SELECT</span>"], ["10", "else"]], "options": {}, "summary": "Tag to control the minimum interval to get training samples in the machine learning force field method.", "id": 802, "info": "<div><p>The usage of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Sampling_of_training_data_and_local_reference_configurations\" title=\"Machine learning force field calculations: Basics\">here</a>\n</p><p>This tag defines a lower threshold for taking new configurations from the MD, so that as long as the upper threshold for the Bayesian error (e.g. <a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a> times <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>) is not exceeded,  at least <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_NMDINT\">ML_NMDINT</a> MD steps are preformed using the MLFF (i.e. no first principles calculation is performed). This avoids that many nearly identical structures are added.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_NMDINT%22_incategory:%22Examples%22\" title='Special:Search/\"ML NMDINT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-26T20:40:39Z"}, "ML_WTIFOR": {"datatype": "real", "default": [["0.05", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span class=\"tag-value\">1</span>"], ["1.0", "otherwise"]], "options": {}, "summary": "This tag sets the weight for the scaling of the forces in the training data within the machine learning force field method.", "id": 805, "info": "<div><p><a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\">ML_WTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a> form a group of tags which set the normalization and weighting of ab initio training data, i.e.  energies, forces and stresses of the training structures. The main control tag is <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, please also have a look at its detailed description. If <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">1</span> the weight has unit eV/Angstrom and is used to divide the data by it. For </span><a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">2</span> and 3 the weights are unitless and multiplicative.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_WTIFOR%22_incategory:%22Examples%22\" title='Special:Search/\"ML WTIFOR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:31:53Z"}, "ML_WTOTEN": {"datatype": "real", "default": [["0.005", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span class=\"tag-value\">1</span>"], ["1.0", "otherwise"]], "options": {}, "summary": "This tag sets the weight for the scaling of the total energy in the training data within the machine learning force field method.", "id": 806, "info": "<div><p><a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a> form a group of tags which set the normalization and weighting of ab initio training data, i.e.  energies, forces and stresses of the training structures. The main control tag is <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, please also have a look at its detailed description. If <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">1</span> the weight has a unit of eV/atom and is used to divide the data by it. For </span><a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">2</span> and 3 the weights are unitless and the data is multiplied by the weight.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_WTOTEN%22_incategory:%22Examples%22\" title='Special:Search/\"ML WTOTEN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:32:01Z"}, "ML_WTSIF": {"datatype": "real", "default": [["5.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\">ML_IWEIGHT</a>=<span class=\"tag-value\">1</span>"], ["1.0", "otherwise"]], "options": {}, "summary": "This tag sets the weight for the scaling of the stress in the training data within the machine learning force field method.", "id": 807, "info": "<div><p><a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a>, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\">ML_WTSIF</a> form a group of tags which set the normalization and weighting of ab initio training data, i.e.  energies, forces and stresses of the training structures. The main control tag is <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, please also have a look at its detailed description. If <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">1</span> the weight has unit kBar and is used to divide the data by it. For </span><a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>=<span><span class=\"tag-value\">2</span> and 3 the weights are unitless and multiplicative.\n</span></p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IWEIGHT\" title=\"ML IWEIGHT\" class=\"tag-link\">ML_IWEIGHT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_WTSIF%22_incategory:%22Examples%22\" title='Special:Search/\"ML WTSIF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:32:08Z"}, "ML_CSLOPE": {"datatype": "real", "default": "0.2", "options": {}, "summary": "Parameter used in the automatic determination of threshold for Bayesian error estimation in the machine learning force field method.", "id": 814, "info": "<div><p>The usage of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Threshold_for_error_of_forces\" title=\"Machine learning force field calculations: Basics\">here</a>.\n</p><p>The standard error of the history of maximum Bayesian errors of the forces (<a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>) and it's slope must be below <a href=\"https://www.vasp.at/wiki/index.php/ML_CSIG\" title=\"ML CSIG\" class=\"tag-link\">ML_CSIG</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CSLOPE\">ML_CSLOPE</a> so that an update of the threshold for the maximum Bayesian error of forces <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> can take place. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSIG\" title=\"ML CSIG\" class=\"tag-link\">ML_CSIG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_CSLOPE%22_incategory:%22Examples%22\" title='Special:Search/\"ML CSLOPE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:21:16Z"}, "ML_CTIFOR": {"datatype": "real", "default": "0.002", "options": {}, "summary": "This flag sets the threshold for the Bayesian error estimation on the force within the machine learning force field method.", "id": 815, "info": "<div><p>The use of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Sampling_of_training_data_and_local_reference_configurations\" title=\"Machine learning force field calculations: Basics\">here</a>. Generally, first principles calculations are only performed if the Bayesian error estimate of one force exceeds the threshold. \n</p><p>The initial threshold is set to the value provided by the tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\">ML_CTIFOR</a> (the unit is eV/Angstrom). This threshold can be updated dynamically during ML. The details of the update are controlled by <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>. Typically, after extensive training, attainable values for ML_CTIFOR are 0.02 around 300-500 K, and 0.06 around 1000-2000 K, so temperature but also system dependent. The initial default 0.002 is only sensible, if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\">ML_CTIFOR</a>  is automatically updated (<a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span> or 2). If  </span><a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">0</span>, use significantly larger values around 0.02-0.06.  \n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSIG\" title=\"ML CSIG\" class=\"tag-link\">ML_CSIG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSLOPE\" title=\"ML CSLOPE\" class=\"tag-link\">ML_CSLOPE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_NMDINT\" title=\"ML NMDINT\" class=\"tag-link\">ML_NMDINT</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_CTIFOR%22_incategory:%22Examples%22\" title='Special:Search/\"ML CTIFOR\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-02T08:55:59Z"}, "ML_CSIG": {"datatype": "real", "default": "0.4", "options": {}, "summary": "Parameter used in the automatic determination of threshold <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\">ML_CTIFOR</a> for Bayesian error estimation in the machine learning force field method.", "id": 816, "info": "<div><p>The usage of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Threshold_for_error_of_forces\" title=\"Machine learning force field calculations: Basics\">here</a>.\n</p><p>The standard error of the history of maximum Bayesian errors of the forces (<a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>) and it's slope must be below <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CSIG\">ML_CSIG</a> and <a href=\"https://www.vasp.at/wiki/index.php/ML_CSLOPE\" title=\"ML CSLOPE\" class=\"tag-link\">ML_CSLOPE</a> so that an update of the threshold for the maximum Bayesian error of forces <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> can take place. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSLOPE\" title=\"ML CSLOPE\" class=\"tag-link\">ML_CSLOPE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_CSIG%22_incategory:%22Examples%22\" title='Special:Search/\"ML CSIG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:21:07Z"}, "ML_LEATOM": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "This term specifies whether the total atomic energy is written out or not.", "id": 817, "info": "<div><p>This tag specifies whether the total atomic energy (potential energy plus kinetic energy) for each MD step is written out to the  <a href=\"https://www.vasp.at/wiki/index.php/ML_EATOM\" title=\"ML EATOM\" class=\"tag-link\">ML_EATOM</a> file. It also writes the atomic positions and lattice parameters at every MD step to this file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_LEATOM%22_incategory:%22Examples%22\" title='Special:Search/\"ML LEATOM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:25:36Z"}, "ML_LHEAT": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "This tag specifies whether the heat flux is calculated or not in the machine learning force field method.", "id": 818, "info": "<div><p>The heat flux within machine learning force fields is decomposed into atomic contributions written as\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}{\\frac {d}{dt}}\\left(\\mathbf {r} _{i}E_{i}\\right),}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mi>t</mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mi>d</mi>\n            <mrow>\n              <mi>d</mi>\n              <mi>t</mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>E</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}{\\frac {d}{dt}}\\left(\\mathbf {r} _{i}E_{i}\\right),}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f9408963af217f1db0d73d80a31b72e03ef6f2a0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:21.444ex; height:7.343ex;\" alt=\"{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}{\\frac {d}{dt}}\\left(\\mathbf {r} _{i}E_{i}\\right),}\"></span>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{i}={\\frac {m_{i}\\left|\\mathbf {v} _{i}\\right|^{2}}{2}}+U_{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n              </msub>\n              <msup>\n                <mrow>\n                  <mo>|</mo>\n                  <msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">v</mi>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>i</mi>\n                    </mrow>\n                  </msub>\n                  <mo>|</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mn>2</mn>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{i}={\\frac {m_{i}\\left|\\mathbf {v} _{i}\\right|^{2}}{2}}+U_{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c775756eeadfcd41ebefb622c76cdb6869be6a10\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.838ex; width:19.076ex; height:6.009ex;\" alt=\"{\\displaystyle E_{i}={\\frac {m_{i}\\left|\\mathbf {v} _{i}\\right|^{2}}{2}}+U_{i}}\"></span>\n</p><p>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {r} _{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {r} _{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ed603561819ebd007acd75a0931d3ba401ad677a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.902ex; height:2.009ex;\" alt=\"{\\displaystyle \\mathbf {r} _{i}}\"></span>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {v} _{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">v</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {v} _{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/51747274b58895dd357bb270ba1b5cb71e4fa355\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.211ex; height:2.009ex;\" alt=\"{\\displaystyle \\mathbf {v} _{i}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8ba9f6e3041b052cf13a0ede4ecf35fb4c9cd16c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.515ex; height:2.509ex;\" alt=\"{\\displaystyle E_{i}}\"></span> denote the position vector, velocity and energy of atom <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle i}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>i</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle i}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.802ex; height:2.176ex;\" alt=\"i\"></span>, respectively. The number of atoms in the system is denoted by <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{a}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>a</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{a}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/51e35e0d32883d0f4f6ba9d15fbbdebe42931253\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.968ex; height:2.509ex;\" alt=\"N_{{a}}\"></span>. The heat flux can be further rewritten as\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}+\\sum \\limits _{i=1}^{N_{a}}\\mathbf {r} _{i}\\left(m_{i}\\mathbf {v} _{i}\\cdot {\\frac {d\\mathbf {v} _{i}}{dt}}+\\sum \\limits _{j=1}^{N_{a}}\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right).}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mi>t</mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">v</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <msub>\n              <mi>m</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">v</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mfrac>\n                <mrow>\n                  <mi>d</mi>\n                  <msub>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">v</mi>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi>i</mi>\n                    </mrow>\n                  </msub>\n                </mrow>\n                <mrow>\n                  <mi>d</mi>\n                  <mi>t</mi>\n                </mrow>\n              </mfrac>\n            </mrow>\n            <mo>+</mo>\n            <munderover>\n              <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n                <mo>=</mo>\n                <mn>1</mn>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <msub>\n                  <mi>N</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>a</mi>\n                  </mrow>\n                </msub>\n              </mrow>\n            </munderover>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">v</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <msub>\n              <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>U</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}+\\sum \\limits _{i=1}^{N_{a}}\\mathbf {r} _{i}\\left(m_{i}\\mathbf {v} _{i}\\cdot {\\frac {d\\mathbf {v} _{i}}{dt}}+\\sum \\limits _{j=1}^{N_{a}}\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right).}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/30a6b9876f7085ffdd87060479077fadf2473a70\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:56.025ex; height:7.676ex;\" alt=\"{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}+\\sum \\limits _{i=1}^{N_{a}}\\mathbf {r} _{i}\\left(m_{i}\\mathbf {v} _{i}\\cdot {\\frac {d\\mathbf {v} _{i}}{dt}}+\\sum \\limits _{j=1}^{N_{a}}\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right).}\"></span>\n</p><p>Using the equation of motions\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle m_{i}{\\frac {d\\mathbf {v} _{i}}{dt}}=-\\sum \\limits _{j=1}^{N_{a}}\\nabla _{i}U_{j}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>m</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mi>d</mi>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">v</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n              </msub>\n            </mrow>\n            <mrow>\n              <mi>d</mi>\n              <mi>t</mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle m_{i}{\\frac {d\\mathbf {v} _{i}}{dt}}=-\\sum \\limits _{j=1}^{N_{a}}\\nabla _{i}U_{j}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/771082a9b6d93921fb90582884c639c75fe98b99\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:21.371ex; height:7.676ex;\" alt=\"{\\displaystyle m_{i}{\\frac {d\\mathbf {v} _{i}}{dt}}=-\\sum \\limits _{j=1}^{N_{a}}\\nabla _{i}U_{j}}\"></span>\n</p><p>the heat flux can be simplified to\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}-\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\mathbf {r} _{i}\\left(\\mathbf {v} _{i}\\cdot \\nabla _{i}U_{j}\\right)+\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\mathbf {r} _{i}\\left(\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}+\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\left(\\mathbf {r} _{i}-\\mathbf {r} _{j}\\right)\\left(\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right).}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mi>t</mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">v</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">v</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <msub>\n              <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>U</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>+</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">v</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <msub>\n              <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>U</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">v</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">v</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <msub>\n              <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>j</mi>\n              </mrow>\n            </msub>\n            <msub>\n              <mi>U</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}-\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\mathbf {r} _{i}\\left(\\mathbf {v} _{i}\\cdot \\nabla _{i}U_{j}\\right)+\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\mathbf {r} _{i}\\left(\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}+\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\left(\\mathbf {r} _{i}-\\mathbf {r} _{j}\\right)\\left(\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right).}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/642b5e76da152236a9fdee19db434b54083997a1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:105.748ex; height:7.676ex;\" alt=\"{\\displaystyle \\mathbf {q} (t)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}-\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\mathbf {r} _{i}\\left(\\mathbf {v} _{i}\\cdot \\nabla _{i}U_{j}\\right)+\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\mathbf {r} _{i}\\left(\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right)=\\sum \\limits _{i=1}^{N_{a}}\\mathbf {v} _{i}E_{i}+\\sum \\limits _{i=1}^{N_{a}}\\sum \\limits _{j=1}^{N_{a}}\\left(\\mathbf {r} _{i}-\\mathbf {r} _{j}\\right)\\left(\\mathbf {v} _{j}\\cdot \\nabla _{j}U_{i}\\right).}\"></span>\n</p><p>Finally (in a post-processing step), the thermal conductivity at temperature <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle T}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>T</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle T}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ec7200acd984a1d3a3d7dc455e262fbe54f7f6e0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.636ex; height:2.176ex;\" alt=\"T\"></span> in the Green-Kubo formalism can be calculated from the correlation of the heat flux <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7be005a326b7ac3fe4c24bca391369f44c4c2876\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.416ex; height:2.009ex;\" alt=\"{\\displaystyle \\mathbf {q} }\"></span> as\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\kappa ={\\frac {1}{3Vk_{b}T^{2}}}\\int \\limits _{0}^{\\infty }\\langle \\mathbf {q} (t)\\cdot \\mathbf {q} (0)\\rangle dt,}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#954;<!-- &#954; --></mi>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <mn>3</mn>\n              <mi>V</mi>\n              <msub>\n                <mi>k</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>b</mi>\n                </mrow>\n              </msub>\n              <msup>\n                <mi>T</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <munderover>\n          <mo>&#8747;<!-- &#8747; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"normal\">&#8734;<!-- &#8734; --></mi>\n          </mrow>\n        </munderover>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mi>t</mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8901;<!-- &#8901; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n        <mo stretchy=\"false\">(</mo>\n        <mn>0</mn>\n        <mo stretchy=\"false\">)</mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mi>d</mi>\n        <mi>t</mi>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\kappa ={\\frac {1}{3Vk_{b}T^{2}}}\\int \\limits _{0}^{\\infty }\\langle \\mathbf {q} (t)\\cdot \\mathbf {q} (0)\\rangle dt,}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/19cd3db0a2d9e13425b7ed9f85c3d8d1f4cbe8f4\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.005ex; width:30.68ex; height:8.843ex;\" alt=\"{\\displaystyle \\kappa ={\\frac {1}{3Vk_{b}T^{2}}}\\int \\limits _{0}^{\\infty }\\langle \\mathbf {q} (t)\\cdot \\mathbf {q} (0)\\rangle dt,}\"></span>\n</p><p><br>\nwhere <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>V</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/af0f6064540e84211d0ffe4dac72098adfa52845\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.787ex; height:2.176ex;\" alt=\"V\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle k_{b}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>k</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>b</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle k_{b}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4ad96a35bc2b042df24d22dfc172472bac6c62bf\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.149ex; height:2.509ex;\" alt=\"{\\displaystyle k_{b}}\"></span> denotes the volume of the system and the Boltzmann constant, respectively.\n</p><p><br> \n</p><p>The heat flux is written to the file <a href=\"https://www.vasp.at/wiki/index.php/ML_HEAT\" title=\"ML HEAT\" class=\"tag-link\">ML_HEAT</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LEATOM\" title=\"ML LEATOM\" class=\"tag-link\">ML_LEATOM</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_LHEAT%22_incategory:%22Examples%22\" title='Special:Search/\"ML LHEAT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-10T07:24:12Z"}, "ML_ISCALE_TOTEN": {"datatype": "integer", "default": "2", "options": {}, "summary": "This tag specifies how to scale the energy data in the machine learning force field method.", "id": 819, "info": "<div><p>The following cases are possible:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISCALE_TOTEN\">ML_ISCALE_TOTEN</a>=<span><span class=\"tag-value\">1</span>: The total energy is scaled to the total energy of the isolated atoms given by </span><a href=\"https://www.vasp.at/wiki/index.php/ML_EATOM_REF\" title=\"ML EATOM REF\" class=\"tag-link\">ML_EATOM_REF</a>.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_ISCALE_TOTEN\">ML_ISCALE_TOTEN</a>=<span><span class=\"tag-value\">2</span>: The total energy is scaled to the average of the training data. This is the default setting.</span></li></ul>\n<p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_EATOM_REF\" title=\"ML EATOM REF\" class=\"tag-link\">ML_EATOM_REF</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_ISCALE_TOTEN%22_incategory:%22Examples%22\" title='Special:Search/\"ML ISCALE TOTEN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:24:22Z"}, "ML_MB": {"datatype": "integer", "default": "see below", "options": {}, "summary": "This tag sets the maximum number of local reference configurations (i.e. basis functions in the kernel) in the machine learning force field method.", "id": 820, "info": "<div><p>The defaults for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MB\">ML_MB</a> are different for each different <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> setting. Here are the defaults for each mode:\n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'TRAIN'</span>:\n</span><ul><li>No <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> present (learning from scratch): min(1500 , max(<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> , 2*<a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a> * MAXAT_SP)</li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> present (continuation of learning): MB_AB + min(1500, max(<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> , 2*<a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a> * MAXAT_SP)</li></ul></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'SELECT'</span>: MB_AB + </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a> * MAXAT_SP</li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'REFIT'</span>: MB_AB + MAXAT_SP</span></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'REFITBAYESIAN'</span>: MB_AB + MAXAT_SP</span></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'RUN'</span>: MB_AB</span></li></ul>\n<p>using the following definitions:|\n</p>\n<ul><li>MAXAT_SP = greatest number of atoms within all species among the current structures and the structures in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file (if present).</li>\n<li>MB_AB = greatest number of local reference configurations within all species in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file.</li></ul>\n<p>The default value for <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>TRAIN</i> and <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>SELECT</i> is a relatively safe value for most materials. However one might need to increase it to a greater value for liquids, polymers and amorphous systems, or when a MLFF for many different polytypes is trained. By default (<a href=\"https://www.vasp.at/wiki/index.php/ML_LBASIS_DISCARD\" title=\"ML LBASIS DISCARD\" class=\"tag-link\">ML_LBASIS_DISCARD</a>=<i>.TRUE.</i>), if the number of local reference configurations would exceed <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MB\">ML_MB</a>, VASP would continue the calculation and disposes of these, but one should make extensive tests whether the generated MLFF is sufficiently accurate.\n</p><p>If VASP stops, subsequent training can be restarted from the existing ML_AB file. This avoids loss of already acquired training data.\n</p><p>Depending on the calculation mode VASP adds a little overhead in the allocation of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MB\">ML_MB</a> arrays to buffer for new candidate structures. Here are the buffer sizes for each mode:\n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'TRAIN'</span>:\n</span><ul><li>No <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> present (learning from scratch): min(<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> , <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a>) * MAXAT_SP</li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> present (continuation of learning): min(<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a> , <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a>) * MAXAT_SP</li></ul></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'SELECT'</span>: </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a> * MAXAT_SP</li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'REFIT'</span>: MAXAT_SP</span></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'REFITBAYESIAN'</span>: MAXAT_SP</span></li>\n<li><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<span><span class=\"tag-value\">'RUN'</span>: 0</span></li></ul>\n<p>The flag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MB\">ML_MB</a> also determines the maximum number of rows of the design matrix.   This is usually a huge matrix. The design matrix is allocated statically at the beginning of the run, since several parts of the code use MPI shared memory and dynamic reallocation of these arrays can cause issues on many operating systems. An estimate of the size of the design matrix and all other large arrays is printed out to the <a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a> before allocation. The design matrix is fully distributed in a block-cyclic fashion for scaLAPACK, and thus the memory requirement for each core scales inversely proportional to the number of used cores. \n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF\" title=\"ML MCONF\" class=\"tag-link\">ML_MCONF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LBASIS_DISCARD\" title=\"ML LBASIS DISCARD\" class=\"tag-link\">ML_LBASIS_DISCARD</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_MB%22_incategory:%22Examples%22\" title='Special:Search/\"ML MB\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-14T09:11:22Z"}, "ML_W1": {"datatype": "real", "default": "0.1", "options": {}, "summary": "This tag defines the weight <math>\\beta</math> for the radial (and angular) descriptor within the machine learning force field method (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field%3A_Theory%23Potential_energy_fitting\">this section</a>).", "id": 821, "info": "<div><p>The weight for the angular descriptor <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle W_{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>W</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle W_{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/421467fcab2af38ddf3977b9adf66de8ef3abd57\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.248ex; height:2.509ex;\" alt=\"{\\displaystyle W_{2}}\"></span> is internally computed from the weight of the radial descriptor <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle W_{1}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>W</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle W_{1}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/74ab879909bd9762251f679bbb2fa738100baa45\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.248ex; height:2.509ex;\" alt=\"{\\displaystyle W_{1}}\"></span> as:\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle W_{2}=1.0-W_{1}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>W</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>1.0</mn>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>W</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle W_{2}=1.0-W_{1}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9015eddf959df64b8a6f3b3e66a7aa94c7ca288c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:16.053ex; height:2.509ex;\" alt=\"{\\displaystyle W_{2}=1.0-W_{1}.}\"></span>\n</p><p>The value for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_W1\">ML_W1</a> must be chosen in the interval <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle [0,1]}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">[</mo>\n        <mn>0</mn>\n        <mo>,</mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">]</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle [0,1]}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/738f7d23bb2d9642bab520020873cccbef49768d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.653ex; height:2.843ex;\" alt=\"{\\displaystyle [0,1]}\"></span>.\n</p><p>By default, the angular and radial descriptors are both used although the latter is weighed less. In principle a weight of 0 for one of them is selectable which allows the code to internally skip the respective computation. However, it is generally recommended to use both descriptors to achieve satisfying training results.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT1\" title=\"ML RCUT1\" class=\"tag-link\">ML_RCUT1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT2\" title=\"ML RCUT2\" class=\"tag-link\">ML_RCUT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION1\" title=\"ML SION1\" class=\"tag-link\">ML_SION1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION2\" title=\"ML SION2\" class=\"tag-link\">ML_SION2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_W1%22_incategory:%22Examples%22\" title='Special:Search/\"ML W1\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:31:44Z"}, "ML_IREG": {"datatype": "integer", "default": "2", "options": {}, "summary": "This tag specifies whether the regularization parameters are kept constant or not in the machine learning force field method.", "id": 829, "info": "<div><p>The following cases are possible for this tag:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IREG\">ML_IREG</a>=<span><span class=\"tag-value\">1</span>: The (initial) precision (</span><a href=\"https://www.vasp.at/wiki/index.php/ML_SIGV0\" title=\"ML SIGV0\" class=\"tag-link\">ML_SIGV0</a>) and noise (<a href=\"https://www.vasp.at/wiki/index.php/ML_SIGW0\" title=\"ML SIGW0\" class=\"tag-link\">ML_SIGW0</a>) parameters are kept constant.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IREG\">ML_IREG</a>=<span><span class=\"tag-value\">2</span>: The parameters are optimized (default).</span></li></ul>\n<p>For the optimization of the noise parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{\\mathrm {v} }^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{\\mathrm {v} }^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2c50fe23f90e6d600c30702943758fe5de571ea9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.428ex; height:2.843ex;\" alt=\"\\sigma _{{{\\mathrm  {v}}}}^{{2}}\"></span> see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_fields:_Theory#Bayesian_error_estimation\" class=\"mw-redirect\" title=\"Machine learning force fields: Theory\">this section</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SIGV0\" title=\"ML SIGV0\" class=\"tag-link\">ML_SIGV0</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SIGW0\" title=\"ML SIGW0\" class=\"tag-link\">ML_SIGW0</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_IREG%22_incategory:%22Examples%22\" title='Special:Search/\"ML IREG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:24:11Z"}, "ML_SIGV0": {"datatype": "real", "default": "1.0", "options": {}, "summary": "This flag sets the initial reversed and squared noise parameter <math>\\frac{1}{\\sigma_{\\mathrm{v}}^{2}}</math> in the machine learning force field method.", "id": 830, "info": "<div><p>For details about the optimization of this regularization parameter see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Bayesian_error_estimation\" title=\"Machine learning force field: Theory\">this section</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_sections\">Related tags and sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IREG\" title=\"ML IREG\" class=\"tag-link\">ML_IREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SIGW0\" title=\"ML SIGW0\" class=\"tag-link\">ML_SIGW0</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_SIGV0%22_incategory:%22Examples%22\" title='Special:Search/\"ML SIGV0\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:30:59Z"}, "ML_SIGW0": {"datatype": null, "default": [["1E-7", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span class=\"tag-value\">REFIT</span>"], ["1.0", "else"]], "options": {}, "summary": "This flag sets the initial reversed and squared precision parameter <math>\\frac{1}{\\sigma_{\\mathrm{w}}^{2}}</math> in the machine learning force field method.", "id": 831, "info": "<div><p>For details about the optimization of this regularization parameter see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Bayesian_error_estimation\" title=\"Machine learning force field: Theory\">this section</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IREG\" title=\"ML IREG\" class=\"tag-link\">ML_IREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SIGV0\" title=\"ML SIGV0\" class=\"tag-link\">ML_SIGV0</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_SIGW0%22_incategory:%22Examples%22\" title='Special:Search/\"ML SIGW0\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-26T20:47:09Z"}, "ML_MRB1": {"datatype": "integer", "default": "12", "options": {}, "summary": "This tag sets the number <math>N_\\text{R}^0</math> of radial basis functions used to expand the radial descriptor <math>\\rho^{(2)}_i(r)</math> within the machine learning force field method.", "id": 836, "info": "<div><p>The radial descriptor is constructed from\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>2</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mi>r</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <mn>4</mn>\n              <mi>&#960;<!-- &#960; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtext>where</mtext>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">a</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f3b55e8f22746d55747213dc6e6361428fb6461a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:67.717ex; height:7.676ex;\" alt=\"{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\"></span>\n</p><p>and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5773cd50899a74abff5c19e3f9326bebe322861f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.414ex; height:2.843ex;\" alt=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\"></span> is an approximation of the delta function. In practice, the continuous function above is transformed into a discrete set of numbers by expanding it into a set of radial basis functions <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi _{n0}(r)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi _{n0}(r)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/37975e5aa455b8f2527410faac08cddeb3ab7a28\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.353ex; height:2.843ex;\" alt=\"{\\displaystyle \\chi _{n0}(r)}\"></span> (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Basis_set_expansion\" title=\"Machine learning force field: Theory\">this section</a> for more details):\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{\\sqrt {4\\pi }}}\\sum \\limits _{n=1}^{N_{\\mathrm {R} }^{0}}c_{n00}^{i}\\chi _{n0}\\left(r\\right).}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>2</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mi>r</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msqrt>\n              <mn>4</mn>\n              <mi>&#960;<!-- &#960; --></mi>\n            </msqrt>\n          </mfrac>\n        </mrow>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msubsup>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">R</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>0</mn>\n              </mrow>\n            </msubsup>\n          </mrow>\n        </munderover>\n        <msubsup>\n          <mi>c</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mn>00</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msubsup>\n        <msub>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>r</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{\\sqrt {4\\pi }}}\\sum \\limits _{n=1}^{N_{\\mathrm {R} }^{0}}c_{n00}^{i}\\chi _{n0}\\left(r\\right).}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/18bbea5008d91b04a246ebbd26a76d478818bad6\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:30.919ex; height:8.176ex;\" alt=\"{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{\\sqrt {4\\pi }}}\\sum \\limits _{n=1}^{N_{\\mathrm {R} }^{0}}c_{n00}^{i}\\chi _{n0}\\left(r\\right).}\"></span>\n</p><p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MRB1\">ML_MRB1</a> sets the number <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\text{R}}^{0}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>R</mtext>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\text{R}}^{0}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/848dcb3710128f693db2a80d7b8641b95438a205\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:3.308ex; height:3.176ex;\" alt=\"{\\displaystyle N_{\\text{R}}^{0}}\"></span> of radial basis functions to use in this expansion.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB2\" title=\"ML MRB2\" class=\"tag-link\">ML_MRB2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_W1\" title=\"ML W1\" class=\"tag-link\">ML_W1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT1\" title=\"ML RCUT1\" class=\"tag-link\">ML_RCUT1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION1\" title=\"ML SION1\" class=\"tag-link\">ML_SION1</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_MRB1%22_incategory:%22Examples%22\" title='Special:Search/\"ML MRB1\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-05-09T08:06:26Z"}, "ML_MRB2": {"datatype": "integer", "default": "8", "options": {}, "summary": "This tag sets the number <math>N_\\text{R}^l</math> (for all <math>l</math>) of radial basis functions used to expand the angular descriptor within the machine learning force field method.", "id": 837, "info": "<div><p>The angular descriptor is constructed from\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>3</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mo>,</mo>\n            <mi>s</mi>\n            <mo>,</mo>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mo>&#8748;<!-- &#8748; --></mo>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">s</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mi>&#948;<!-- &#948; --></mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">s</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">s</mi>\n            </mrow>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>k</mi>\n            <mo>&#8800;<!-- &#8800; --></mo>\n            <mi>j</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>k</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>s</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">s</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtext>where</mtext>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/455c4e15fec879ad497762ea906ac26f3c5de051\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.505ex; width:99.323ex; height:7.843ex;\" alt=\"{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\"></span>\n</p><p>and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5773cd50899a74abff5c19e3f9326bebe322861f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.414ex; height:2.843ex;\" alt=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\"></span> is an approximation of the delta function. In practice, the continuous function above is transformed into a discrete set of numbers <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle p_{n\\nu l}^{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>p</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>&#957;<!-- &#957; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle p_{n\\nu l}^{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f484a0ba9588f2bd0d582fea9ea3aecb77b1ad6e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; margin-left: -0.089ex; width:3.839ex; height:3.176ex;\" alt=\"p_{{n\\nu l}}^{{i}}\"></span> by expanding it into a set of radial basis functions <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi _{nl}(r)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi _{nl}(r)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/6b8cc8c69974f30a020020678c9569ea39db3dbf\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.022ex; height:2.843ex;\" alt=\"{\\displaystyle \\chi _{nl}(r)}\"></span> and Legendre polynomials <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle P_{l}\\left(\\mathrm {cos} \\theta \\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>P</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">s</mi>\n            </mrow>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle P_{l}\\left(\\mathrm {cos} \\theta \\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9d282bb5508774d67322ecfac572842be5302439\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:8.613ex; height:2.843ex;\" alt=\"{\\displaystyle P_{l}\\left(\\mathrm {cos} \\theta \\right)}\"></span> (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Basis_set_expansion\" title=\"Machine learning force field: Theory\">this section</a> for more details):\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\sum \\limits _{l=1}^{L_{\\mathrm {max} }}\\sum \\limits _{n=1}^{N_{\\mathrm {R} }^{l}}\\sum \\limits _{\\nu =1}^{N_{\\mathrm {R} }^{l}}{\\sqrt {\\frac {2l+1}{2}}}p_{n\\nu l}^{i}\\chi _{nl}\\left(r\\right)\\chi _{\\nu l}\\left(s\\right)P_{l}\\left(\\mathrm {cos} \\theta \\right).}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>3</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mo>,</mo>\n            <mi>s</mi>\n            <mo>,</mo>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>L</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">m</mi>\n                  <mi mathvariant=\"normal\">a</mi>\n                  <mi mathvariant=\"normal\">x</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msubsup>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">R</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>l</mi>\n              </mrow>\n            </msubsup>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#957;<!-- &#957; --></mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msubsup>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">R</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>l</mi>\n              </mrow>\n            </msubsup>\n          </mrow>\n        </munderover>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mfrac>\n              <mrow>\n                <mn>2</mn>\n                <mi>l</mi>\n                <mo>+</mo>\n                <mn>1</mn>\n              </mrow>\n              <mn>2</mn>\n            </mfrac>\n          </msqrt>\n        </mrow>\n        <msubsup>\n          <mi>p</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>&#957;<!-- &#957; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msubsup>\n        <msub>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>r</mi>\n          <mo>)</mo>\n        </mrow>\n        <msub>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#957;<!-- &#957; --></mi>\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>s</mi>\n          <mo>)</mo>\n        </mrow>\n        <msub>\n          <mi>P</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">s</mi>\n            </mrow>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\sum \\limits _{l=1}^{L_{\\mathrm {max} }}\\sum \\limits _{n=1}^{N_{\\mathrm {R} }^{l}}\\sum \\limits _{\\nu =1}^{N_{\\mathrm {R} }^{l}}{\\sqrt {\\frac {2l+1}{2}}}p_{n\\nu l}^{i}\\chi _{nl}\\left(r\\right)\\chi _{\\nu l}\\left(s\\right)P_{l}\\left(\\mathrm {cos} \\theta \\right).}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/63b72bd512842af92ead69e83bf8060c5e795794\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:61.699ex; height:8.176ex;\" alt=\"{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\sum \\limits _{l=1}^{L_{\\mathrm {max} }}\\sum \\limits _{n=1}^{N_{\\mathrm {R} }^{l}}\\sum \\limits _{\\nu =1}^{N_{\\mathrm {R} }^{l}}{\\sqrt {\\frac {2l+1}{2}}}p_{n\\nu l}^{i}\\chi _{nl}\\left(r\\right)\\chi _{\\nu l}\\left(s\\right)P_{l}\\left(\\mathrm {cos} \\theta \\right).}\"></span>\n</p><p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MRB2\">ML_MRB2</a> sets the number <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\text{R}}^{l}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>R</mtext>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\text{R}}^{l}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/484ed052ca2540976f3de9b781cafffc8c03037b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:3.308ex; height:3.176ex;\" alt=\"{\\displaystyle N_{\\text{R}}^{l}}\"></span> of radial basis functions to use in this expansion. The same number is used for all <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle l}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>l</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle l}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/829091f745070b9eb97a80244129025440a1cfac\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.693ex; height:2.176ex;\" alt=\"l\"></span>.\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The number of angular descriptor expansion coefficients <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle p_{n\\nu l}^{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>p</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>&#957;<!-- &#957; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle p_{n\\nu l}^{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f484a0ba9588f2bd0d582fea9ea3aecb77b1ad6e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; margin-left: -0.089ex; width:3.839ex; height:3.176ex;\" alt=\"p_{{n\\nu l}}^{{i}}\"></span> scales <b>quadratically</b> with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\text{R}}^{l}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>R</mtext>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\text{R}}^{l}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/484ed052ca2540976f3de9b781cafffc8c03037b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:3.308ex; height:3.176ex;\" alt=\"{\\displaystyle N_{\\text{R}}^{l}}\"></span> set by this tag. It also depends on <a href=\"https://www.vasp.at/wiki/index.php/ML_LMAX2\" title=\"ML LMAX2\" class=\"tag-link\">ML_LMAX2</a> and the number of elements.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LMAX2\" title=\"ML LMAX2\" class=\"tag-link\">ML_LMAX2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB1\" title=\"ML MRB1\" class=\"tag-link\">ML_MRB1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_W1\" title=\"ML W1\" class=\"tag-link\">ML_W1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT2\" title=\"ML RCUT2\" class=\"tag-link\">ML_RCUT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION2\" title=\"ML SION2\" class=\"tag-link\">ML_SION2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_MRB2%22_incategory:%22Examples%22\" title='Special:Search/\"ML MRB2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-03-31T11:56:16Z"}, "ML_RCUT1": {"datatype": "real", "default": "8.0", "options": {}, "summary": "Sets the cutoff radius <math>R_\\text{cut}</math> for the radial descriptor <math>\\rho^{(2)}_i(r)</math> in <math>\\AA</math>.", "id": 838, "info": "<div><p>The radial descriptor for machine-learned force fields is constructed from\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>2</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mi>r</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <mn>4</mn>\n              <mi>&#960;<!-- &#960; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtext>where</mtext>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">a</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f3b55e8f22746d55747213dc6e6361428fb6461a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:67.717ex; height:7.676ex;\" alt=\"{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\"></span>\n</p><p>and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5773cd50899a74abff5c19e3f9326bebe322861f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.414ex; height:2.843ex;\" alt=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\"></span> is an approximation of the delta function. A basis set expansion of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(2)}(r)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>2</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(2)}(r)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/650d8460aefd08fa9e48d5edea2ae84dc423cd61\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.393ex; height:3.676ex;\" alt=\"{\\displaystyle \\rho _{i}^{(2)}(r)}\"></span> yields the expansion coefficients <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c_{n00}^{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>c</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mn>00</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c_{n00}^{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c3a7e65ecd37bcec7d07f9525547f2213d39a366\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:3.869ex; height:3.176ex;\" alt=\"c_{{n00}}^{{i}}\"></span>, which are used in practice to describe the atomic environment; refer to the <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Descriptors\" title=\"Machine learning force field: Theory\">theory of machine-learned force fields</a> for details. The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_RCUT1\">ML_RCUT1</a> sets the cutoff radius <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle R_{\\text{cut}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>R</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>cut</mtext>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle R_{\\text{cut}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9c5d16f2d9bb20da01d5f0343c856f7b44261120\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.28ex; height:2.509ex;\" alt=\"{\\displaystyle R_{\\text{cut}}}\"></span> at which the cutoff function <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle f_{\\mathrm {cut} }\\left(r_{ij}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle f_{\\mathrm {cut} }\\left(r_{ij}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c1bc304e8ca2896fda4223453371b2679a857afc\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:8.377ex; height:3.009ex;\" alt=\"{\\displaystyle f_{\\mathrm {cut} }\\left(r_{ij}\\right)}\"></span> decays to zero.\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The cutoff radius determines how many neighbor atoms <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\mathrm {a} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\mathrm {a} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/721128a6caafb2be0021ea29261db759a2d9ba80\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.92ex; height:2.509ex;\" alt=\"{\\displaystyle N_{\\mathrm {a} }}\"></span> are considered to describe each central atom's environment. Hence, important features may be missed if the cutoff radius is too small. On the other hand, a large cutoff radius increases the computational cost of the descriptor as the cutoff sphere contains more neighbor atoms. A good compromise is always system-dependent. Therefore, different values should be tested to achieve satisfying accuracy <b>and</b> speed.\n</div><p>The unit of the cut-off radius is <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT2\" title=\"ML RCUT2\" class=\"tag-link\">ML_RCUT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_W1\" title=\"ML W1\" class=\"tag-link\">ML_W1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION1\" title=\"ML SION1\" class=\"tag-link\">ML_SION1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION2\" title=\"ML SION2\" class=\"tag-link\">ML_SION2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB1\" title=\"ML MRB1\" class=\"tag-link\">ML_MRB1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB2\" title=\"ML MRB2\" class=\"tag-link\">ML_MRB2</a> \n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_RCUT1%22_incategory:%22Examples%22\" title='Special:Search/\"ML RCUT1\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-05-11T06:34:47Z"}, "ML_RCUT2": {"datatype": "real", "default": "5.0", "options": {}, "summary": "This flag sets the cutoff radius <math>R_\\text{cut}</math> for the angular descriptor <math>\\rho^{(3)}_i(r)</math> in the machine learning force field method. The unit of the cut-off radius is <math>\\AA</math>.", "id": 839, "info": "<div><p>The angular descriptor is constructed from\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>3</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mo>,</mo>\n            <mi>s</mi>\n            <mo>,</mo>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mo>&#8748;<!-- &#8748; --></mo>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">s</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mi>&#948;<!-- &#948; --></mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">s</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">s</mi>\n            </mrow>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>k</mi>\n            <mo>&#8800;<!-- &#8800; --></mo>\n            <mi>j</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>k</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>s</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">s</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtext>where</mtext>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/455c4e15fec879ad497762ea906ac26f3c5de051\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.505ex; width:99.323ex; height:7.843ex;\" alt=\"{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\"></span>\n</p><p>and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5773cd50899a74abff5c19e3f9326bebe322861f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.414ex; height:2.843ex;\" alt=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\"></span> is an approximation of the delta function. A basis set expansion of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(3)}(r)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>3</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(3)}(r)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/15cdfded7712b34b0ff41eb6d4c931f13bbf19c5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.393ex; height:3.676ex;\" alt=\"{\\displaystyle \\rho _{i}^{(3)}(r)}\"></span> yields the expansion coefficients <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle p_{n\\nu l}^{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>p</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>&#957;<!-- &#957; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle p_{n\\nu l}^{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f484a0ba9588f2bd0d582fea9ea3aecb77b1ad6e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; margin-left: -0.089ex; width:3.839ex; height:3.176ex;\" alt=\"p_{{n\\nu l}}^{{i}}\"></span> which are used in practice to describe the atomic environment (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Descriptors\" title=\"Machine learning force field: Theory\">this section</a> for details). The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_RCUT2\">ML_RCUT2</a> sets the cutoff radius <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle R_{\\text{cut}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>R</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>cut</mtext>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle R_{\\text{cut}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9c5d16f2d9bb20da01d5f0343c856f7b44261120\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.28ex; height:2.509ex;\" alt=\"{\\displaystyle R_{\\text{cut}}}\"></span> at which the cutoff function <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle f_{\\mathrm {cut} }\\left(r_{ij}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle f_{\\mathrm {cut} }\\left(r_{ij}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c1bc304e8ca2896fda4223453371b2679a857afc\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:8.377ex; height:3.009ex;\" alt=\"{\\displaystyle f_{\\mathrm {cut} }\\left(r_{ij}\\right)}\"></span> decays to zero.\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The cutoff radius determines how many neighbor atoms <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{\\mathrm {a} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">a</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{\\mathrm {a} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/721128a6caafb2be0021ea29261db759a2d9ba80\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.92ex; height:2.509ex;\" alt=\"{\\displaystyle N_{\\mathrm {a} }}\"></span> are taken into account to describe each central atom's environment. Hence, important features may be missed if the cutoff radius is set to a too small value. On the other hand, a large cutoff radius increases the computational cost as the cutoff sphere contains more neighbor atoms. A larger cutoff can also significantly degrade the learning efficiency. A good compromise is system-dependent, therefore different values should be tested to achieve satisfactory accuracy <b>and</b> speed.\n</div><p>For materials containing only H, B, C, O, N, and F (i.e. organic molecules, polymers), the learning efficiency might increase when ML_RCUT2 is set to values around 4  <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span> (that is, less training data are required to achieve a specific accuracy), wheres for materials with very long bonds, a larger value around 6  <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span> can improve the accuracy,\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT1\" title=\"ML RCUT1\" class=\"tag-link\">ML_RCUT1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_W1\" title=\"ML W1\" class=\"tag-link\">ML_W1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION1\" title=\"ML SION1\" class=\"tag-link\">ML_SION1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION2\" title=\"ML SION2\" class=\"tag-link\">ML_SION2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB1\" title=\"ML MRB1\" class=\"tag-link\">ML_MRB1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB2\" title=\"ML MRB2\" class=\"tag-link\">ML_MRB2</a> \n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_RCUT1%22_incategory:%22Examples%22\" title='Special:Search/\"ML RCUT1\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-05-09T13:35:23Z"}, "ML_SION1": {"datatype": "real", "default": "0.5", "options": {}, "summary": "This tag specifies the width <math>\\sigma_\\text{atom}</math> of the Gaussian functions used for broadening the atomic distributions of the radial descriptor <math>\\rho^{(2)}_i(r)</math> within the machine learning force field method.", "id": 840, "info": "<div><p>The radial descriptor is constructed from\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>2</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mi>r</mi>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <mn>4</mn>\n              <mi>&#960;<!-- &#960; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtext>where</mtext>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">a</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f3b55e8f22746d55747213dc6e6361428fb6461a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:67.717ex; height:7.676ex;\" alt=\"{\\displaystyle \\rho _{i}^{(2)}\\left(r\\right)={\\frac {1}{4\\pi }}\\int \\rho _{i}\\left(r{\\hat {\\mathbf {r} }}\\right)d{\\hat {\\mathbf {r} }},\\quad {\\text{where}}\\quad \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\"></span>\n</p><p>and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5773cd50899a74abff5c19e3f9326bebe322861f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.414ex; height:2.843ex;\" alt=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\"></span> is the following approximation of the delta function:\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)={\\frac {1}{\\sqrt {2\\sigma _{\\mathrm {atom} }\\pi }}}\\mathrm {exp} \\left(-{\\frac {|\\mathbf {r} |^{2}}{2\\sigma _{\\mathrm {atom} }^{2}}}\\right).}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msqrt>\n              <mn>2</mn>\n              <msub>\n                <mi>&#963;<!-- &#963; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">o</mi>\n                    <mi mathvariant=\"normal\">m</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mi>&#960;<!-- &#960; --></mi>\n            </msqrt>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">e</mi>\n          <mi mathvariant=\"normal\">x</mi>\n          <mi mathvariant=\"normal\">p</mi>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mfrac>\n                <mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mo stretchy=\"false\">|</mo>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <msup>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">|</mo>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mn>2</mn>\n                    </mrow>\n                  </msup>\n                </mrow>\n                <mrow>\n                  <mn>2</mn>\n                  <msubsup>\n                    <mi>&#963;<!-- &#963; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">a</mi>\n                        <mi mathvariant=\"normal\">t</mi>\n                        <mi mathvariant=\"normal\">o</mi>\n                        <mi mathvariant=\"normal\">m</mi>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mn>2</mn>\n                    </mrow>\n                  </msubsup>\n                </mrow>\n              </mfrac>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)={\\frac {1}{\\sqrt {2\\sigma _{\\mathrm {atom} }\\pi }}}\\mathrm {exp} \\left(-{\\frac {|\\mathbf {r} |^{2}}{2\\sigma _{\\mathrm {atom} }^{2}}}\\right).}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d714f076ef068263c50dc68d356095706ee3776f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:35.665ex; height:7.509ex;\" alt=\"g\\left({\\mathbf  {r}}\\right)={\\frac  {1}{{\\sqrt  {2\\sigma _{{{\\mathrm  {atom}}}}\\pi }}}}{\\mathrm  {exp}}\\left(-{\\frac  {|{\\mathbf  {r}}|^{{2}}}{2\\sigma _{{{\\mathrm  {atom}}}}^{{2}}}}\\right).\"></span>\n</p><p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SION1\">ML_SION1</a> sets the width <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{\\text{atom}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>atom</mtext>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{\\text{atom}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/10680e39a9aa2ba3df42ae5b5c062d6cd66eb1c5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:5.212ex; height:2.009ex;\" alt=\"{\\displaystyle \\sigma _{\\text{atom}}}\"></span> of the above Gaussian function (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Descriptors\" title=\"Machine learning force field: Theory\">this section</a> for more details).\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> Our test calculations indicate that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SION1\">ML_SION1</a> = <a href=\"https://www.vasp.at/wiki/index.php/ML_SION2\" title=\"ML SION2\" class=\"tag-link\">ML_SION2</a> results in an optimal training performance. Furthermore, a value of 0.5 was found to be a good default value for both. However, the best choice is somewhat system-dependent. For instance, a smaller value for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SION1\">ML_SION1</a> can increase the number of local reference configurations, and hence ultimately the quality of the MLFF. See also <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Accurate_force_fields\" title=\"Machine learning force field calculations: Basics\">here</a>.\n</div><p>The unit of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SION1\">ML_SION1</a> is <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION2\" title=\"ML SION2\" class=\"tag-link\">ML_SION2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT1\" title=\"ML RCUT1\" class=\"tag-link\">ML_RCUT1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT2\" title=\"ML RCUT2\" class=\"tag-link\">ML_RCUT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB1\" title=\"ML MRB1\" class=\"tag-link\">ML_MRB1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB2\" title=\"ML MRB2\" class=\"tag-link\">ML_MRB2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_SION1%22_incategory:%22Examples%22\" title='Special:Search/\"ML SION1\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:31:27Z"}, "ML_SION2": {"datatype": "real", "default": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SION1\">ML_SION1</a>", "options": {}, "summary": "This tag specifies the width <math>\\sigma_\\text{atom}</math> of the Gaussian functions used for broadening the atomic distributions of the angular descriptor <math>\\rho^{(3)}_i(r)</math> within the machine learning force field method.", "id": 841, "info": "<div><p>The angular descriptor is constructed from\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>3</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mo>,</mo>\n            <mi>s</mi>\n            <mo>,</mo>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mo>&#8748;<!-- &#8748; --></mo>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mi>d</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mover>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">s</mi>\n              </mrow>\n              <mo stretchy=\"false\">^<!-- ^ --></mo>\n            </mover>\n          </mrow>\n        </mrow>\n        <mi>&#948;<!-- &#948; --></mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">s</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">s</mi>\n            </mrow>\n            <mi>&#952;<!-- &#952; --></mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>k</mi>\n            <mo>&#8800;<!-- &#8800; --></mo>\n            <mi>j</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>k</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mi>s</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mover>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">s</mi>\n                  </mrow>\n                  <mo stretchy=\"false\">^<!-- ^ --></mo>\n                </mover>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtext>where</mtext>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/455c4e15fec879ad497762ea906ac26f3c5de051\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.505ex; width:99.323ex; height:7.843ex;\" alt=\"{\\displaystyle \\rho _{i}^{(3)}\\left(r,s,\\theta \\right)=\\iint d{\\hat {\\mathbf {r} }}d{\\hat {\\mathbf {s} }}\\delta \\left({\\hat {\\mathbf {r} }}\\cdot {\\hat {\\mathbf {s} }}-\\mathrm {cos} \\theta \\right)\\sum \\limits _{j=1}^{N_{a}}\\sum \\limits _{k\\neq j}^{N_{a}}\\rho _{ik}\\left(r{\\hat {\\mathbf {r} }}\\right)\\rho _{ij}\\left(s{\\hat {\\mathbf {s} }}\\right),\\quad {\\text{where}}\\quad \\rho _{ij}\\left(\\mathbf {r} \\right)=f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right)}\"></span>\n</p><p>and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5773cd50899a74abff5c19e3f9326bebe322861f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.414ex; height:2.843ex;\" alt=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\"></span> is the following approximation of the delta function:\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)={\\frac {1}{\\sqrt {2\\sigma _{\\mathrm {atom} }\\pi }}}\\mathrm {exp} \\left(-{\\frac {|\\mathbf {r} |^{2}}{2\\sigma _{\\mathrm {atom} }^{2}}}\\right).}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msqrt>\n              <mn>2</mn>\n              <msub>\n                <mi>&#963;<!-- &#963; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">a</mi>\n                    <mi mathvariant=\"normal\">t</mi>\n                    <mi mathvariant=\"normal\">o</mi>\n                    <mi mathvariant=\"normal\">m</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mi>&#960;<!-- &#960; --></mi>\n            </msqrt>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">e</mi>\n          <mi mathvariant=\"normal\">x</mi>\n          <mi mathvariant=\"normal\">p</mi>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mfrac>\n                <mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mo stretchy=\"false\">|</mo>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <msup>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mo stretchy=\"false\">|</mo>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mn>2</mn>\n                    </mrow>\n                  </msup>\n                </mrow>\n                <mrow>\n                  <mn>2</mn>\n                  <msubsup>\n                    <mi>&#963;<!-- &#963; --></mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">a</mi>\n                        <mi mathvariant=\"normal\">t</mi>\n                        <mi mathvariant=\"normal\">o</mi>\n                        <mi mathvariant=\"normal\">m</mi>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mn>2</mn>\n                    </mrow>\n                  </msubsup>\n                </mrow>\n              </mfrac>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)={\\frac {1}{\\sqrt {2\\sigma _{\\mathrm {atom} }\\pi }}}\\mathrm {exp} \\left(-{\\frac {|\\mathbf {r} |^{2}}{2\\sigma _{\\mathrm {atom} }^{2}}}\\right).}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d714f076ef068263c50dc68d356095706ee3776f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:35.665ex; height:7.509ex;\" alt=\"g\\left({\\mathbf  {r}}\\right)={\\frac  {1}{{\\sqrt  {2\\sigma _{{{\\mathrm  {atom}}}}\\pi }}}}{\\mathrm  {exp}}\\left(-{\\frac  {|{\\mathbf  {r}}|^{{2}}}{2\\sigma _{{{\\mathrm  {atom}}}}^{{2}}}}\\right).\"></span>\n</p><p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SION2\">ML_SION2</a> sets the width <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{\\text{atom}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>atom</mtext>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{\\text{atom}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/10680e39a9aa2ba3df42ae5b5c062d6cd66eb1c5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:5.212ex; height:2.009ex;\" alt=\"{\\displaystyle \\sigma _{\\text{atom}}}\"></span> of the above Gaussian function (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Descriptors\" title=\"Machine learning force field: Theory\">this section</a> for more details).\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> Our test calculations indicate that <a href=\"https://www.vasp.at/wiki/index.php/ML_SION1\" title=\"ML SION1\" class=\"tag-link\">ML_SION1</a> = <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SION2\">ML_SION2</a> results in an optimal training performance. Furthermore, a value of 0.5 was found to be a good default value for both. However, the best choice is system-dependent, careful testing may improve machine learning results.\n</div><p>The unit of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SION2\">ML_SION2</a> is <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {\\AA} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#197;</mo>\n          </mrow>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {\\AA} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/085412b37ef2ac62058f72715866515b3ee71f39\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:1.417ex; height:3.343ex;\" alt=\"\\AA \"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION1\" title=\"ML SION1\" class=\"tag-link\">ML_SION1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT1\" title=\"ML RCUT1\" class=\"tag-link\">ML_RCUT1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT2\" title=\"ML RCUT2\" class=\"tag-link\">ML_RCUT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB1\" title=\"ML MRB1\" class=\"tag-link\">ML_MRB1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB2\" title=\"ML MRB2\" class=\"tag-link\">ML_MRB2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_SION2%22_incategory:%22Examples%22\" title='Special:Search/\"ML SION2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:31:37Z"}, "ML_NHYP": {"datatype": "integer", "default": "4", "options": {}, "summary": "This tag specifies the polynomial power <math> \\zeta</math> of the kernel within the machine learning force field method (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field%3A_Theory%23Potential_energy_fitting\">this section</a>).", "id": 842, "info": "<div><p>The value of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_NHYP\">ML_NHYP</a> must be an integer number <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\geq }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8805;<!-- &#8805; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\geq }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bcef7c0e95bb77a35fd1a874ca91f425215f3c26\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:1.808ex; height:2.176ex;\" alt=\"\\geq \"></span> 1.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT1\" title=\"ML RCUT1\" class=\"tag-link\">ML_RCUT1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION1\" title=\"ML SION1\" class=\"tag-link\">ML_SION1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCUT2\" title=\"ML RCUT2\" class=\"tag-link\">ML_RCUT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SION2\" title=\"ML SION2\" class=\"tag-link\">ML_SION2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_NHYP%22_incategory:%22Examples%22\" title='Special:Search/\"ML NHYP\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:29:38Z"}, "ML_LMAX2": {"datatype": "integer", "default": [["3", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LAFILT2\">ML_LAFILT2</a>=<span class=\"tag-value\">.TRUE.</span>"], ["6", "else"]], "options": {}, "summary": "This tag specifies the maximum angular momentum quantum number <math>L_\\max</math> of spherical harmonics used to expand atomic distributions within the machine learning force field method.", "id": 844, "info": "<div><p>To construct an atomic environment descriptor the atomic probability density\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right),}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">a</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <msub>\n            <mi>r</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi>i</mi>\n              <mi>j</mi>\n            </mrow>\n          </msub>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msub>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>i</mi>\n                <mi>j</mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right),}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9b758b163e164d31cb9cb5278ee6225206632a24\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:31.773ex; height:7.676ex;\" alt=\"{\\displaystyle \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{j=1}^{N_{\\mathrm {a} }}f_{\\mathrm {cut} }\\left(r_{ij}\\right)g\\left(\\mathbf {r} -\\mathbf {r} _{ij}\\right),}\"></span>\n</p><p>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>g</mi>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle g\\left(\\mathbf {r} \\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5773cd50899a74abff5c19e3f9326bebe322861f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:4.414ex; height:2.843ex;\" alt=\"{\\displaystyle g\\left(\\mathbf {r} \\right)}\"></span> is an approximation of the delta function, is expanded in terms of radial basis functions <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi _{nl}(r)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi _{nl}(r)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/6b8cc8c69974f30a020020678c9569ea39db3dbf\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.022ex; height:2.843ex;\" alt=\"{\\displaystyle \\chi _{nl}(r)}\"></span> and spherical harmonics <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Y_{lm}\\left({\\hat {\\mathbf {r} }}\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Y</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">^<!-- ^ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Y_{lm}\\left({\\hat {\\mathbf {r} }}\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/6bcd32c38ebb57c7955cb6e3f31e73b519a0a321\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.875ex; height:2.843ex;\" alt=\"{\\displaystyle Y_{lm}\\left({\\hat {\\mathbf {r} }}\\right)}\"></span> (see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Basis_set_expansion\" title=\"Machine learning force field: Theory\">this section</a> for more details):\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{l=1}^{L_{\\mathrm {max} }}\\sum \\limits _{m=-l}^{l}\\sum \\limits _{n=1}^{N_{\\mathrm {R} }^{l}}c_{nlm}^{i}\\chi _{nl}\\left(r\\right)Y_{lm}\\left({\\hat {\\mathbf {r} }}\\right),}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">r</mi>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>L</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">m</mi>\n                  <mi mathvariant=\"normal\">a</mi>\n                  <mi mathvariant=\"normal\">x</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mo>=</mo>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </munderover>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msubsup>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">R</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>l</mi>\n              </mrow>\n            </msubsup>\n          </mrow>\n        </munderover>\n        <msubsup>\n          <mi>c</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msubsup>\n        <msub>\n          <mi>&#967;<!-- &#967; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mi>r</mi>\n          <mo>)</mo>\n        </mrow>\n        <msub>\n          <mi>Y</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mi>m</mi>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mo stretchy=\"false\">^<!-- ^ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}\\left(\\mathbf {r} \\right)=\\sum \\limits _{l=1}^{L_{\\mathrm {max} }}\\sum \\limits _{m=-l}^{l}\\sum \\limits _{n=1}^{N_{\\mathrm {R} }^{l}}c_{nlm}^{i}\\chi _{nl}\\left(r\\right)Y_{lm}\\left({\\hat {\\mathbf {r} }}\\right),}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0d3dad9dd1e885d9c5cce771865808d75e1ffa81\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.171ex; width:40.035ex; height:8.343ex;\" alt=\"\\rho _{{i}}\\left({\\mathbf  {r}}\\right)=\\sum \\limits _{{l=1}}^{{L_{{{\\mathrm  {max}}}}}}\\sum \\limits _{{m=-l}}^{{l}}\\sum \\limits _{{n=1}}^{{N_{{{\\mathrm  {R}}}}^{{l}}}}c_{{nlm}}^{{i}}\\chi _{{nl}}\\left(r\\right)Y_{{lm}}\\left({\\hat  {{\\mathbf  {r}}}}\\right),\"></span>\n</p><p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LMAX2\">ML_LMAX2</a> specifies the maximum angular momentum quantum number <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle L_{\\max }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>L</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo movablelimits=\"true\" form=\"prefix\">max</mo>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle L_{\\max }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/031457b870d1bbfc240fd222abde3305552d5512\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.874ex; height:2.509ex;\" alt=\"{\\displaystyle L_{\\max }}\"></span> of spherical harmonics used in this expansion.\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> This tag is only relevant for the angular descriptor <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho _{i}^{(3)}(r)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#961;<!-- &#961; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo stretchy=\"false\">(</mo>\n            <mn>3</mn>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>r</mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho _{i}^{(3)}(r)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/15cdfded7712b34b0ff41eb6d4c931f13bbf19c5\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.393ex; height:3.676ex;\" alt=\"{\\displaystyle \\rho _{i}^{(3)}(r)}\"></span>. The corresponding number of expansion coefficients <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle p_{n\\nu l}^{i}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>p</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mi>&#957;<!-- &#957; --></mi>\n            <mi>l</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle p_{n\\nu l}^{i}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f484a0ba9588f2bd0d582fea9ea3aecb77b1ad6e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; margin-left: -0.089ex; width:3.839ex; height:3.176ex;\" alt=\"p_{{n\\nu l}}^{{i}}\"></span> scales <b>linearly</b> with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle L_{\\max }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>L</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo movablelimits=\"true\" form=\"prefix\">max</mo>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle L_{\\max }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/031457b870d1bbfc240fd222abde3305552d5512\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.874ex; height:2.509ex;\" alt=\"{\\displaystyle L_{\\max }}\"></span> (however the calculation of the spherical harmonics scales quadratically) and is also depending on <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB2\" title=\"ML MRB2\" class=\"tag-link\">ML_MRB2</a> and the number of elements present.\n</div><p>By default an angular filtering (see <a href=\"https://www.vasp.at/wiki/index.php/ML_LAFILT2\" title=\"ML LAFILT2\" class=\"tag-link\">ML_LAFILT2</a> and <a href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\" title=\"ML IAFILT2\" class=\"tag-link\">ML_IAFILT2</a>) with a filtering parameter of <a href=\"https://www.vasp.at/wiki/index.php/ML_AFILT2\" title=\"ML AFILT2\" class=\"tag-link\">ML_AFILT2</a>=<span><span class=\"tag-value\">0</span>.002 is used where a value of </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LMAX2\">ML_LMAX2</a>=<span><span class=\"tag-value\">3</span> is perfectly safe for most applications. If you need to improve the accuracy, you might also try to increase it to </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LMAX2\">ML_LMAX2</a>=<span><span class=\"tag-value\">4</span>. If the angular filter is switched off, we recommend to use a value of </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LMAX2\">ML_LMAX2</a>=<span><span class=\"tag-value\">6</span> (this is then the default value).\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB1\" title=\"ML MRB1\" class=\"tag-link\">ML_MRB1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MRB2\" title=\"ML MRB2\" class=\"tag-link\">ML_MRB2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LAFILT2\" title=\"ML LAFILT2\" class=\"tag-link\">ML_LAFILT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\" title=\"ML IAFILT2\" class=\"tag-link\">ML_IAFILT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_AFILT2\" title=\"ML AFILT2\" class=\"tag-link\">ML_AFILT2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_LMAX2%22_incategory:%22Examples%22\" title='Special:Search/\"ML LMAX2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-05-09T08:11:02Z"}, "ML_LAFILT2": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "This tag specifies whether angular filtering is applied or not within the machine learning force field method.", "id": 845, "info": "<div><p>For the desciption of the filters please see: <a href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\" title=\"ML IAFILT2\" class=\"tag-link\">ML_IAFILT2</a> and <a href=\"https://www.vasp.at/wiki/index.php/ML_AFILT2\" title=\"ML AFILT2\" class=\"tag-link\">ML_AFILT2</a>.\n</p><p>The applied angular filter is also briefly described <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Basis_set_expansion\" title=\"Machine learning force field: Theory\">here</a>.\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\" title=\"ML IAFILT2\" class=\"tag-link\">ML_IAFILT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_AFILT2\" title=\"ML AFILT2\" class=\"tag-link\">ML_AFILT2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_LAFILT2%22_incategory:%22Examples%22\" title='Special:Search/\"ML LAFILT2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:24:53Z"}, "ML_IAFILT2": {"datatype": "integer", "default": "2", "options": {}, "summary": "This tag specifies the type of angular filtering used in the machine learning force field method.", "id": 846, "info": "<div><div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:402px;\"><a href=\"https://www.vasp.at/wiki/index.php/File:Angular_filtering_MLFF_cropped.png\" class=\"image\"><img alt=\"\" src=\"/wiki/images/thumb/5/5b/Angular_filtering_MLFF_cropped.png/400px-Angular_filtering_MLFF_cropped.png\" decoding=\"async\" width=\"400\" height=\"277\" class=\"thumbimage\" srcset=\"/wiki/images/thumb/5/5b/Angular_filtering_MLFF_cropped.png/600px-Angular_filtering_MLFF_cropped.png 1.5x, /wiki/images/thumb/5/5b/Angular_filtering_MLFF_cropped.png/800px-Angular_filtering_MLFF_cropped.png 2x\"></a>  <div class=\"thumbcaption\"><div class=\"magnify\"><a href=\"https://www.vasp.at/wiki/index.php/File:Angular_filtering_MLFF_cropped.png\" class=\"internal\" title=\"Enlarge\"></a></div>Fig. 1: Square of filtering function.</div></div></div>\n<p>This tag is only used if <a href=\"https://www.vasp.at/wiki/index.php/ML_LAFILT2\" title=\"ML LAFILT2\" class=\"tag-link\">ML_LAFILT2</a>=<i>.TRUE.</i> is set.\n</p><p>Following cases are possible for the angular filtering function <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\eta }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#951;<!-- &#951; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\eta }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e4d701857cf5fbec133eebaf94deadf722537f64\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:1.169ex; height:2.176ex;\" alt=\"\\eta \"></span> (see also <a href=\"https://www.vasp.at/wiki/index.php/On-the-fly_machine_learning_force_field_generation_using_Bayesian_linear_regression#Basis_set_expansion\" class=\"mw-redirect\" title=\"On-the-fly machine learning force field generation using Bayesian linear regression\">here</a>):\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\">ML_IAFILT2</a>=<span><span class=\"tag-value\">1</span>: The angular filtering function is described as </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\eta _{l}={\\frac {1}{(2l+1)^{1/4}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#951;<!-- &#951; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <mo stretchy=\"false\">(</mo>\n              <mn>2</mn>\n              <mi>l</mi>\n              <mo>+</mo>\n              <mn>1</mn>\n              <msup>\n                <mo stretchy=\"false\">)</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>1</mn>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mo>/</mo>\n                  </mrow>\n                  <mn>4</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\eta _{l}={\\frac {1}{(2l+1)^{1/4}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7273ee732bb963640af8361622f8d0c324b05b8a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.838ex; width:16.179ex; height:6.176ex;\" alt=\"\\eta _{{l}}={\\frac  {1}{(2l+1)^{{1/4}}}}\"></span>.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\">ML_IAFILT2</a>=<span><span class=\"tag-value\">2</span>: The angular filtering function</span><sup id=\"cite_ref-boyd:book:2000_1-0\" class=\"reference\"><a href=\"#cite_note-boyd:book:2000-1\">[1]</a></sup> is described as <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\eta _{l,a_{\\mathrm {FILT} }}={\\frac {1}{1+a_{\\mathrm {FILT} }[l(l+1)]^{2}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#951;<!-- &#951; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mo>,</mo>\n            <msub>\n              <mi>a</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">F</mi>\n                  <mi mathvariant=\"normal\">I</mi>\n                  <mi mathvariant=\"normal\">L</mi>\n                  <mi mathvariant=\"normal\">T</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <mn>1</mn>\n              <mo>+</mo>\n              <msub>\n                <mi>a</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">F</mi>\n                    <mi mathvariant=\"normal\">I</mi>\n                    <mi mathvariant=\"normal\">L</mi>\n                    <mi mathvariant=\"normal\">T</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">[</mo>\n              <mi>l</mi>\n              <mo stretchy=\"false\">(</mo>\n              <mi>l</mi>\n              <mo>+</mo>\n              <mn>1</mn>\n              <mo stretchy=\"false\">)</mo>\n              <msup>\n                <mo stretchy=\"false\">]</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\eta _{l,a_{\\mathrm {FILT} }}={\\frac {1}{1+a_{\\mathrm {FILT} }[l(l+1)]^{2}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c667f6e9ea6c819e649a9f54c0732ee2835a3295\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.671ex; width:29.347ex; height:6.009ex;\" alt=\"\\eta _{{l,a_{{{\\mathrm  {FILT}}}}}}={\\frac  {1}{1+a_{{{\\mathrm  {FILT}}}}[l(l+1)]^{{2}}}}\"></span>. Using this function the parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle a_{\\mathrm {FILT} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>a</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">F</mi>\n              <mi mathvariant=\"normal\">I</mi>\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">T</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle a_{\\mathrm {FILT} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b4f7b91a21633f35965b82fc1a5a7ea5083b6f4a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:5.343ex; height:2.009ex;\" alt=\"a_{{{\\mathrm  {FILT}}}}\"></span> has to be defined too. It is set in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file by setting <a href=\"https://www.vasp.at/wiki/index.php/ML_AFILT2\" title=\"ML AFILT2\" class=\"tag-link\">ML_AFILT2</a>. This option is the default.</li></ul>\n<p>In the case of the angular descriptor two radial basis functions are multiplied by each other (see <a href=\"https://www.vasp.at/wiki/index.php/On-the-fly_machine_learning_force_field_generation_using_Bayesian_linear_regression#Basis_set_expansion\" class=\"mw-redirect\" title=\"On-the-fly machine learning force field generation using Bayesian linear regression\">here</a>). Both basis functions use the same filtering function and hence the filtering is done by the square of the filtering function. This is plotted in Fig. 1 for the two different functions used for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\">ML_IAFILT2</a>=<span><span class=\"tag-value\">1</span> and 2 (labeled as TYPE1 and TYPE2, respectively). In the case of </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\">ML_IAFILT2</a>=<span><span class=\"tag-value\">2</span> it can be seen that for the filtering parameter </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AFILT2\" title=\"ML AFILT2\" class=\"tag-link\">ML_AFILT2</a>=<span><span class=\"tag-value\">0</span>.002 and </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle l}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>l</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle l}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/829091f745070b9eb97a80244129025440a1cfac\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.693ex; height:2.176ex;\" alt=\"l\"></span>=5 the function has only a contribution of 0.15. Using this filtering parameter the maximum cut-off for the angular quantum number can be reduced to <a href=\"https://www.vasp.at/wiki/index.php/ML_LMAX2\" title=\"ML LMAX2\" class=\"tag-link\">ML_LMAX2</a>=<span><span class=\"tag-value\">4</span>. \n</span></p><p><br>\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-boyd:book:2000-1\"><a href=\"#cite_ref-boyd:book:2000_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://link.springer.com/gp/book/9783540514879\">J. P. Boyd, Chebyshev and Fourier Spectral Methods (Dover Publications, New York, 2000).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LAFILT2\" title=\"ML LAFILT2\" class=\"tag-link\">ML_LAFILT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_AFILT2\" title=\"ML AFILT2\" class=\"tag-link\">ML_AFILT2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_IAFILT2%22_incategory:%22Examples%22\" title='Special:Search/\"ML IAFILT2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-08-01T08:41:56Z"}, "ML_AFILT2": {"datatype": "real", "default": "0.002", "options": {}, "summary": "This tag sets the filtering parameter for the angular filtering for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\">ML_IAFILT2</a> in the machine learning force field method.", "id": 847, "info": "<div><p>This tag is only used if <a href=\"https://www.vasp.at/wiki/index.php/ML_LAFILT2\" title=\"ML LAFILT2\" class=\"tag-link\">ML_LAFILT2</a>=<i>.TRUE.</i> and <a href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\" title=\"ML IAFILT2\" class=\"tag-link\">ML_IAFILT2</a>=<span><span class=\"tag-value\">2</span> are used.\n</span></p><p>The angular filtering function<sup id=\"cite_ref-boyd:book:2000_1-0\" class=\"reference\"><a href=\"#cite_note-boyd:book:2000-1\">[1]</a></sup> for <a href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\" title=\"ML IAFILT2\" class=\"tag-link\">ML_IAFILT2</a>=<span><span class=\"tag-value\">2</span> is described as </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\eta _{l,a_{\\mathrm {FILT} }}={\\frac {1}{1+a_{\\mathrm {FILT} }[l(l+1)]^{2}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#951;<!-- &#951; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>l</mi>\n            <mo>,</mo>\n            <msub>\n              <mi>a</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">F</mi>\n                  <mi mathvariant=\"normal\">I</mi>\n                  <mi mathvariant=\"normal\">L</mi>\n                  <mi mathvariant=\"normal\">T</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mrow>\n              <mn>1</mn>\n              <mo>+</mo>\n              <msub>\n                <mi>a</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">F</mi>\n                    <mi mathvariant=\"normal\">I</mi>\n                    <mi mathvariant=\"normal\">L</mi>\n                    <mi mathvariant=\"normal\">T</mi>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">[</mo>\n              <mi>l</mi>\n              <mo stretchy=\"false\">(</mo>\n              <mi>l</mi>\n              <mo>+</mo>\n              <mn>1</mn>\n              <mo stretchy=\"false\">)</mo>\n              <msup>\n                <mo stretchy=\"false\">]</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\eta _{l,a_{\\mathrm {FILT} }}={\\frac {1}{1+a_{\\mathrm {FILT} }[l(l+1)]^{2}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c667f6e9ea6c819e649a9f54c0732ee2835a3295\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.671ex; width:29.347ex; height:6.009ex;\" alt=\"\\eta _{{l,a_{{{\\mathrm  {FILT}}}}}}={\\frac  {1}{1+a_{{{\\mathrm  {FILT}}}}[l(l+1)]^{{2}}}}\"></span>. The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_AFILT2\">ML_AFILT2</a> sets the parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle a_{\\mathrm {FILT} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>a</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">F</mi>\n              <mi mathvariant=\"normal\">I</mi>\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">T</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle a_{\\mathrm {FILT} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b4f7b91a21633f35965b82fc1a5a7ea5083b6f4a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:5.343ex; height:2.009ex;\" alt=\"a_{{{\\mathrm  {FILT}}}}\"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-boyd:book:2000-1\"><a href=\"#cite_ref-boyd:book:2000_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://link.springer.com/gp/book/9783540514879\">J. P. Boyd, Chebyshev and Fourier Spectral Methods (Dover Publications, New York, 2000).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LAFILT2\" title=\"ML LAFILT2\" class=\"tag-link\">ML_LAFILT2</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IAFILT2\" title=\"ML IAFILT2\" class=\"tag-link\">ML_IAFILT2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_AFILT2%22_incategory:%22Examples%22\" title='Special:Search/\"ML AFILT2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:19:52Z"}, "ML_LCOUPLE": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "This tag specifies whether thermodynamic integration is activated in order to calculate the chemical potentials within the machine learning force field method.", "id": 848, "info": "<div><p>In thermodynamic integration a coupling parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\lambda }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#955;<!-- &#955; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\lambda }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.355ex; height:2.176ex;\" alt=\"{\\displaystyle \\lambda }\"></span> is introduced to the Hamiltonian to smoothly switch between a \"non-interacting\" reference state and a \"fully-interacting\" state. The change of the free energy along this path is written as\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta \\mu =\\int \\limits _{0}^{1}\\langle {\\frac {dH(\\lambda )}{d\\lambda }}\\rangle _{\\lambda }d\\lambda .}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <mi>&#956;<!-- &#956; --></mi>\n        <mo>=</mo>\n        <munderover>\n          <mo>&#8747;<!-- &#8747; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </munderover>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mi>d</mi>\n              <mi>H</mi>\n              <mo stretchy=\"false\">(</mo>\n              <mi>&#955;<!-- &#955; --></mi>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <mrow>\n              <mi>d</mi>\n              <mi>&#955;<!-- &#955; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msub>\n          <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#955;<!-- &#955; --></mi>\n          </mrow>\n        </msub>\n        <mi>d</mi>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta \\mu =\\int \\limits _{0}^{1}\\langle {\\frac {dH(\\lambda )}{d\\lambda }}\\rangle _{\\lambda }d\\lambda .}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/cd7f87e97c3907f9248f1732af94086b8286ca23\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.005ex; width:22.128ex; height:9.176ex;\" alt=\"{\\displaystyle \\Delta \\mu =\\int \\limits _{0}^{1}\\langle {\\frac {dH(\\lambda )}{d\\lambda }}\\rangle _{\\lambda }d\\lambda .}\"></span>\n</p><p>Using machine learning force fields the Hamiltonian can be written as\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle H(\\lambda )=\\sum \\limits _{i=1}^{N_{a}}{\\frac {|\\mathbf {p} _{i}|^{2}}{2m_{i}}}+\\sum \\limits _{i\\notin M}U_{i}(\\lambda )+\\lambda \\sum \\limits _{i\\in M}U_{i}(\\lambda )+\\sum \\limits _{i}^{N_{a}}U_{i,\\mathbf {atom} }.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>H</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">p</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n              </msub>\n              <msup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>+</mo>\n        <munder>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>&#8713;<!-- &#8713; --></mo>\n            <mi>M</mi>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>+</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <munder>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>&#8712;<!-- &#8712; --></mo>\n            <mi>M</mi>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>+</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>a</mi>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>,</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">a</mi>\n              <mi mathvariant=\"bold\">t</mi>\n              <mi mathvariant=\"bold\">o</mi>\n              <mi mathvariant=\"bold\">m</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle H(\\lambda )=\\sum \\limits _{i=1}^{N_{a}}{\\frac {|\\mathbf {p} _{i}|^{2}}{2m_{i}}}+\\sum \\limits _{i\\notin M}U_{i}(\\lambda )+\\lambda \\sum \\limits _{i\\in M}U_{i}(\\lambda )+\\sum \\limits _{i}^{N_{a}}U_{i,\\mathbf {atom} }.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0c6c2e899dff230e6a32e9c044fc78c08240e1a1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.505ex; width:57.867ex; height:7.843ex;\" alt=\"{\\displaystyle H(\\lambda )=\\sum \\limits _{i=1}^{N_{a}}{\\frac {|\\mathbf {p} _{i}|^{2}}{2m_{i}}}+\\sum \\limits _{i\\notin M}U_{i}(\\lambda )+\\lambda \\sum \\limits _{i\\in M}U_{i}(\\lambda )+\\sum \\limits _{i}^{N_{a}}U_{i,\\mathbf {atom} }.}\"></span>\n</p><p>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N_{a}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>N</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>a</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N_{a}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/51e35e0d32883d0f4f6ba9d15fbbdebe42931253\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.968ex; height:2.509ex;\" alt=\"N_{{a}}\"></span> denotes the number of atoms and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U_{i,\\mathbf {atom} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mo>,</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">a</mi>\n              <mi mathvariant=\"bold\">t</mi>\n              <mi mathvariant=\"bold\">o</mi>\n              <mi mathvariant=\"bold\">m</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U_{i,\\mathbf {atom} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f842fbee6a32dc039f720f94488b130bbd261a5a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:7.018ex; height:2.843ex;\" alt=\"{\\displaystyle U_{i,\\mathbf {atom} }}\"></span> is an atomic reference energy for a single non interacting atom. The first term in the equation describes the potential energy and the second and third term describe the potential energy of an atom <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle i}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>i</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle i}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:0.802ex; height:2.176ex;\" alt=\"i\"></span>. The index <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle M}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>M</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle M}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f82cade9898ced02fdd08712e5f0c0151758a0dd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.442ex; height:2.176ex;\" alt=\"M\"></span> denotes the atoms whose interaction is controlled by a coupling parameter. The interaction of the atoms are controlled by scaling the contributions to the atom density via the coupling parameter\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\rho (\\mathbf {r} ,\\lambda )=\\sum \\limits _{j\\notin M}f_{\\mathrm {cut} }\\left(\\left|\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right|\\right)g\\left[\\mathbf {r} -\\left(\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right)\\right]+\\lambda \\sum \\limits _{j\\in M}f_{\\mathrm {cut} }\\left(\\left|\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right|\\right)g\\left[\\mathbf {r} -\\left(\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right)\\right].}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#961;<!-- &#961; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">r</mi>\n        </mrow>\n        <mo>,</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <munder>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>&#8713;<!-- &#8713; --></mo>\n            <mi>M</mi>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mo>|</mo>\n            <mrow>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>j</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n              </msub>\n            </mrow>\n            <mo>|</mo>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>[</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow>\n              <mo>(</mo>\n              <mrow>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>j</mi>\n                  </mrow>\n                </msub>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                  </mrow>\n                </msub>\n              </mrow>\n              <mo>)</mo>\n            </mrow>\n          </mrow>\n          <mo>]</mo>\n        </mrow>\n        <mo>+</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <munder>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n            <mo>&#8712;<!-- &#8712; --></mo>\n            <mi>M</mi>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n              <mi mathvariant=\"normal\">u</mi>\n              <mi mathvariant=\"normal\">t</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mo>|</mo>\n            <mrow>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>j</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">r</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>i</mi>\n                </mrow>\n              </msub>\n            </mrow>\n            <mo>|</mo>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mi>g</mi>\n        <mrow>\n          <mo>[</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mrow>\n              <mo>(</mo>\n              <mrow>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>j</mi>\n                  </mrow>\n                </msub>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <msub>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                  </mrow>\n                </msub>\n              </mrow>\n              <mo>)</mo>\n            </mrow>\n          </mrow>\n          <mo>]</mo>\n        </mrow>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\rho (\\mathbf {r} ,\\lambda )=\\sum \\limits _{j\\notin M}f_{\\mathrm {cut} }\\left(\\left|\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right|\\right)g\\left[\\mathbf {r} -\\left(\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right)\\right]+\\lambda \\sum \\limits _{j\\in M}f_{\\mathrm {cut} }\\left(\\left|\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right|\\right)g\\left[\\mathbf {r} -\\left(\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right)\\right].}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/80eb2a8185622c2f98feacbbfd4b805b8fa66b9d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.505ex; width:82.17ex; height:6.009ex;\" alt=\"{\\displaystyle \\rho (\\mathbf {r} ,\\lambda )=\\sum \\limits _{j\\notin M}f_{\\mathrm {cut} }\\left(\\left|\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right|\\right)g\\left[\\mathbf {r} -\\left(\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right)\\right]+\\lambda \\sum \\limits _{j\\in M}f_{\\mathrm {cut} }\\left(\\left|\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right|\\right)g\\left[\\mathbf {r} -\\left(\\mathbf {r} _{j}-\\mathbf {r} _{i}\\right)\\right].}\"></span>  \n</p><p><br>\nFurther details on the implementation can be found in reference <sup id=\"cite_ref-jinnouchiti:prb:2020_1-0\" class=\"reference\"><a href=\"#cite_note-jinnouchiti:prb:2020-1\">[1]</a></sup>.\n</p><p>For thermodynamic integration the following parameters have to be set:\n</p>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span><span class=\"tag-value\">2</span>.</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\">ML_LCOUPLE</a>=<i>.TRUE.</i>.</li>\n<li>The number of atoms for which a coupling parameter is introduced (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle i\\in M}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>i</mi>\n        <mo>&#8712;<!-- &#8712; --></mo>\n        <mi>M</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle i\\in M}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e3eb41abfca4ed4ae306de0b2a4812a35f17991f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.085ex; height:2.176ex;\" alt=\"{\\displaystyle i\\in M}\"></span>): <a href=\"https://www.vasp.at/wiki/index.php/ML_NATOM_COUPLED\" title=\"ML NATOM COUPLED\" class=\"tag-link\">ML_NATOM_COUPLED</a>.</li>\n<li>The list of atom indices that for that the coupling parameter is applied in the interaction: <a href=\"https://www.vasp.at/wiki/index.php/ML_ICOUPLE\" title=\"ML ICOUPLE\" class=\"tag-link\">ML_ICOUPLE</a>.</li>\n<li>The strength of the coupling parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\lambda }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#955;<!-- &#955; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\lambda }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.355ex; height:2.176ex;\" alt=\"{\\displaystyle \\lambda }\"></span> between 0 and 1: <a href=\"https://www.vasp.at/wiki/index.php/ML_RCOUPLE\" title=\"ML RCOUPLE\" class=\"tag-link\">ML_RCOUPLE</a>.</li></ul>\n<p>The derivative of the hamiltonian with respect to the coupling constant <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle dH/d\\lambda }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>d</mi>\n        <mi>H</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mi>d</mi>\n        <mi>&#955;<!-- &#955; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle dH/d\\lambda }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bc0e61aedc1a2c6bc329cb2643df1372426b4302\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:7.013ex; height:2.843ex;\" alt=\"{\\displaystyle dH/d\\lambda }\"></span> is written out at every MD step to the <a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a>. A sample output should look like this:\n</p>\n<pre># DCOUPLE ################################\n# DCOUPLE This line shows the derivative of the Hamiltonian with respect to coupling constant (dH/dlambda).\n# DCOUPLE \n# DCOUPLE nstep .......... MD time step or input structure counter\n# DCOUPLE der_H_lambda ... dH/dlambda\n# DCOUPLE ################################\n# DCOUPLE           nstep     der_H_lambda\n# DCOUPLE               2                3\n# DCOUPLE ################################\nDCOUPLE                 1  -1.08332135E+01\nDCOUPLE                 2  -1.08132321E+01\nDCOUPLE                 3  -1.07631992E+01\nDCOUPLE                 4  -1.06786675E+01\nDCOUPLE                 5  -1.05493088E+01\nDCOUPLE                 6  -1.03561161E+01\nDCOUPLE                 7  -1.00762443E+01\nDCOUPLE                 8  -9.69961878E+00\nDCOUPLE                 9  -9.25531640E+00\nDCOUPLE                10  -8.82525354E+00\n...\n</pre>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-jinnouchiti:prb:2020-1\"><a href=\"#cite_ref-jinnouchiti:prb:2020_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.101.060201\">R. Jinnouchi, F. Karsai, and G. Kresse, Phys. Rev. B <b>101</b>, 060201 (2020).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_NATOM_COUPLED\" title=\"ML NATOM COUPLED\" class=\"tag-link\">ML_NATOM_COUPLED</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICOUPLE\" title=\"ML ICOUPLE\" class=\"tag-link\">ML_ICOUPLE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCOUPLE\" title=\"ML RCOUPLE\" class=\"tag-link\">ML_RCOUPLE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_LCOUPLE%22_incategory:%22Examples%22\" title='Special:Search/\"ML LCOUPLE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-11-04T14:20:09Z"}, "ML_NATOM_COUPLED": {"datatype": "integer", "default": "0", "options": {}, "summary": "This tag specifies the number of atoms for which a coupling parameter is introduced to calculate the chemical potential within the machine learning force field method.", "id": 849, "info": "<div><p>For thermodynamic integration calculations please have a look at the tag <a href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\" title=\"ML LCOUPLE\" class=\"tag-link\">ML_LCOUPLE</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\" title=\"ML LCOUPLE\" class=\"tag-link\">ML_LCOUPLE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICOUPLE\" title=\"ML ICOUPLE\" class=\"tag-link\">ML_ICOUPLE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCOUPLE\" title=\"ML RCOUPLE\" class=\"tag-link\">ML_RCOUPLE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_NATOM_COUPLED%22_incategory:%22Examples%22\" title='Special:Search/\"ML NATOM COUPLED\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:29:29Z"}, "ML_ICOUPLE": {"datatype": "integer array", "default": null, "options": {}, "summary": "This tag specifies the atoms where the coupling parameter is introduced to calculate the chemical potential within the machine learning force field method.", "id": 850, "info": "<div><p>Atom are ordered according to the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file and indices start with index 1. For thermodynamic integration calculations please have a look at the tag <a href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\" title=\"ML LCOUPLE\" class=\"tag-link\">ML_LCOUPLE</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\" title=\"ML LCOUPLE\" class=\"tag-link\">ML_LCOUPLE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_NATOM_COUPLED\" title=\"ML NATOM COUPLED\" class=\"tag-link\">ML_NATOM_COUPLED</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_RCOUPLE\" title=\"ML RCOUPLE\" class=\"tag-link\">ML_RCOUPLE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_ICOUPLE%22_incategory:%22Examples%22\" title='Special:Search/\"ML ICOUPLE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:23:52Z"}, "ML_RCOUPLE": {"datatype": "real", "default": "1.0", "options": {}, "summary": "This tag specifies the value of the coupling parameter for the calculation of the chemical potential within the machine learning force field method.", "id": 851, "info": "<div><p>For thermodynamic integration calculations please have a look at the tag <a href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\" title=\"ML LCOUPLE\" class=\"tag-link\">ML_LCOUPLE</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LCOUPLE\" title=\"ML LCOUPLE\" class=\"tag-link\">ML_LCOUPLE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_NATOM_COUPLED\" title=\"ML NATOM COUPLED\" class=\"tag-link\">ML_NATOM_COUPLED</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICOUPLE\" title=\"ML ICOUPLE\" class=\"tag-link\">ML_ICOUPLE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_RCOUPLE%22_incategory:%22Examples%22\" title='Special:Search/\"ML RCOUPLE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T13:30:16Z"}, "LSUBROT": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "This flag can be set for <a href=\"https://www.vasp.at/wiki/index.php/%3ACategory%3AHybrid_functionals\">hybrid functionals</a> (HF-type calculations). <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a> determines whether an optimal rotation matrix between the occupied and unoccupied block is sought, when a direct optimization of the energy functional is performed (i.e. <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">ALGO</a>=<span><span class=\"tag-value\">All</span> {{!}} Damped). The corresponding algorithm is unpublished.  </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a>=<span><span class=\"tag-value\">.FALSE.</span> is the standard algorithm, in which the rotation matrix between occupied and unoccupied orbitals is determined essentially using Loewdin perturbation theory, as for instance explained in Ref. </span><ref name=\"kresse:prb:96\"></ref>. For <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a>=<span><span class=\"tag-value\">.TRUE.</span> the rotation matrix is instead optimized by performing a few standard SCF steps, in which the orbitals are kept fixed, but rotations between the occupied and unoccupied manifold are allowed. Once satisfactory convergence has been reached, the optimized density matrix (rotation matrix between occupied and unoccupied block) is passed back to the direct optimization routine and a rotation along the suggested direction is performed alongside an update of the orbitals. This generally speeds up calculations for small gap systems as well as metals. However, in rare cases, we have observed instabilities, so be careful when selecting </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a>=<span class=\"tag-value\">.TRUE.</span>", "id": 979, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a>=<span><span class=\"tag-value\">.FALSE.</span> | .TRUE.&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>SUBROT</b>\n</td>\n<td>= .FALSE.\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: This flag can be set for <a href=\"https://www.vasp.at/wiki/index.php/Category:Hybrid_functionals\" title=\"Category:Hybrid functionals\">hybrid functionals</a> (HF-type calculations). <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a> determines whether an optimal rotation matrix between the occupied and unoccupied block is sought, when a direct optimization of the energy functional is performed (i.e. <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">All</span> | Damped). The corresponding algorithm is unpublished.  </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a>=<span><span class=\"tag-value\">.FALSE.</span> is the standard algorithm, in which the rotation matrix between occupied and unoccupied orbitals is determined essentially using Loewdin perturbation theory, as for instance explained in Ref. </span><sup id=\"cite_ref-kresse:prb:96_1-0\" class=\"reference\"><a href=\"#cite_note-kresse:prb:96-1\">[1]</a></sup>. For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a>=<span><span class=\"tag-value\">.TRUE.</span> the rotation matrix is instead optimized by performing a few standard SCF steps, in which the orbitals are kept fixed, but rotations between the occupied and unoccupied manifold are allowed. Once satisfactory convergence has been reached, the optimized density matrix (rotation matrix between occupied and unoccupied block) is passed back to the direct optimization routine and a rotation along the suggested direction is performed alongside an update of the orbitals. This generally speeds up calculations for small gap systems as well as metals. However, in rare cases, we have observed instabilities, so be careful when selecting </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSUBROT\">LSUBROT</a>=<span class=\"tag-value\">.TRUE.</span> \n</p><p>Although the flag can be set for standard functionals, it is only efficient for hybrid functionals (HF-type calculations).\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-kresse:prb:96-1\"><a href=\"#cite_ref-kresse:prb:96_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.54.11169\">G. Kresse and J. Furthm&#252;ller, Phys. Rev. B 54, 11169 (1996).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:43:04Z"}, "LSCAAWARE": {"datatype": "boolean", "default": [[".TRUE.", "if VASP is compiled with scaLAPACK support (precompiler flag -DscaLAPACK)"], [".FALSE.", "otherwise"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\">LSCAAWARE</a> controls the distribution of the Hamilton matrix. </span>", "id": 982, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\">LSCAAWARE</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP distributes the Hamilton matrix among the MPI ranks.  \nFor </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCAAWARE\">LSCAAWARE</a>=<span><span class=\"tag-value\">.FALSE.</span>, each MPI ranks allocates the complete Hamiltonain. In both cases </span><a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a> decides if ScaLAPACK routines are used for diagonalization. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NPAR\" title=\"NPAR\" class=\"tag-link\">NPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NCORE\" title=\"NCORE\" class=\"tag-link\">NCORE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPLANE\" title=\"LPLANE\" class=\"tag-link\">LPLANE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSIM\" title=\"NSIM\" class=\"tag-link\">NSIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALU\" title=\"LSCALU\" class=\"tag-link\">LSCALU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCALAPACK\" title=\"LSCALAPACK\" class=\"tag-link\">LSCALAPACK</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSCAAWARE%22_incategory:%22Examples%22\" title='Special:Search/\"LSCAAWARE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:40:04Z"}, "LVDW_ONECELL": {"datatype": "boolean boolean boolean", "default": ".FALSE. .FALSE. .FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVDW_ONECELL\">LVDW_ONECELL</a> can be used to disable vdW interaction with mirror image in X Y Z direction. This is advisable for molecular calculations in the gas phase. In all other cases, use the default.</span>", "id": 1015, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IVDW\" title=\"IVDW\" class=\"tag-link\">IVDW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Many-body_dispersion_energy\" title=\"Many-body dispersion energy\">Many-body dispersion energy</a>,\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LVD_ONECELL%22_incategory:%22Examples%22\" title='Special:Search/\"LVD ONECELL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:44:45Z"}, "STOP_ON": {"datatype": "string", "default": "Error", "options": {"a": null, "e": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/STOP_ON\">STOP_ON</a> defines if the code should stop on errors only or also on alerts.</span>", "id": 1117, "info": "<div class=\"mw-parser-output\"><p><br>\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/STOP_ON\">STOP_ON</a>=<span class=\"tag-value\">Error|Alert</span><br> Default: <b>STOP_ON</b> = Error&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/STOP_ON\">STOP_ON</a> defines if the code should stop on errors only or also on alerts.\n</p>\n</div>", "last_revised": "2022-04-07T06:53:03Z"}, "LFOCKACE": {"datatype": "boolean", "default": ".TRUE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LFOCKACE\">LFOCKACE</a> determines whether the Adaptively Compressed Exchange Operator is used. </span>", "id": 1118, "info": "<div><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LFOCKACE\">LFOCKACE</a>=<span><span class=\"tag-value\">.TRUE.</span> the Cholesky decomposition </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle X=LL^{\\dagger }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>X</mi>\n        <mo>=</mo>\n        <mi>L</mi>\n        <msup>\n          <mi>L</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8224;<!-- &#8224; --></mo>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle X=LL^{\\dagger }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2a0d0461b483f3fbf58770e6a0f7f30085027b65\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:9.206ex; height:2.676ex;\" alt=\"{\\displaystyle X=LL^{\\dagger }}\"></span> of the Fock exchange matrix <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle X_{ij}=\\langle {\\tilde {\\psi }}_{i}\\mid {\\tilde {V}}_{X}\\mid {\\tilde {\\psi }}_{j}\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>X</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>&#8739;<!-- &#8739; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>V</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>X</mi>\n          </mrow>\n        </msub>\n        <mo>&#8739;<!-- &#8739; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#968;<!-- &#968; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle X_{ij}=\\langle {\\tilde {\\psi }}_{i}\\mid {\\tilde {V}}_{X}\\mid {\\tilde {\\psi }}_{j}\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8140da2ae4fee17144dc358e627c6bd8edf84451\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.171ex; width:20.504ex; height:3.509ex;\" alt=\"{\\displaystyle X_{ij}=\\langle {\\tilde {\\psi }}_{i}\\mid {\\tilde {V}}_{X}\\mid {\\tilde {\\psi }}_{j}\\rangle }\"></span> is calculated and the adaptively compressed exchange operator <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {V}}_{ACE}=-\\sum _{i}\\mid {\\tilde {X}}_{i}\\rangle \\langle {\\tilde {X}}_{i}\\mid }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>V</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>A</mi>\n            <mi>C</mi>\n            <mi>E</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </munder>\n        <mo>&#8739;<!-- &#8739; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>X</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>X</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">&#8739;<!-- &#8739; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {V}}_{ACE}=-\\sum _{i}\\mid {\\tilde {X}}_{i}\\rangle \\langle {\\tilde {X}}_{i}\\mid }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f66c9d6a9ebe701f2e4101985c6fc98b022a2d9e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:24.358ex; height:5.509ex;\" alt=\"{\\displaystyle {\\tilde {V}}_{ACE}=-\\sum _{i}\\mid {\\tilde {X}}_{i}\\rangle \\langle {\\tilde {X}}_{i}\\mid }\"></span> is used for the action of the Fock exchange on the pseudo orbitals. This method can be used for <a href=\"https://www.vasp.at/wiki/index.php/Category:Hybrid_functionals\" title=\"Category:Hybrid functionals\">hybrid functionals</a> in combination with the Davidson algorithm (<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\"><span style=\"color:black\">ALGO</span></a>=<span><span class=\"tag-value\">Normal)</span> to save a factor of </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\approx 3}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8776;<!-- &#8776; --></mo>\n        <mn>3</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\approx 3}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e657b66e230a449201f0d2d436f26aba1971deb1\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:3.616ex; height:2.176ex;\" alt=\"{\\displaystyle \\approx 3}\"></span> in computation time.  \n</p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LFOCKACE\">LFOCKACE</a>=<span><span class=\"tag-value\">.FALSE.</span> the conventional orbital representation is used. \n</span></p><p>Note: it is good scientific practice to cite the original publication (Ref. <sup id=\"cite_ref-linlin:jctc:2016_1-1\" class=\"reference\"><a href=\"#cite_note-linlin:jctc:2016-1\">[1]</a></sup>) if you use this feature. The feature is used by default, if the Davidson algorithm (<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Normal)</span> is used; ACE is not used for </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">Damped</span> or </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">All</span>.  \n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">settings for specific hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LHFCALC%22_incategory:%22Examples%22\" title='Special:Search/\"LHFCALC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-linlin:jctc:2016-1\">&#8593; <sup><a href=\"#cite_ref-linlin:jctc:2016_1-0\">a</a></sup> <sup><a href=\"#cite_ref-linlin:jctc:2016_1-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1021/acs.jctc.6b00092\">L. Lin, J. Chem. Theory Comput. <b>12</b>, 2242-2249 (2016).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-03-30T17:57:23Z"}, "LMP2LT": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMP2LT\">LMP2LT</a> selects a Laplace transformed MP2 algorithm.</span>", "id": 1145, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMP2LT\">LMP2LT</a>=<span><span class=\"tag-value\">.TRUE.</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">ACFTDRK</span> is set, a quartic scaling Laplace transformed MP2 algorithm is selected.</span><sup id=\"cite_ref-schaefer:JCP2017_1-0\" class=\"reference\"><a href=\"#cite_note-schaefer:JCP2017-1\">[1]</a></sup> \n</p><p>This tag should be used in combination with <a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a> to tweak parallelization as described in this <a href=\"https://www.vasp.at/wiki/index.php/LTMP2_-_Tutorial#Parallelization\" title=\"LTMP2 - Tutorial\">tutorial</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSMP2LT\" title=\"LSMP2LT\" class=\"tag-link\">LSMP2LT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMP2LT%22_incategory:%22Examples%22\" title='Special:Search/\"LMP2LT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:04:51Z"}, "LSMP2LT": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSMP2LT\">LSMP2LT</a> selects a stochastic Laplace transformed MP2 algorithm.</span>", "id": 1147, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSMP2LT\">LSMP2LT</a>=<span><span class=\"tag-value\">.TRUE.</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">ACFTDRK</span> is set, a quartic scaling stochastic Laplace transformed MP2 algorithm is selected.</span><sup id=\"cite_ref-schaefer:JCP2017_1-0\" class=\"reference\"><a href=\"#cite_note-schaefer:JCP2017-1\">[1]</a></sup> \n</p><p>This tag should be used in combination with <a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a> to tweak parallelization as described in this <a href=\"https://www.vasp.at/wiki/index.php/Stochastic_LTMP2#Parallelization\" title=\"Stochastic LTMP2\">tutorial</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ESTOP\" title=\"ESTOP\" class=\"tag-link\">ESTOP</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSTORB\" title=\"NSTORB\" class=\"tag-link\">NSTORB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMP2LT%22_incategory:%22Examples%22\" title='Special:Search/\"LMP2LT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:11:35Z"}, "ESTOP": {"datatype": "real", "default": "0.05", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ESTOP\">ESTOP</a> specifies the stop condition for stochastic MP2.</span>", "id": 1148, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ESTOP\"><span style=\"color:black\">ESTOP</span></a> defines the energy accuracy in units of eV for each individual tau-point of the two individual MP2 energy contributions (direct MP2 term + exchange MP2 term). Since the statistical errors of each contribution is independent, the standard deviation of the MP2 energy can be estimated as \n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma ={\\texttt {ESTOP}}*{\\sqrt {2\\cdot {\\texttt {NOMEGA}}}}\\;.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#963;<!-- &#963; --></mi>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext mathvariant=\"monospace\">ESTOP</mtext>\n          </mrow>\n        </mrow>\n        <mo>&#8727;<!-- &#8727; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mn>2</mn>\n            <mo>&#8901;<!-- &#8901; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mtext mathvariant=\"monospace\">NOMEGA</mtext>\n              </mrow>\n            </mrow>\n          </msqrt>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma ={\\texttt {ESTOP}}*{\\sqrt {2\\cdot {\\texttt {NOMEGA}}}}\\;.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bc444290f10b81d442c1624ce3bc0af400d35c60\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:26.118ex; height:3.009ex;\" alt=\"\\sigma ={\\texttt  {ESTOP}}*{\\sqrt  {2\\cdot {\\texttt  {NOMEGA}}}}\\;.\"></span>\n</p><p>According to our experience, the error of the resulting MP2 energy can then be safely estimated by <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\pm 2\\sigma }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#177;<!-- &#177; --></mo>\n        <mn>2</mn>\n        <mi>&#963;<!-- &#963; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\pm 2\\sigma }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d113484745294ddf53ff5589762d9565d63b7c36\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:4.3ex; height:2.176ex;\" alt=\"\\pm 2\\sigma \"></span>.\n</p><p>Thus, if you require an MP2 energy with a maximum error of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/32769037c408874e1890f77554c65f39c523ebe2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.936ex; height:2.176ex;\" alt=\"\\Delta \"></span>, you should set \n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\texttt {ESTOP}}={\\frac {\\Delta }{2\\cdot {\\sqrt {2\\cdot {\\texttt {NOMEGA}}}}}}\\;.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext mathvariant=\"monospace\">ESTOP</mtext>\n          </mrow>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n            <mrow>\n              <mn>2</mn>\n              <mo>&#8901;<!-- &#8901; --></mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <msqrt>\n                  <mn>2</mn>\n                  <mo>&#8901;<!-- &#8901; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mtext mathvariant=\"monospace\">NOMEGA</mtext>\n                    </mrow>\n                  </mrow>\n                </msqrt>\n              </mrow>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\texttt {ESTOP}}={\\frac {\\Delta }{2\\cdot {\\sqrt {2\\cdot {\\texttt {NOMEGA}}}}}}\\;.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3a6900b430b824f41e1de140a1d1ac335c044192\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.838ex; width:26.271ex; height:6.343ex;\" alt=\"{\\texttt  {ESTOP}}={\\frac  {\\Delta }{2\\cdot {\\sqrt  {2\\cdot {\\texttt  {NOMEGA}}}}}}\\;.\"></span>\n</p><p>See <a href=\"https://www.vasp.at/wiki/index.php/Stochastic_LTMP2\" title=\"Stochastic LTMP2\">this tutorial</a> for more Information about Laplace transformed MP2.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMP2LT\" title=\"LMP2LT\" class=\"tag-link\">LMP2LT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSMP2LT\" title=\"LSMP2LT\" class=\"tag-link\">LSMP2LT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSTORB\" title=\"NSTORB\" class=\"tag-link\">NSTORB</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:13:55Z"}, "NSTORB": {"datatype": "integer", "default": "-1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSTORB\">NSTORB</a> specifies the number of stochastic orbitals per cycle in the stochastic MP2 algorithm.</span>", "id": 1149, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NSTORB\"><span style=\"color:black\">NSTORB</span></a> defines the number of stochastic orbitals per cycle, i.e., the number of stochastic orbitals that define one stochastic sample. If the sample is not large enough, the calculations are repeated until the accuracy, defined by ESTOP, is reached.\n</p><p>As a rule of thumb, we recommend setting\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\texttt {NSTORB}}={\\sqrt {\\texttt {NBANDS}}}\\;.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext mathvariant=\"monospace\">NSTORB</mtext>\n          </mrow>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <msqrt>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mtext mathvariant=\"monospace\">NBANDS</mtext>\n            </mrow>\n          </msqrt>\n        </mrow>\n        <mspace width=\"thickmathspace\"></mspace>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\texttt {NSTORB}}={\\sqrt {\\texttt {NBANDS}}}\\;.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a7ed278a5422cbbe8331af02dac95b172698d4c7\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:20.973ex; height:3.009ex;\" alt=\"{\\texttt  {NSTORB}}={\\sqrt  {{\\texttt  {NBANDS}}}}\\;.\"></span>\n</p><p>See <a href=\"https://www.vasp.at/wiki/index.php/Stochastic_LTMP2\" title=\"Stochastic LTMP2\">here</a> for a small tutorial on stochastic Laplace transformed MP2 calculations.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ESTOP\" title=\"ESTOP\" class=\"tag-link\">ESTOP</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSMP2LT\" title=\"LSMP2LT\" class=\"tag-link\">LSMP2LT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMP2LT\" title=\"LMP2LT\" class=\"tag-link\">LMP2LT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/KPAR\" title=\"KPAR\" class=\"tag-link\">KPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:23:45Z"}, "VCAIMAGES": {"datatype": "real", "default": "-1", "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\">VCAIMAGES</a> allows to perform thermodynamic coupling constant integrations. To achieve this, two molecular dynamics simulations are performed with e.g. different <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\">POTCAR</a> or <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\">KPOINTS</a> files or different exchange-correlation functionals, and force averaging between the two calculations is done.", "id": 1152, "info": "<div><p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\">VCAIMAGES</a> internally splits the available nodes into two groups, and each group\nthen performs an independent VASP calculation (this implies <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\">VCAIMAGES</a> only works in the MPI version). \nThis behavior is implemented in the same way as\nthe nudged elastic band method described under the tag <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>. As opposed to the nudged\nelastic band method, VASP creates always two images by setting the tag <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>=<span><span class=\"tag-value\">2</span> internally.\nThe two calculations are performed in subdirectories 01 and 02 (as opposed to the nudged elastic\nband method, subdirectories 00 and 03  are not required). A precise description of the file\nreading and writing is given below.\n</span></p><p>The two VASP calculations are essentially performed independently in subdirectories 01 and 02.\nOnly the forces and energies of the two calculations are averaged according to the tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\">VCAIMAGES</a>. \nSpecifically, the value supplied in the tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\">VCAIMAGES</a> determines the weight of the calculations\nperformed in subdirectory 01. The weight of the second image is 1-<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\">VCAIMAGES</a>. The averaging\nis performed after self-consistency has been reached and affects the final total energy as well as\nthe forces. Since the energies and forces are averaged, the trajectories generated by the two simulations \nwill be exactly identical. Make sure though, that the initial <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> files in the two subdirectories\nare exactly identical. The averaged energies can be found in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file after the lines\n\"ENERGY OF THE ELECTRON-ION-THERMOSTAT SYSTEM (eV)\", as well as in the file <a href=\"https://www.vasp.at/wiki/index.php/OSZICAR\" title=\"OSZICAR\" class=\"tag-link\">OSZICAR</a>\n(in the lines writing the free energy  \"F=\"). This makes scanning the <a href=\"https://www.vasp.at/wiki/index.php/OSZICAR\" title=\"OSZICAR\" class=\"tag-link\">OSZICAR</a> file for the\nrequired energies of the individual calculations somewhat awkward.\n</p><p>Special handling: In some cases it might be desirable to use a different number of cores for\nthe first image and the second image. For instance, this might be expedient for calculations\nwhere thermodynamic integration is performed from a coarse to a dense k-point grid, or from a cheap\nto an expensive exchange-correlation functional. \nTo set the number of cores in the first image the tag <a href=\"https://www.vasp.at/wiki/index.php/NCORE_IN_IMAGE1\" title=\"NCORE IN IMAGE1\" class=\"tag-link\">NCORE_IN_IMAGE1</a> has to be set. The second image then \ncontains the remaining cores.\n</p><p>The usage of this tag is also explained in the supplementary information of reference <sup id=\"cite_ref-dorner:PRL:2018_1-1\" class=\"reference\"><a href=\"#cite_note-dorner:PRL:2018-1\">[1]</a></sup>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NCORE_IN_IMAGE1\" title=\"NCORE IN IMAGE1\" class=\"tag-link\">NCORE_IN_IMAGE1</a>, <a href=\"https://www.vasp.at/wiki/index.php/SCALEE\" title=\"SCALEE\" class=\"tag-link\">SCALEE</a>, <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-dorner:PRL:2018-1\">&#8593; <sup><a href=\"#cite_ref-dorner:PRL:2018_1-0\">a</a></sup> <sup><a href=\"#cite_ref-dorner:PRL:2018_1-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.121.195701\">F. Dorner, Z. Sukurma, C. Dellago, and G. Kresse, Phys. Rev. Lett. <b>121</b>, 195701 (2018).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n</div>", "last_revised": "2022-07-19T15:05:41Z"}, "NCORE_IN_IMAGE1": {"datatype": "integer", "default": "0", "options": {}, "summary": "This tag specifies the number of cores in the first image.", "id": 1154, "info": "<div><p>This tag works for two images, specifically, if <a href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\" title=\"VCAIMAGES\" class=\"tag-link\">VCAIMAGES</a> is set (this also sets <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>=<span><span class=\"tag-value\">2)</span>.\n</span><a href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\" title=\"VCAIMAGES\" class=\"tag-link\">VCAIMAGES</a> splits the available cores into two groups both working independently in the subdirectories\n01 and 02.\nThe tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NCORE_IN_IMAGE1\">NCORE_IN_IMAGE1</a> defines how many of cores are used for the first image (01). The remainder of the cores is used for the second image (working in the subdirectory 02).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\" title=\"VCAIMAGES\" class=\"tag-link\">VCAIMAGES</a>, <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>\n</p>\n</div>", "last_revised": "2022-04-07T14:08:38Z"}, "SCALEE": {"datatype": "real", "default": "1", "options": {}, "summary": "This tag specifies the coupling parameter of the energies and forces between a fully interacting system and a reference system.", "id": 1155, "info": "<div><p>A detailed description of calculations using thermodynamic integration within VASP is given in the supplemental information of reference <sup id=\"cite_ref-dorner:PRL:2018_1-0\" class=\"reference\"><a href=\"#cite_note-dorner:PRL:2018-1\">[1]</a></sup> (<b>caution</b>: the tag <i>ISPECIAL</i>=0 used in that reference is not valid anymore, instead the tag <a href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\" title=\"PHON NSTRUCT\" class=\"tag-link\">PHON_NSTRUCT</a>=<span><span class=\"tag-value\">-1</span> is used).\n</span></p><p>The free energy of a fully interacting system can be written as the sum of the free energy a non-interacting reference system and the difference in the free energy of the fully interacting system and the non-interacting system \n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle F_{1}=F_{0}+\\Delta F_{0\\rightarrow 1}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>F</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <msub>\n          <mi>F</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <msub>\n          <mi>F</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n            <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle F_{1}=F_{0}+\\Delta F_{0\\rightarrow 1}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b9fd1140e43bb68683db4615f79310f03fc9b6e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:17.986ex; height:2.509ex;\" alt=\"{\\displaystyle F_{1}=F_{0}+\\Delta F_{0\\rightarrow 1}}\"></span>.</dd></dl></dd></dl>\n<p>Using thermodynamic integration the free energy difference between the two systems is written as\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta F_{0\\rightarrow 1}=\\int \\limits _{0}^{1}d\\lambda \\langle U_{1}(\\lambda )-U_{0}(\\lambda )\\rangle _{\\lambda }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <msub>\n          <mi>F</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n            <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <munderover>\n          <mo>&#8747;<!-- &#8747; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </munderover>\n        <mi>d</mi>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#955;<!-- &#955; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta F_{0\\rightarrow 1}=\\int \\limits _{0}^{1}d\\lambda \\langle U_{1}(\\lambda )-U_{0}(\\lambda )\\rangle _{\\lambda }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1f06e4e074b1587a011cad5b56bc68c47796eaba\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.005ex; width:32.653ex; height:9.176ex;\" alt=\"{\\displaystyle \\Delta F_{0\\rightarrow 1}=\\int \\limits _{0}^{1}d\\lambda \\langle U_{1}(\\lambda )-U_{0}(\\lambda )\\rangle _{\\lambda }}\"></span>.\n</p><p>Here <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U_{1}(\\lambda )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U_{1}(\\lambda )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a79a8fd0f17230a4e1f96c664406b9e3a5fb3e0a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.806ex; height:2.843ex;\" alt=\"{\\displaystyle U_{1}(\\lambda )}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle U_{0}(\\lambda )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>U</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle U_{0}(\\lambda )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9c7718a384ab7361619b0ca4ff9dcd6bd1f15b92\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.806ex; height:2.843ex;\" alt=\"{\\displaystyle U_{0}(\\lambda )}\"></span> describe the potential energies of a fully-interacting and a non-interacting reference system, respectively. The coupling strength of the systems is controlled via the coupling parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\lambda }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#955;<!-- &#955; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\lambda }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.355ex; height:2.176ex;\" alt=\"{\\displaystyle \\lambda }\"></span>. It is neccessary that the connection of the two systems via the coupling constant is reversible. The notation <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\langle \\ldots \\rangle _{\\lambda }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <mo>&#8230;<!-- &#8230; --></mo>\n        <msub>\n          <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#955;<!-- &#955; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\langle \\ldots \\rangle _{\\lambda }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/fe05c41588cc20f69dadf9f562ce264b60683106\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.723ex; height:2.843ex;\" alt=\"{\\displaystyle \\langle \\ldots \\rangle _{\\lambda }}\"></span> denotes an ensemble average of a system driven by the following classical Hamiltonian\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle H_{\\lambda }=\\lambda H_{1}+(1-\\lambda )H_{0}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>H</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#955;<!-- &#955; --></mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <msub>\n          <mi>H</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <mo stretchy=\"false\">(</mo>\n        <mn>1</mn>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>&#955;<!-- &#955; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>H</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle H_{\\lambda }=\\lambda H_{1}+(1-\\lambda )H_{0}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/607def4afa94c6679dfc658cbd70636f456a386f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:23.554ex; height:2.843ex;\" alt=\"{\\displaystyle H_{\\lambda }=\\lambda H_{1}+(1-\\lambda )H_{0}}\"></span>.</dd></dl></dd></dl>\n<p>The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SCALEE\">SCALEE</a> sets the coupling parameter <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\lambda }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#955;<!-- &#955; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\lambda }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.355ex; height:2.176ex;\" alt=\"{\\displaystyle \\lambda }\"></span> and hence controls the Hamiltonian of the calculation. \nBy default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SCALEE\">SCALEE</a>=<span><span class=\"tag-value\">1</span> and the scaling of the energies and forces via the coupling constant is internally skipped in the code. To enable the scaling </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SCALEE\">SCALEE</a><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\neq }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8800;<!-- &#8800; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\neq }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/38cc3d8d8c60120bc2f905bae4d5e10d8ad6a3f4\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:1.808ex; height:2.676ex;\" alt=\"\\neq \"></span>1 has to be specified. A VASP calculation outputs the integrand for a given coupling constant at every molecular dynamics step. How to choose the ensemble size and carry out the integration is described in the main text and especially in the supplementary information of reference <sup id=\"cite_ref-dorner:PRL:2018_1-1\" class=\"reference\"><a href=\"#cite_note-dorner:PRL:2018-1\">[1]</a></sup>. \n</p><p>Two possible options are available for the reference system:\n</p>\n<ul><li>Ideal gas:</li></ul>\n<p>By default the thermodynamic integration is carried out from the ideal gas to the fully interacting case  (in the case when no <a href=\"https://www.vasp.at/wiki/index.php/DYNMATFULL\" title=\"DYNMATFULL\" class=\"tag-link\">DYNMATFULL</a> is present in the calculation folder). Usually the Stirling approximation is used for the free energy of the ideal gas written as\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle F=-{\\frac {1}{\\beta }}\\mathrm {ln} \\left[{\\frac {V^{N}}{\\mathrm {A} ^{3N}N!}}\\right]}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>F</mi>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <mi>&#946;<!-- &#946; --></mi>\n          </mfrac>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">l</mi>\n          <mi mathvariant=\"normal\">n</mi>\n        </mrow>\n        <mrow>\n          <mo>[</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mfrac>\n              <msup>\n                <mi>V</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>N</mi>\n                </mrow>\n              </msup>\n              <mrow>\n                <msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">A</mi>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mn>3</mn>\n                    <mi>N</mi>\n                  </mrow>\n                </msup>\n                <mi>N</mi>\n                <mo>!</mo>\n              </mrow>\n            </mfrac>\n          </mrow>\n          <mo>]</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle F=-{\\frac {1}{\\beta }}\\mathrm {ln} \\left[{\\frac {V^{N}}{\\mathrm {A} ^{3N}N!}}\\right]}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8af69572a4b6e96f9834c4443fde8c96d2e81a63\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.505ex; width:21.4ex; height:6.343ex;\" alt=\"{\\displaystyle F=-{\\frac {1}{\\beta }}\\mathrm {ln} \\left[{\\frac {V^{N}}{\\mathrm {A} ^{3N}N!}}\\right]}\"></span></dd></dl></dd></dl>\n<p>whre <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>V</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/af0f6064540e84211d0ffe4dac72098adfa52845\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.787ex; height:2.176ex;\" alt=\"V\"></span> is the volume of the system, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle N}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>N</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle N}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f5e3890c981ae85503089652feb48b191b57aae3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.064ex; height:2.176ex;\" alt=\"N\"></span> is the number of particles in the system and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathrm {A} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">A</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathrm {A} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ff6366939c4ebbd4e8494d0dedc54c4b8dd7135a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.743ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathrm {A} }\"></span> is the de Broglie wavelength. The Stirling approximation applies in principle only in the limes of infinitely many particles. In reference <sup id=\"cite_ref-dorner:PRL:2018_1-2\" class=\"reference\"><a href=\"#cite_note-dorner:PRL:2018-1\">[1]</a></sup> the exact ideal gas equation was used since it helped to speed up the convergence of the final free energy of liquid Si with respect to the system size.\n</p>\n<ul><li>Harmonic solid:</li></ul>\n<p>If the file <a href=\"https://www.vasp.at/wiki/index.php/DYNMATFULL\" title=\"DYNMATFULL\" class=\"tag-link\">DYNMATFULL</a> exists  in the calculation directory and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/SCALEE\">SCALEE</a><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\neq }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8800;<!-- &#8800; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\neq }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/38cc3d8d8c60120bc2f905bae4d5e10d8ad6a3f4\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:1.808ex; height:2.676ex;\" alt=\"\\neq \"></span>1, the second order Hessian matrix is added to the force and thermodynamic integration from a harmonic model to a fully interacting system is carried out. The <a href=\"https://www.vasp.at/wiki/index.php/DYNMATFULL\" title=\"DYNMATFULL\" class=\"tag-link\">DYNMATFULL</a> file stores the eigenmodes and eigenvalues from diagonalizing the dynamic matrix. This file is written by a previous calculation using the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> tags <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>=<span><span class=\"tag-value\">6</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\" title=\"PHON NSTRUCT\" class=\"tag-link\">PHON_NSTRUCT</a>=<span><span class=\"tag-value\">-1</span>.  \n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/VCAIMAGES\" title=\"VCAIMAGES\" class=\"tag-link\">VCAIMAGES</a>, <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>, <a href=\"https://www.vasp.at/wiki/index.php/NCORE_IN_IMAGE1\" title=\"NCORE IN IMAGE1\" class=\"tag-link\">NCORE IN IMAGE1</a>, <a href=\"https://www.vasp.at/wiki/index.php/PHON_NSTRUCT\" title=\"PHON NSTRUCT\" class=\"tag-link\">PHON_NSTRUCT</a>, <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-dorner:PRL:2018-1\">&#8593; <sup><a href=\"#cite_ref-dorner:PRL:2018_1-0\">a</a></sup> <sup><a href=\"#cite_ref-dorner:PRL:2018_1-1\">b</a></sup> <sup><a href=\"#cite_ref-dorner:PRL:2018_1-2\">c</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.121.195701\">F. Dorner, Z. Sukurma, C. Dellago, and G. Kresse, Phys. Rev. Lett. <b>121</b>, 195701 (2018).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n</div>", "last_revised": "2022-04-07T14:25:55Z"}, "VCA": {"datatype": "real array", "default": "read from the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/POTCAR\">POTCAR</a> file", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCA\">VCA</a> is short for the virtual crystal approximation; the tag allows to \"weight\" each species found in the POTCAR file.</span>", "id": 1157, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCA\">VCA</a>=<span><span class=\"tag-value\">[real</span> array]</span><br> Default: <b>VCA</b> = read from the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/VCA\">VCA</a> is short for the virtual crystal approximation; the tag allows to \"weight\" each species found in the POTCAR file.\n</p>\n</div>", "last_revised": "2022-04-08T14:55:21Z"}, "LMODELHF": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMODELHF\">LMODELHF</a> selects dielectric-dependent hybrid functionals  with full exchange in the short-range, and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMODELHF\">AEXX</a> in the long-range.</span>", "id": 1158, "info": "<p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LMODELHF%22_incategory:%22Examples%22\" title='Special:Search/\"LMODELHF\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n", "last_revised": "2022-04-10T19:37:40Z"}, "LFINITE_TEMPERATURE": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LFINITE_TEMPERATURE\">LFINITE_TEMPERATURE</a> switches on the finite-temperature formalism of many-body perturbation theory for adiabatic-connection-fluctuation-dissipation-theorem (ACFDT)/GW calculations.</span>", "id": 1161, "info": "<div><p>This feature is available as of VASP.6.1.0 for ACFDT/random-phase-approximation (RPA), i.e., <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">ACFDT</span>, ACFDTR, ACFDTRK, and low-scaling </span><a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>, i.e., <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">EVGW0R</span>, GWR[K]. For </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LFINITE_TEMPERATURE\">LFINITE_TEMPERATURE</a>=<span><span class=\"tag-value\">.TRUE.</span>, a compressed Matsubara-frequency grid is used (instead of the zero-temperature formalism of many-body perturbation theory). This allows for GW and RPA calculations for metallic systems </span><sup id=\"cite_ref-Kaltak:PRB:2020_1-0\" class=\"reference\"><a href=\"#cite_note-Kaltak:PRB:2020-1\">[1]</a></sup>. \n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> Can only be used in combination with Fermi smearing <a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>=<span><span class=\"tag-value\">-1</span>.\n</span></div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGAPAR\" title=\"NOMEGAPAR\" class=\"tag-link\">NOMEGAPAR</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/NTAUPAR\" title=\"NTAUPAR\" class=\"tag-link\">NTAUPAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ISMEAR\" title=\"ISMEAR\" class=\"tag-link\">ISMEAR</a>\n</p>\n</div>", "last_revised": "2023-05-30T09:56:06Z"}, "ML_EPS_LOW": {"datatype": "real", "default": [["1E-11", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">SELECT</span>, REFIT</span>"], ["1E-9", "else (vasp.6.3.0 default was 1E-10, see comments below)"]], "options": {}, "summary": "Threshold for the CUR algorithm used in the sparsification of local reference configurations within the machine learning force fields.", "id": 1171, "info": "<div><p>This value sets the threshold for the eigenvalues that contribute to the leverage scoring used in the CUR algorithm for the rank compression (\"sparsification\") of the local configurations (for details see appendix E of reference <sup id=\"cite_ref-jinnouchi2:arx:2019_1-0\" class=\"reference\"><a href=\"#cite_note-jinnouchi2:arx:2019-1\">[1]</a></sup>). Small eigenvalues and those columns (local configurations) that are strongly connected\nwith these small eigenvalues are removed by the sparsification routines. The default value is fairly well balanced, and we do not  recommend to increase the threshold to values \nlarger than 1E-7. Also using smaller values than 1E-9 does not improve the MLFF if Bayesian regression is used\n(but it can be benficial for SVD). \n</p><p>The description how to choose <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_EPS_LOW\">ML_EPS_LOW</a> for accurate force fields is given <a href=\"https://www.vasp.at/wiki/index.php/Best_practices_for_machine-learned_force_fields#Accurate_force_fields\" title=\"Best practices for machine-learned force fields\">here</a>.\n</p><p>On the theory of the sparsification of local reference configurations see\n<a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Sparsification_of_local_reference_configurations\" title=\"Machine learning force field: Theory\">here</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MB\" title=\"ML MB\" class=\"tag-link\">ML_MB</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_EPS_REG\" title=\"ML EPS REG\" class=\"tag-link\">ML_EPS_REG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_EPS_LOW%22_incategory:%22Examples%22\" title='Special:Search/\"ML EPS LOW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-jinnouchi2:arx:2019-1\"><a href=\"#cite_ref-jinnouchi2:arx:2019_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.100.014105\">R. Jinnouchi, F. Karsai, and G. Kresse, Phys. Rev. B <b>100</b>, 014105 (2019).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n</div>", "last_revised": "2023-05-15T11:42:12Z"}, "NATURALO": {"datatype": "integer", "default": "0; for low scaling GW type calculations the default is 2", "options": {}, "summary": "calculate RPA natural orbitals.", "id": 1187, "info": "<div><p>This flag should be used in combination with <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">G0W0R</span> or </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">scGW0R</span>.  The VASP code diagonalizes the RPA density\nmatrix and writes the final natural orbitals to the </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file.\nThe one-electron occupancies on the <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> file can also be updated to the eigenvalues of the RPA density matrix. For <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">G0W0R</span>, the interacting Green's function is approximated as\n</span></p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G=G_{0}+G_{0}\\Sigma G_{0}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>G</mi>\n        <mo>=</mo>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mi mathvariant=\"normal\">&#931;<!-- &#931; --></mi>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G=G_{0}+G_{0}\\Sigma G_{0}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/065297b9fe3da7828089c885f3f48f9610ea4694\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:18.087ex; height:2.509ex;\" alt=\"{\\displaystyle G=G_{0}+G_{0}\\Sigma G_{0}}\"></span>\n</p><p>whereas for  <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">scGW0R</span> the Dyson equation is solved\n</span></p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G=G_{0}+G\\Sigma G_{0}.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>G</mi>\n        <mo>=</mo>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mo>+</mo>\n        <mi>G</mi>\n        <mi mathvariant=\"normal\">&#931;<!-- &#931; --></mi>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>0</mn>\n          </mrow>\n        </msub>\n        <mo>.</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G=G_{0}+G\\Sigma G_{0}.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f03112c6c68f6471604fa1b00693ce61e83c9b3c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:17.679ex; height:2.509ex;\" alt=\"{\\displaystyle G=G_{0}+G\\Sigma G_{0}.}\"></span>\n</p><p>In both cases, the RPA density matrix is determined as <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\gamma =\\lim _{\\tau \\to 0^{-}}G(\\tau )}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#947;<!-- &#947; --></mi>\n        <mo>=</mo>\n        <munder>\n          <mo movablelimits=\"true\" form=\"prefix\">lim</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#964;<!-- &#964; --></mi>\n            <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n            <msup>\n              <mn>0</mn>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo>&#8722;<!-- &#8722; --></mo>\n              </mrow>\n            </msup>\n          </mrow>\n        </munder>\n        <mi>G</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>&#964;<!-- &#964; --></mi>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\gamma =\\lim _{\\tau \\to 0^{-}}G(\\tau )}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c17d907e5a54593d39cae8b6f47bdea23be8438d\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:14.103ex; height:4.343ex;\" alt=\"{\\displaystyle \\gamma =\\lim _{\\tau \\to 0^{-}}G(\\tau )}\"></span>. More details on the use of RPA natural orbitals can be found in Ref. <sup id=\"cite_ref-ramberger2019rpa_1-0\" class=\"reference\"><a href=\"#cite_note-ramberger2019rpa-1\">[1]</a></sup>.\n</p><p>The following settings are currently supported\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>=<span><span class=\"tag-value\">0</span> calculate the density matrix, diagonalize the matrix and write the natural orbitals and eigenvalues of the density matrix to the file </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>. This setting is usually not particularly useful for practical calculations.</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>=<span><span class=\"tag-value\">1</span> calculate the density matrix, diagonalize the matrix only in the sub-block of unoccupied states, and write the occupied Kohn Sham orbitals, as well as the natural orbitals corresponding to unoccupied states to the file </span><a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>. The unoccupied orbitals are ordered according to their occupancies in the RPA density matrix.  The one-electron occupancies are not updated from their KS values (they will remain 1 for occupied Kohn-Sham orbitals and 0 for natural orbitals representing the virtual manifold). This setting has been used in Ref. <sup id=\"cite_ref-ramberger2019rpa_1-1\" class=\"reference\"><a href=\"#cite_note-ramberger2019rpa-1\">[1]</a></sup>. See also Ref. <sup id=\"cite_ref-GruneisNO_2-0\" class=\"reference\"><a href=\"#cite_note-GruneisNO-2\">[2]</a></sup> for further information. Note that all orbitals- even those with a tiny fractional occupancy -are treated as occupied orbitals and not updated: the algorithm should hence even work for metallic systems.</li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>&amp;lt;<span><span class=\"tag-value\">0</span>. Similar to  </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>=<span><span class=\"tag-value\">1</span> but additionally conserves ABS|</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>| unoccupied Kohn-Sham states. This is expedient, for subsequent GW and BSE calculations to conserve  few unoccupied orbitals to their Kohn-Sham states.</li></ul>\n<ul><li>If 10 is added (e.g. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>=<span><span class=\"tag-value\">10</span>, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>=<span><span class=\"tag-value\">11)</span> the density matrix is diagonalizes using a perturbative Loewdin algorithm that attempts to keep the orbital order strictly conserved: E.g. the natural orbital matching closest to each Kohn-Sham orbital will be determined and stored. Use this tag for metals.</span></li></ul>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>=<span><span class=\"tag-value\">2</span> (or 12) is similar to 0, but the one-electron occupancies are not updated. In rare cases this might lead to inconsistencies, if the orbital order changes between DFT and the RPA density matrix (i.e. a previously occupied DFT orbitals posses a smaller occupation in the RPA density matrix than some unoccupied Kohn-Sham orbitals and are moved into the unoccupied block). This problem can be reduced using </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>=<span><span class=\"tag-value\">12</span>, as described above. This flag, in combination with </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">scGW0R</span>, can be used to evaluate the GW-singles contribution to the correlation energy.</span><sup id=\"cite_ref-Klimessingles_3-0\" class=\"reference\"><a href=\"#cite_note-Klimessingles-3\">[3]</a></sup> One can deduct the HF singles and the GW singles energies from the energies after</li></ul>\n<pre>    Energies after diagonalization of HF Hamiltonian (single shot)\n    Hartree-Fock free energy of the ion-electron system (eV)\n</pre>\n<pre>    Energies after update of density matrix\n    Hartree-Fock free energy of the ion-electron system (eV)\n</pre>\n<p>Experience has shown that there is very little difference between the natural orbitals obtained using <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">G0W0R</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">scGW0R</span>. We strongly recommend to use the more efficient and better tested algorithm </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">G0W0R</span> (with the exception of GW-singles) to determine natural orbitals. Furthermore, perform careful tests for </span><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>: the RPA total energy converges much faster then the natural orbitals. Using a too small <a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a> can yield natural orbitals that are non-optimal, leading to very slow convergence of correlated calculations with respect to the number of natural orbitals.\nA crucial test is that the following line\n</p>\n<pre>correlated contrib. to density matrix         0.0000004037        0.0000000000\n\n</pre>\n<p>in the stdout and OUTCAR file shows values close to zero (for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">G0W0R)</span>. The above value is perfectly acceptable and the value decreases as </span><a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a> increases. \n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NATURALO\">NATURALO</a>=<span><span class=\"tag-value\">4</span> preserves original (DFT) orbitals. This mode is useful if only quasi-particle energies are corrected with the GW method, for instance when selecting </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#gw0\" class=\"mw-redirect\" title=\"GW calculations\">EVGW0R</a>.</li></ul>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> available as of VASP.6.4:\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<ul><li><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a> for response functions and <i>RPA</i> calculations</li>\n<li>for an overview on total energies using the <a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations\" title=\"ACFDT/RPA calculations\">ACFDT/RPA formalism</a></li>\n<li>for a practical guide to <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a></li></ul>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-ramberger2019rpa-1\">&#8593; <sup><a href=\"#cite_ref-ramberger2019rpa_1-0\">a</a></sup> <sup><a href=\"#cite_ref-ramberger2019rpa_1-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.5128415\">B. Ramberger, Z. Sukurma, T. Sch&#228;fer, G. Kresse,  J. Chem. Phys. 151, 214106 (2019).</a></span>\n</li>\n<li id=\"cite_note-GruneisNO-2\"><a href=\"#cite_ref-GruneisNO_2-0\">&#8593;</a> <span class=\"reference-text\"> <a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1021/ct200263g\">A. Gr&#252;neis et al. J. Chem. Theory Comput. 7, 2780 (2011).</a> </span>\n</li>\n<li id=\"cite_note-Klimessingles-3\"><a href=\"#cite_ref-Klimessingles_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.4929346\">Ji&#345;&#237; Klime&#353; et al., J. Chem. Phys.  143, 102816 (2015).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-04-12T07:38:08Z"}, "NUM_WANN": {"datatype": "integer", "default": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a>", "options": {}, "summary": "Since vasp 6.2.0 <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\">NUM_WANN</a> determines the number of Wannier orbitals to be used with wannier90. Note that the <code>num_wann</code> value written to the <code>wannier90.win</code> file is always the value of <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\">NUM_WANN</a> known by vasp.", "id": 1200, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\">NUM_WANN</a>=<span class=\"tag-value\">[integer]</span><br> Default: <b>NUM_WANN</b> = <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>&#160;\n</p><p>Description: Since vasp 6.2.0 <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\">NUM_WANN</a> determines the number of Wannier orbitals to be used with wannier90. Note that the <code>num_wann</code> value written to the <code>wannier90.win</code> file is always the value of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\">NUM_WANN</a> known by vasp.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\" title=\"LWANNIER90\" class=\"tag-link\">LWANNIER90</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWRITE_UNK\" title=\"LWRITE UNK\" class=\"tag-link\">LWRITE_UNK</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWRITE_MMN_AMN\" title=\"LWRITE MMN AMN\" class=\"tag-link\">LWRITE_MMN_AMN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90_RUN\" title=\"LWANNIER90 RUN\" class=\"tag-link\">LWANNIER90_RUN</a>\n</p>\n</div>", "last_revised": "2022-07-19T11:59:00Z"}, "ML_CX": {"datatype": "real", "default": "0.0", "options": {}, "summary": "The parameter determines to which value the threshold  (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\">ML_CTIFOR</a>) is updated within the machine learning force field methods.", "id": 1212, "info": "<div><p>The use of this tag in combination with the learning algorithms is described here: <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field_calculations:_Basics#Threshold_for_error_of_forces\" title=\"Machine learning force field calculations: Basics\">here</a>.\n</p><p>If <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>&amp;gt;<span><span class=\"tag-value\">0</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> is set to the average of the Bayesian errors of the forces stored in a history. Note that <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span>, average over different data. In the first case the average is performed over Bayesian errors after updates of the force fields, and in the second case over all recent Bayesian error estimates (see </span><a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>). In both cases, if <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> is updated, it is set to \n</p><p><a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>=<span><span class=\"tag-value\">(average</span> of the stored Bayesian errors in the history) *(1.0 + </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CX\">ML_CX</a>).\n</p><p>Obviously setting  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CX\">ML_CX</a> to a positive value will result in fewer first principles calculations and fewer updates of the MLFF, whereas negative values result in more frequent first principles calculations (as well as updates of the MLFF). Typical values of  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CX\">ML_CX</a> are between -0.2 and 0.0 for <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span>, and 0.0 and 0.3 for </span><a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span> (a good starting value is 0.2 for </span><a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2)</span>. For training runs using heating, the default usually results in very well balanced machine learned force fields. When the training is performed at a fixed temperature, it is often desirable to decrease to </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_CX\">ML_CX</a>=<span><span class=\"tag-value\">-0</span>.1, in order to increase the number of first principle calculations and thus the size of the training set (the default can result in too few training data).\n</span></p><p>The number of entries in the history are controlled by  <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a> for <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">1</span>, and it is currently fixed to 400 for </span><a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>=<span><span class=\"tag-value\">2</span> (in future releases 50 x </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ICRITERIA\" title=\"ML ICRITERIA\" class=\"tag-link\">ML_ICRITERIA</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MHIS\" title=\"ML MHIS\" class=\"tag-link\">ML_MHIS</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSIG\" title=\"ML CSIG\" class=\"tag-link\">ML_CSIG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CSLOPE\" title=\"ML CSLOPE\" class=\"tag-link\">ML_CSLOPE</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_LCRITERIA%22_incategory:%22Examples%22\" title='Special:Search/\"ML LCRITERIA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-09-17T15:24:23Z"}, "HFALPHA": {"datatype": "real", "default": [["6/sqrt(<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ENMAX\">ENMAX</a>)/(2\u03c0)", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFRCUT\">HFRCUT</a> is 0"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFALPHA\">HFALPHA</a> sets the decay constant used in the method of Massida, Posternak, and Baldereschi, which is activated by <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFALPHA\">HFRCUT</a>=<span><span class=\"tag-value\">0</span>.</span></span>", "id": 1213, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFALPHA\">HFALPHA</a>=<span class=\"tag-value\">[real]</span>&#160;\n</p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>HFALPHA</b>\n</td>\n<td>= 6/sqrt(<a href=\"https://www.vasp.at/wiki/index.php/ENMAX\" class=\"mw-redirect tag-link\" title=\"ENMAX\">ENMAX</a>)/(2&#960;)\n</td>\n<td>if <a href=\"https://www.vasp.at/wiki/index.php/HFRCUT\" title=\"HFRCUT\" class=\"tag-link\">HFRCUT</a> is 0\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/HFALPHA\">HFALPHA</a> sets the decay constant used in the method of Massida, Posternak, and Baldereschi, which is activated by <a href=\"https://www.vasp.at/wiki/index.php/HFRCUT\" title=\"HFRCUT\" class=\"tag-link\">HFRCUT</a>=<span><span class=\"tag-value\">0</span>.\n</span></p>\n</div>", "last_revised": "2023-02-16T10:29:37Z"}, "ML_LSPARSDES": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "This tag specifies whether angular descriptor sparsification is enabled within the machine learning force field method.", "id": 1215, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LSPARSDES\">ML_LSPARSDES</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>ML_LSPARSDES</b> = .FALSE.&#160;\n</p><p>Description: This tag specifies whether angular descriptor sparsification is enabled within the machine learning force field method.\n</p>\n</div>", "last_revised": "2022-04-08T13:26:50Z"}, "ML_NRANK_SPARSDES": {"datatype": "integer", "default": "5", "options": {}, "summary": "This tag sets the number of highest eigenvalues to which the correlation is measured within the angular descriptor sparsification (within the machine learning force field method).", "id": 1216, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_NRANK_SPARSDES\">ML_NRANK_SPARSDES</a>=<span class=\"tag-value\">[integer]</span><br> Default: <b>ML_NRANK_SPARSDES</b> = 5&#160;\n</p><p>Description: This tag sets the number of highest eigenvalues to which the correlation is measured within the angular descriptor sparsification (within the machine learning force field method).\n</p>\n</div>", "last_revised": "2022-04-08T13:29:59Z"}, "ML_RDES_SPARSDES": {"datatype": "real", "default": "0.5", "options": {}, "summary": "This tag sets the ratio of the selected to the total number of descriptors within the angular descriptor sparsification (within the machine learning force field method).", "id": 1217, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_RDES_SPARSDES\">ML_RDES_SPARSDES</a>=<span class=\"tag-value\">[real]</span><br> Default: <b>ML_RDES_SPARSDES</b> = 0.5&#160;\n</p><p>Description: This tag sets the ratio of the selected to the total number of descriptors within the angular descriptor sparsification (within the machine learning force field method).\n</p>\n</div>", "last_revised": "2022-04-08T13:30:42Z"}, "NRMM": {"datatype": "integer", "default": "4", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NRMM\">NRMM</a> sets the maximum number of iterative steps for RMM-DIIS (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NRMM\">IALGO</a>=<span><span class=\"tag-value\">4X)</span> or Davidson algorithms (</span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NRMM\">IALGO</a>=<span><span class=\"tag-value\">3X)</span>.</span></span>", "id": 1218, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IALGO\" title=\"IALGO\" class=\"tag-link\">IALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NRMM%22_incategory:%22Examples%22\" title='Special:Search/\"NRMM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:51:12Z"}, "ML_IALGO_LINREG": {"datatype": "integer", "default": "1", "options": {}, "summary": "This tag determines the algorithm that is employed to solve the system of linear equations in the ridge regression method for machine learning.", "id": 1269, "info": "<div><p>In the ridge regression method for machine learning one needs to solve for the unknown weights <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {w} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">w</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {w} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/20795664b5b048744a2fd88977851104cc5816f8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.931ex; height:1.676ex;\" alt=\"{\\mathbf  {w}}\"></span> minimizing\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ||\\mathbf {Y} -\\mathbf {\\Phi } \\mathbf {w} ||\\rightarrow {\\mbox{min}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">Y</mi>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">&#934;<!-- &#934; --></mi>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">w</mi>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mstyle displaystyle=\"false\" scriptlevel=\"0\">\n            <mtext>min</mtext>\n          </mstyle>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ||\\mathbf {Y} -\\mathbf {\\Phi } \\mathbf {w} ||\\rightarrow {\\mbox{min}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/e6d470fea779751b3b3b672815d0b003d5dcc37c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:18.799ex; height:2.843ex;\" alt=\"{\\displaystyle ||\\mathbf {Y} -\\mathbf {\\Phi } \\mathbf {w} ||\\rightarrow {\\mbox{min}}}\"></span>\n</p><p>For more details please see <a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Matrix_vector_form_of_linear_equations\" title=\"Machine learning force field: Theory\">here</a>.\n</p><p>The following options are available to solve for <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {w} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">w</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {w} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/20795664b5b048744a2fd88977851104cc5816f8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.931ex; height:1.676ex;\" alt=\"{\\mathbf  {w}}\"></span>:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">1</span>: Bayesian linear regression (see </span><a href=\"https://www.vasp.at/wiki/index.php/Machine_learning_force_field:_Theory#Bayesian_error_estimation\" title=\"Machine learning force field: Theory\">here</a>). Recommended for <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\geq }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#8805;<!-- &#8805; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\geq }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bcef7c0e95bb77a35fd1a874ca91f425215f3c26\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:1.808ex; height:2.176ex;\" alt=\"\\geq \"></span>1. Usable with <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>TRAIN</i>, <i>SELECT</i>, and <i>REFITBAYESIAN</i>.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">2</span>: QR factorization. Usable with </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>REFIT</i> and <i>REFITBAYESIAN</i>.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">3</span>: Singular value decomposition. Usable with </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>REFIT</i> and <i>REFITBAYESIAN</i>.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">4</span>: Singular value decomposition with Tikhonov regularization. Usable with </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>REFIT</i> and <i>REFITBAYESIAN</i>.</li></ul>\n<p>For on the fly learning <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>TRAIN</i> and reselection of local reference configurations <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>SELECT</i>, it is strictly necessary to use Bayesian regression (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">1)</span>, since uncertainty estimates are only available for Bayesian regression. \n</span></p><p><b>Refitting</b>:\nAlthough the above modes result in an <a href=\"https://www.vasp.at/wiki/index.php/ML_FFN\" title=\"ML FFN\" class=\"tag-link\">ML_FFN</a> file that could be used for production runs, we strongly advise to refit the <a href=\"https://www.vasp.at/wiki/index.php/ML_ABN\" title=\"ML ABN\" class=\"tag-link\">ML_ABN</a> files. For that copy the <a href=\"https://www.vasp.at/wiki/index.php/ML_ABN\" title=\"ML ABN\" class=\"tag-link\">ML_ABN</a> file to the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file and use <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>= <i>REFIT</i> (if Bayesian error estimation is required during production runs <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>= <i>REFITBAYESIAN</i> is an option, but at the cost of significatnly slower calculation time). <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>= <i>REFIT</i> employs <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">4</span> by default.\n</span></p><p>For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>&amp;gt;<span><span class=\"tag-value\">1</span>, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">3</span> and 4 are the most tested approaches and we use </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">4</span> routinely before employing a machine learned force field. </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">4</span> gives more stable force fields and better fitting accuracy than </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">3</span>, due to the regularization term employed. \n</span></p><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">4</span> dramatically improves the condition number of the fitting compared to </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">1</span> since it directly uses the design matrix. In contrast </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">1</span> requires to use the covariance matrix (square of the design matrix), which effectively doubles the condition number.\nHowever, </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">4</span> needs significantly more memory than </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">1</span> (at least twice that much). Please always monitor the memory estimates in the </span><a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a>! It should be also noted that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">4</span> is computationally somewhat more demanding than </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">1</span>, but it typically requires between a few minutes and an hour. So usually the extra cost is negligible compared to the original training.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_W1\" title=\"ML W1\" class=\"tag-link\">ML_W1</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTOTEN\" title=\"ML WTOTEN\" class=\"tag-link\">ML_WTOTEN</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTIFOR\" title=\"ML WTIFOR\" class=\"tag-link\">ML_WTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_WTSIF\" title=\"ML WTSIF\" class=\"tag-link\">ML_WTSIF</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_IALGO_LINREG%22_incategory:%22Examples%22\" title='Special:Search/\"ML IALGO LINREG\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-03-31T14:15:14Z"}, "NELMGW": {"datatype": "integer", "default": "1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMGW\">NELMGW</a> sets the number of self-consistent GW steps.</span>", "id": 1274, "info": "<div><p>This tag is effective for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">EVGW[0]</span> | QPGW[0] | GW[0][R][K] and ignored otherwise.\nFor instance\n</span></p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span class=\"tag-value\">EVGW0</span>\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NELMGW\">NELMGW</a>=<span class=\"tag-value\">4</span>\n</pre>\n<p>performs a <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#gw0\" class=\"mw-redirect\" title=\"GW calculations\"> partially self-consistent GW calculations</a>, where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>G</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f5f3c8921a3b352de45446a6789b104458c9f90b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.827ex; height:2.176ex;\" alt=\"G\"></span> is updated four times. \n</p><p>Omit <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> and <a href=\"https://www.vasp.at/wiki/index.php/NELM\" title=\"NELM\" class=\"tag-link\">NELM</a> to select the <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#GW_in_one_go\" class=\"mw-redirect\" title=\"GW calculations\">single-step GW procedure</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>, <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NELMGW%22_incategory:%22Examples%22\" title='Special:Search/\"NELMGW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:21:34Z"}, "LRPAFORCE": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPAFORCE\">LRPAFORCE</a>=<span><span class=\"tag-value\">.TRUE.</span> calculates forces in the random-phase approximation (RPA).</span></span>", "id": 1276, "info": "<div><p>Available as of VASP.6.1.\n</p><p>This tag can be optionally set in low-scaling <a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations#RPAFORCES\" title=\"ACFDT/RPA calculations\">RPA calculations</a> or <a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#RPAFORCES\" class=\"mw-redirect\" title=\"GW calculations\"> GW calculations</a>. It allows computing the RPA forces on each ion. \nFor instance, \n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\"><span style=\"color:black\">ALGO</span></a>=<span><span class=\"tag-value\">RPAR</span>&#160;;  LRPAFORCE = .TRUE. \n</span></pre>\n<p>computes the RPA total energy with corresponding forces, while\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\"><span style=\"color:black\">ALGO</span></a>=<span><span class=\"tag-value\">G0W0R</span>&#160;; LRPAFORCE = .TRUE. \n</span></pre>\n<p>determines in addition the quasiparticle energies within the GW approximation. \n</p><p>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LRPAFORCE\">LRPAFORCE</a> tag can be used in combination with the standard relaxation options <a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a> and <a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>. \n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The RPA stress tensor is not available.\n</div><div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> Only <a href=\"https://www.vasp.at/wiki/index.php/ISIF\" title=\"ISIF\" class=\"tag-link\">ISIF</a>=<span><span class=\"tag-value\">0</span> is supported.\n</span></div><div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> RPA forces for metals are currently not supported.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/IBRION\" title=\"IBRION\" class=\"tag-link\">IBRION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/POTIM\" title=\"POTIM\" class=\"tag-link\">POTIM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations#RPAFORCES\" title=\"ACFDT/RPA calculations\">RPA calculations</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/GW_calculations#RPAFORCES\" class=\"mw-redirect\" title=\"GW calculations\"> GW calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LRPAFORCE%22_incategory:%22Examples%22\" title='Special:Search/\"LRPAFORCE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-11T10:16:18Z"}, "LSCK": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCK\">LSCK</a>=<span><span class=\"tag-value\">True</span> switches on the use of the squeezed Coulomb kernel.</span></span>", "id": 1278, "info": "<div><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCK\">LSCK</a> is set to .TRUE., the squeezed Coulomb kernel is used instead of the <a href=\"https://www.vasp.at/wiki/index.php/ENCUTGWSOFT\" title=\"ENCUTGWSOFT\" class=\"tag-link\">cosine window</a> <sup id=\"cite_ref-riemelmoser:jcp:2020_1-0\" class=\"reference\"><a href=\"#cite_note-riemelmoser:jcp:2020-1\">[1]</a></sup>:\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle v_{G}=4\\pi e^{2}{\\frac {(G_{max}-G_{min})(G_{max}-G)}{(G_{min}^{2}-G(2G_{min}-G_{max}))^{2}}}\\qquad {\\mbox{for}}\\quad \\mathrm {ENCUTGWSOFT} ={\\frac {\\hbar ^{2}G_{min}^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G_{max}^{2}}{2m_{e}}}=\\mathrm {ENCUTGW} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>v</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>G</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>4</mn>\n        <mi>&#960;<!-- &#960; --></mi>\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>a</mi>\n                  <mi>x</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>i</mi>\n                  <mi>n</mi>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>a</mi>\n                  <mi>x</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>G</mi>\n              <mo stretchy=\"false\">)</mo>\n            </mrow>\n            <mrow>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>i</mi>\n                  <mi>n</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msubsup>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>G</mi>\n              <mo stretchy=\"false\">(</mo>\n              <mn>2</mn>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>i</mi>\n                  <mi>n</mi>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>a</mi>\n                  <mi>x</mi>\n                </mrow>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n              <msup>\n                <mo stretchy=\"false\">)</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mspace width=\"2em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mstyle displaystyle=\"false\" scriptlevel=\"0\">\n            <mtext>for</mtext>\n          </mstyle>\n        </mrow>\n        <mspace width=\"1em\"></mspace>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">E</mi>\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">C</mi>\n          <mi mathvariant=\"normal\">U</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">G</mi>\n          <mi mathvariant=\"normal\">W</mi>\n          <mi mathvariant=\"normal\">S</mi>\n          <mi mathvariant=\"normal\">O</mi>\n          <mi mathvariant=\"normal\">F</mi>\n          <mi mathvariant=\"normal\">T</mi>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msubsup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>i</mi>\n                  <mi>n</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msubsup>\n            </mrow>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>&lt;</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi class=\"MJX-variant\">&#8463;<!-- &#8463; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <msubsup>\n                <mi>G</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>m</mi>\n                  <mi>a</mi>\n                  <mi>x</mi>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msubsup>\n            </mrow>\n            <mrow>\n              <mn>2</mn>\n              <msub>\n                <mi>m</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>e</mi>\n                </mrow>\n              </msub>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"normal\">E</mi>\n          <mi mathvariant=\"normal\">N</mi>\n          <mi mathvariant=\"normal\">C</mi>\n          <mi mathvariant=\"normal\">U</mi>\n          <mi mathvariant=\"normal\">T</mi>\n          <mi mathvariant=\"normal\">G</mi>\n          <mi mathvariant=\"normal\">W</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle v_{G}=4\\pi e^{2}{\\frac {(G_{max}-G_{min})(G_{max}-G)}{(G_{min}^{2}-G(2G_{min}-G_{max}))^{2}}}\\qquad {\\mbox{for}}\\quad \\mathrm {ENCUTGWSOFT} ={\\frac {\\hbar ^{2}G_{min}^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G_{max}^{2}}{2m_{e}}}=\\mathrm {ENCUTGW} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/697c7ef30f146258ced87fb4e0b21cd1789eca8a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:116.589ex; height:7.176ex;\" alt=\"{\\displaystyle v_{G}=4\\pi e^{2}{\\frac {(G_{max}-G_{min})(G_{max}-G)}{(G_{min}^{2}-G(2G_{min}-G_{max}))^{2}}}\\qquad {\\mbox{for}}\\quad \\mathrm {ENCUTGWSOFT} ={\\frac {\\hbar ^{2}G_{min}^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G^{2}}{2m_{e}}}&lt;{\\frac {\\hbar ^{2}G_{max}^{2}}{2m_{e}}}=\\mathrm {ENCUTGW} }\"></span> \n</p><p>This kernel 'squeezes' the contributions from large wave vectors <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle G&gt;G_{max}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>G</mi>\n        <mo>&gt;</mo>\n        <msub>\n          <mi>G</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mi>a</mi>\n            <mi>x</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle G&gt;G_{max}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/50498b4d3056255de4809760da06e2fcebda6c77\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:10.237ex; height:2.509ex;\" alt=\"{\\displaystyle G&gt;G_{max}}\"></span> into the window given by <a href=\"https://www.vasp.at/wiki/index.php/ENCUTGWSOFT\" title=\"ENCUTGWSOFT\" class=\"tag-link\">ENCUTGWSOFT</a>. Effectively, this extrapolates the random-phase-approximation&#8211;correlation energy to the <a href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\" title=\"ENCUTGW\" class=\"tag-link\">ENCUTGW</a> <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\to \\infty }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo stretchy=\"false\">&#8594;<!-- &#8594; --></mo>\n        <mi mathvariant=\"normal\">&#8734;<!-- &#8734; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\to \\infty }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8749399b32a01903a4f3b3dedb86ba54aad93dc3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.293ex; height:1.843ex;\" alt=\"{\\displaystyle \\to \\infty }\"></span> limit, assuming that the basis-set-incompleteness error falls off as <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle 1/}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mn>1</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle 1/}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/605a990e076b3088ce4561382b78cde38f329916\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:2.325ex; height:2.843ex;\" alt=\"{\\displaystyle 1/}\"></span><a href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\" title=\"ENCUTGW\" class=\"tag-link\">ENCUTGW</a><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle ^{3/2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mi></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>2</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle ^{3/2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/229e964b7e9deb43bb8853041640eb0a58f62a29\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.171ex; width:2.698ex; height:2.676ex;\" alt=\"{\\displaystyle ^{3/2}}\"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ENCUTGW\" title=\"ENCUTGW\" class=\"tag-link\">ENCUTGW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GW_calculations\" class=\"mw-redirect\" title=\"GW calculations\">GW calculations</a>\n<a href=\"https://www.vasp.at/wiki/index.php/ACFDT/RPA_calculations\" title=\"ACFDT/RPA calculations\">ACFDT/RPA calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LSCK%22_incategory:%22Examples%22\" title='Special:Search/\"LSCK\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T10:05:27Z"}, "LSCDM": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCDM\">LSCDM</a> switches on the selected columns of the density matrix (SCDM) method. </span>", "id": 1281, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCDM\">LSCDM</a>=<span><span class=\"tag-value\">.TRUE.</span> | .FALSE.&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>LSCDM</b>\n</td>\n<td>= .FALSE.\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCDM\">LSCDM</a> switches on the selected columns of the density matrix (SCDM) method. \n</p>\n</div>", "last_revised": "2022-07-20T10:31:37Z"}, "LIBXC1": {"datatype": "string or  integer", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a> specifies the exchange or exchange-correlation functional from the library of exchange-correlation functionals Libxc that one wants to use. If <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a> corresponds to an exchange functional, then it can be used in combination with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC2</a>  for the correlation functional.</span>", "id": 1283, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a> can be either strings or integers. The available functionals are listed on the Libxc website<sup id=\"cite_ref-libxc_list_4-0\" class=\"reference\"><a href=\"#cite_note-libxc_list-4\">[4]</a></sup> along with their associated tag and number (e.g., GGA_X_PBE and 101 for PBE exchange). The tag indicates if this is an exchange (X), correlation (C) or exchange-correlation (XC) functional, and to which family it belongs to, namely LDA (LDA or HYB_LDA), GGA (GGA or HYB_GGA) or meta-GGA (MGGA or HYB_MGGA).\n</p><p>Note that calculations with Laplacian-dependent meta-GGA functionals and meta-GGA-based hybrid functionals are possible since VASP.6.4.0.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> Do not use the Libxc functionals that are hybrid-MGGA-exchange-only, i.e., those whose tag starts with HYB_MGGA_X, since the results will be wrong.\n</div><p>Libxc is a separate program that has to be downloaded<sup id=\"cite_ref-libxc_3-1\" class=\"reference\"><a href=\"#cite_note-libxc-3\">[3]</a></sup> and compiled before VASP is compiled with the corresponding <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options#-DUSELIBXC\" title=\"Precompiler options\">precompiler options</a> and <a href=\"https://www.vasp.at/wiki/index.php/Makefile.include#Libxc_.28optional.29\" title=\"Makefile.include\">links to the libraries</a>.\n</p>\n<div class=\"alert alert-primary\" role=\"alert\"><h5 class=\"alert-heading\">Important:</h5> To get correct results with meta-GGA functionals (see discussion at <a href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\" title=\"LTBOUNDLIBXC\" class=\"tag-link\">LTBOUNDLIBXC</a>), it is necessary to use Libxc from version 5.2.0 onwards (or the master version for the latest implemented functionals) and to compile it with the option <code>--disable-fhc</code> as explained <a href=\"https://www.vasp.at/wiki/index.php/Makefile.include#Libxc_.28optional.29\" title=\"Makefile.include\">here</a>.\n</div><p>The allowed possibilities for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a> are the following:\n</p>\n<ul><li>Both <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>&#160; and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a> are specified and correspond to exchange and correlation functionals, respectively.</li>\n<li>Only <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>&#160; is specified and corresponds to an exchange or exchange-correlation functional. Note also that if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>&#160; is an exchange-correlation functional, then <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>&#160; can not be used.</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>&#160; and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a> can correspond to functionals of different families, e.g., a meta-GGA and a GGA, respectively.</li></ul>\n<p>Regarding other tags in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> related to Libxc:\n</p>\n<ul><li>One also has to specify <a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>=<span><span class=\"tag-value\">LIBXC</span> for LDA, GGA and GGA-based hybrid functionals or </span><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>=<span><span class=\"tag-value\">LIBXC</span> for meta-GGA functionals and meta-GGA-based hybrid functionals. Note that if one of the tags (</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>&#160; or <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>&#160;) corresponds to a meta-GGA, while the other corresponds to a GGA or LDA, then <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>=<span><span class=\"tag-value\">LIBXC</span> (and not </span><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>=<span><span class=\"tag-value\">LIBXC)</span> has to be specified.</span></li>\n<li>Many of the functionals implemented in Libxc have parameters that can be modified. This can be done via the tags <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\" title=\"LIBXC1 Pn\">LIBXC1_Pn</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\" title=\"LIBXC2 Pn\">LIBXC2_Pn</a>, where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n=1,2,\\ldots }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>n</mi>\n        <mo>=</mo>\n        <mn>1</mn>\n        <mo>,</mo>\n        <mn>2</mn>\n        <mo>,</mo>\n        <mo>&#8230;<!-- &#8230; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n=1,2,\\ldots }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3e6fe6c942f7596c0d3ade1a83faab2e290d0927\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:11.609ex; height:2.509ex;\" alt=\"{\\displaystyle n=1,2,\\ldots }\"></span>.</li>\n<li>The tag <a href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\" title=\"LTBOUNDLIBXC\" class=\"tag-link\">LTBOUNDLIBXC</a>, which is .FALSE. by default, allows to enforce the lower bound on the kinetic-energy density (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau _{\\sigma }^{\\mathrm {W} }&lt;\\tau _{\\sigma }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">W</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>&lt;</mo>\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau _{\\sigma }^{\\mathrm {W} }&lt;\\tau _{\\sigma }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a66d25868ccc756cccb754ac1df97931b114a66e\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:8.466ex; height:2.843ex;\" alt=\"{\\displaystyle \\tau _{\\sigma }^{\\mathrm {W} }&lt;\\tau _{\\sigma }}\"></span>) with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mo movablelimits=\"true\" form=\"prefix\">max</mo>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n        <mo>,</mo>\n        <msubsup>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">W</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/15a3a32c8b2b02bc7107f1b267e695e12343e792\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:17.824ex; height:3.009ex;\" alt=\"{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}\"></span> before <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau _{\\sigma }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau _{\\sigma }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ea9d51dc2f1ee30df36e314a43ff5584b7df6e8b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.189ex; height:2.009ex;\" alt=\"{\\displaystyle \\tau _{\\sigma }}\"></span> is used in a meta-GGA functional from Libxc.</li></ul>\n<p>For calculations with hybrid functionals (i.e., when <a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>=<span><span class=\"tag-value\">.TRUE.</span>), the following provides some explanations:\n</span></p>\n<ul><li>The Libxc functionals whose tag starts with HYB already include the mixing parameter, therefore for them the <a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>, <a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>, and <a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a> tags can not be used (more information on how to modify the mixing and screening parameters can be found at <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\" title=\"LIBXC1 Pn\">LIBXC1_Pn</a>).</li>\n<li>If the semilocal component of the hybrid functional is constructed using Libxc functionals that do not contain HYB in the tag, then <a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>, and <a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a> will be used and multiply</li></ul>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\mathrm {x} }^{\\mathrm {LDA} }=\\int \\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)d^{3}r}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <msubsup>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>n</mi>\n        <mo stretchy=\"false\">)</mo>\n        <msup>\n          <mi>d</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mi>r</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\mathrm {x} }^{\\mathrm {LDA} }=\\int \\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)d^{3}r}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5e8b99cb35f4c7de5a4e0d85d595ae01e6f062e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:22.437ex; height:5.676ex;\" alt=\"{\\displaystyle E_{\\mathrm {x} }^{\\mathrm {LDA} }=\\int \\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)d^{3}r}\"></span></dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta E_{\\mathrm {x} }^{\\mathrm {GGA} }=\\int \\left(\\epsilon _{\\mathrm {x} }^{\\mathrm {GGA} }(n,\\nabla n)-\\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)\\right)d^{3}r}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">G</mi>\n              <mi mathvariant=\"normal\">G</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <msubsup>\n              <mi>&#1013;<!-- &#1013; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">x</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">G</mi>\n                  <mi mathvariant=\"normal\">G</mi>\n                  <mi mathvariant=\"normal\">A</mi>\n                </mrow>\n              </mrow>\n            </msubsup>\n            <mo stretchy=\"false\">(</mo>\n            <mi>n</mi>\n            <mo>,</mo>\n            <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n            <mi>n</mi>\n            <mo stretchy=\"false\">)</mo>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msubsup>\n              <mi>&#1013;<!-- &#1013; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">x</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">L</mi>\n                  <mi mathvariant=\"normal\">D</mi>\n                  <mi mathvariant=\"normal\">A</mi>\n                </mrow>\n              </mrow>\n            </msubsup>\n            <mo stretchy=\"false\">(</mo>\n            <mi>n</mi>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <msup>\n          <mi>d</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mi>r</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta E_{\\mathrm {x} }^{\\mathrm {GGA} }=\\int \\left(\\epsilon _{\\mathrm {x} }^{\\mathrm {GGA} }(n,\\nabla n)-\\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)\\right)d^{3}r}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/72a9dbb4c398a052f500b790f2a795a66e028d10\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:42.586ex; height:5.676ex;\" alt=\"{\\displaystyle \\Delta E_{\\mathrm {x} }^{\\mathrm {GGA} }=\\int \\left(\\epsilon _{\\mathrm {x} }^{\\mathrm {GGA} }(n,\\nabla n)-\\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)\\right)d^{3}r}\"></span></dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{\\mathrm {c} }^{\\mathrm {LDA} }=\\int \\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)d^{3}r}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <msubsup>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>n</mi>\n        <mo stretchy=\"false\">)</mo>\n        <msup>\n          <mi>d</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mi>r</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{\\mathrm {c} }^{\\mathrm {LDA} }=\\int \\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)d^{3}r}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5f37feffaf713dc6de0c7c7ba50327621ecf2116\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:22.437ex; height:5.676ex;\" alt=\"{\\displaystyle E_{\\mathrm {c} }^{\\mathrm {LDA} }=\\int \\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)d^{3}r}\"></span></dd>\n<dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Delta E_{\\mathrm {c} }^{\\mathrm {GGA} }=\\int \\left(\\epsilon _{\\mathrm {c} }^{\\mathrm {GGA} }(n,\\nabla n)-\\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)\\right)d^{3}r}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#916;<!-- &#916; --></mi>\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">G</mi>\n              <mi mathvariant=\"normal\">G</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mo>&#8747;<!-- &#8747; --></mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <msubsup>\n              <mi>&#1013;<!-- &#1013; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">c</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">G</mi>\n                  <mi mathvariant=\"normal\">G</mi>\n                  <mi mathvariant=\"normal\">A</mi>\n                </mrow>\n              </mrow>\n            </msubsup>\n            <mo stretchy=\"false\">(</mo>\n            <mi>n</mi>\n            <mo>,</mo>\n            <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n            <mi>n</mi>\n            <mo stretchy=\"false\">)</mo>\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <msubsup>\n              <mi>&#1013;<!-- &#1013; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">c</mi>\n                </mrow>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">L</mi>\n                  <mi mathvariant=\"normal\">D</mi>\n                  <mi mathvariant=\"normal\">A</mi>\n                </mrow>\n              </mrow>\n            </msubsup>\n            <mo stretchy=\"false\">(</mo>\n            <mi>n</mi>\n            <mo stretchy=\"false\">)</mo>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <msup>\n          <mi>d</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <mi>r</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Delta E_{\\mathrm {c} }^{\\mathrm {GGA} }=\\int \\left(\\epsilon _{\\mathrm {c} }^{\\mathrm {GGA} }(n,\\nabla n)-\\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)\\right)d^{3}r}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/5e6870bd3f3cf3e73c438c0644cc683fb2aae688\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:42.586ex; height:5.676ex;\" alt=\"{\\displaystyle \\Delta E_{\\mathrm {c} }^{\\mathrm {GGA} }=\\int \\left(\\epsilon _{\\mathrm {c} }^{\\mathrm {GGA} }(n,\\nabla n)-\\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)\\right)d^{3}r}\"></span></dd>\n<dd>respectively, where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)=-\\left(3/4\\right)\\left(3/\\pi \\right)^{1/3}n^{4/3}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>n</mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mn>3</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>4</mn>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <msup>\n          <mrow>\n            <mo>(</mo>\n            <mrow>\n              <mn>3</mn>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo>/</mo>\n              </mrow>\n              <mi>&#960;<!-- &#960; --></mi>\n            </mrow>\n            <mo>)</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>1</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>3</mn>\n          </mrow>\n        </msup>\n        <msup>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>4</mn>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mo>/</mo>\n            </mrow>\n            <mn>3</mn>\n          </mrow>\n        </msup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)=-\\left(3/4\\right)\\left(3/\\pi \\right)^{1/3}n^{4/3}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c6168ce7e61528bcdd7673071eb9bc075d0697bd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:31.131ex; height:3.509ex;\" alt=\"{\\displaystyle \\epsilon _{\\mathrm {x} }^{\\mathrm {LDA} }(n)=-\\left(3/4\\right)\\left(3/\\pi \\right)^{1/3}n^{4/3}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)=\\epsilon _{\\mathrm {c} }^{\\mathrm {GGA} }(n,\\nabla n=0)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">L</mi>\n              <mi mathvariant=\"normal\">D</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>n</mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <msubsup>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">G</mi>\n              <mi mathvariant=\"normal\">G</mi>\n              <mi mathvariant=\"normal\">A</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mi>n</mi>\n        <mo>,</mo>\n        <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n        <mi>n</mi>\n        <mo>=</mo>\n        <mn>0</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)=\\epsilon _{\\mathrm {c} }^{\\mathrm {GGA} }(n,\\nabla n=0)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a20dbce86a9c5c1f238b2b5bb7211f87bc0aba28\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:27.813ex; height:3.176ex;\" alt=\"{\\displaystyle \\epsilon _{\\mathrm {c} }^{\\mathrm {LDA} }(n)=\\epsilon _{\\mathrm {c} }^{\\mathrm {GGA} }(n,\\nabla n=0)}\"></span>.</dd></dl>\n<p>Examples of how to specify a Libxc functional in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> are given below.\n</p>\n<ul><li>PBE<sup id=\"cite_ref-perdew:prl:1996_5-0\" class=\"reference\"><a href=\"#cite_note-perdew:prl:1996-5\">[5]</a></sup></li></ul>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>=<span class=\"tag-value\">LIBXC</span>\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>=<span><span class=\"tag-value\">GGA_X_PBE</span> # or 101\n</span><a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>=<span><span class=\"tag-value\">GGA_C_PBE</span> # or 130\n</span></pre>\n<ul><li>SCAN<sup id=\"cite_ref-sun:prl:15_6-0\" class=\"reference\"><a href=\"#cite_note-sun:prl:15-6\">[6]</a></sup></li></ul>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>=<span class=\"tag-value\">LIBXC</span>\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>=<span><span class=\"tag-value\">MGGA_X_SCAN</span> # or 263\n</span><a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>=<span><span class=\"tag-value\">MGGA_C_SCAN</span> # or 267\n</span></pre>\n<ul><li>PBEh (PBE0)<sup id=\"cite_ref-adamo:jcp:1999_7-0\" class=\"reference\"><a href=\"#cite_note-adamo:jcp:1999-7\">[7]</a></sup></li></ul>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>\n<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>=<span><span class=\"tag-value\">0</span>.25\n</span><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>=<span class=\"tag-value\">LIBXC</span>\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>=<span><span class=\"tag-value\">HYB_GGA_XC_PBEH</span> # or 406\n</span></pre>\n<ul><li>SCAN0</li></ul>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>\n<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>=<span><span class=\"tag-value\">0</span>.25\n</span><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>=<span class=\"tag-value\">LIBXC</span>\n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>=<span><span class=\"tag-value\">MGGA_X_SCAN</span> # or 263\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1\">LIBXC1</a>=<span><span class=\"tag-value\">MGGA_C_SCAN</span> # or 267\n</span></pre>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\" title=\"LIBXC1 Pn\">LIBXC1_Pn</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\" title=\"LIBXC2 Pn\">LIBXC2_Pn</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\" title=\"LTBOUNDLIBXC\" class=\"tag-link\">LTBOUNDLIBXC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LIBXC1%22_incategory:%22Examples%22\" title='Special:Search/\"LIBXC1\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-marques:cpc:2012-1\"><a href=\"#cite_ref-marques:cpc:2012_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.cpc.2012.05.007\">M. A. L. Marques, M. J. T. Oliveira, and T. Burnus, Comput. Phys. Commun., <b>183</b>, 2272 (2012).</a></span>\n</li>\n<li id=\"cite_note-lehtola:sx:2018-2\"><a href=\"#cite_ref-lehtola:sx:2018_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.softx.2017.11.002\">S. Lehtola, C. Steigemann, M. J. T. Oliveira, and M. A. L. Marques, SoftwareX, <b>7</b>, 1 (2018).</a></span>\n</li>\n<li id=\"cite_note-libxc-3\">&#8593; <sup><a href=\"#cite_ref-libxc_3-0\">a</a></sup> <sup><a href=\"#cite_ref-libxc_3-1\">b</a></sup> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://www.tddft.org/programs/libxc/\">https://www.tddft.org/programs/libxc/</a></span>\n</li>\n<li id=\"cite_note-libxc_list-4\"><a href=\"#cite_ref-libxc_list_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://www.tddft.org/programs/libxc/functionals/\">https://www.tddft.org/programs/libxc/functionals/</a></span>\n</li>\n<li id=\"cite_note-perdew:prl:1996-5\"><a href=\"#cite_ref-perdew:prl:1996_5-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.77.3865\">J. P. Perdew, K. Burke, and M. Ernzerhof, Phys. Rev. Lett., <b>77</b>, 3865 (1996).</a></span>\n</li>\n<li id=\"cite_note-sun:prl:15-6\"><a href=\"#cite_ref-sun:prl:15_6-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.115.036402\">J. Sun, A. Ruzsinszky, and J. P. Perdew, Phys. Rev. Lett. <b>115</b>, 036402 (2015).</a></span>\n</li>\n<li id=\"cite_note-adamo:jcp:1999-7\"><a href=\"#cite_ref-adamo:jcp:1999_7-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://doi.org/10.1063/1.478522\">C. Adamo and V. Barone, Phys. Rev. Lett., <b>110</b>, 6158 (1999).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-02-18T14:17:57Z"}, "WANNIER90_WIN": {"datatype": "string", "default": "None", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/WANNIER90_WIN\">WANNIER90_WIN</a> sets the content of the <b>wannier90.win</b> file.</span>", "id": 1284, "info": "<div><p>The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/WANNIER90_WIN\">WANNIER90_WIN</a> tag is a multiline string, where the content of the <b>wannier90.win</b> file can be specified. For instance,\n</p>\n<pre>WANNIER90_WIN = \"\nexclude_bands 17-64\n\nBegin Projections\nSi:sp3\nEnd Projections\n\n# Disentanglement\ndis_win_min = -7\ndis_win_max = 16\ndis_num_iter = 100\n\nguiding_centres = true\n\"\n</pre>\n<p>Additionally, the value of some <a rel=\"nofollow\" class=\"external text\" href=\"https://github.com/wannier-developers/wannier90/raw/v3.1.0/doc/compiled_docs/user_guide.pdf\">Wannier90 tags</a>  is set automatically based on the VASP calculation, e.g., <i>kpoints</i>, <i>atoms</i>, <i>unit_cell</i>, <i>mp_grid</i>, <i>spinors</i>, <i>num_bands</i>, <i>num_wann</i>. \n</p><p>Available as of VASP 6.2.0.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\" title=\"NUM WANN\" class=\"tag-link\">NUM_WANN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90\" title=\"LWANNIER90\" class=\"tag-link\">LWANNIER90</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LWANNIER90_RUN\" title=\"LWANNIER90 RUN\" class=\"tag-link\">LWANNIER90_RUN</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22WANNIER90_WIN%22_incategory:%22Examples%22\" title='Special:Search/\"WANNIER90 WIN\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-06T10:49:41Z"}, "LIBXC2": {"datatype": "string or  integer", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC2\">LIBXC2</a> specifies the correlation functional from the library of exchange-correlation functionals Libxc that one wants to use. <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC2\">LIBXC2</a> can be used only if the functional specified with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC2\">LIBXC1</a> corresponds to only exchange and not to exchange and correlation.</span>", "id": 1286, "info": "<div><p>A detailed explanation on how to use <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC2\">LIBXC2</a> and examples can be found at the <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a> page.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_Tags_and_Sections\">Related Tags and Sections</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\" title=\"LIBXC1 Pn\">LIBXC1_Pn</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\" title=\"LIBXC2 Pn\">LIBXC2_Pn</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\" title=\"LTBOUNDLIBXC\" class=\"tag-link\">LTBOUNDLIBXC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LIBXC2%22_incategory:%22Examples%22\" title='Special:Search/\"LIBXC2\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-marques:cpc:2012-1\"><a href=\"#cite_ref-marques:cpc:2012_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.cpc.2012.05.007\">M. A. L. Marques, M. J. T. Oliveira, and T. Burnus, Comput. Phys. Commun., <b>183</b>, 2272 (2012).</a></span>\n</li>\n<li id=\"cite_note-lehtola:sx:2018-2\"><a href=\"#cite_ref-lehtola:sx:2018_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.softx.2017.11.002\">S. Lehtola, C. Steigemann, M. J. T. Oliveira, and M. A. L. Marques, SoftwareX, <b>7</b>, 1 (2018).</a></span>\n</li>\n<li id=\"cite_note-libxc-3\"><a href=\"#cite_ref-libxc_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://www.tddft.org/programs/libxc/\">https://www.tddft.org/programs/libxc/</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-02-17T14:39:01Z"}, "ML_EPS_REG": {"datatype": "real", "default": "1E-15", "options": {}, "summary": "Initial value for the threshold of the eigenvalues of the covariance matrix in the evidence approximation.", "id": 1288, "info": "<div><p>This threshold is used to determine which eigenvalues <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\lambda _{k}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#955;<!-- &#955; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>k</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\lambda _{k}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/57dfa9eb1c96d16ff53f264bd9710a16c0108469\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.444ex; height:2.509ex;\" alt=\"\\lambda _{{k}}\"></span> of the covariance matrix <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {\\Phi } ^{\\mathrm {T} }\\mathbf {\\Phi } /\\sigma _{\\mathrm {v} }^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">&#934;<!-- &#934; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">T</mi>\n            </mrow>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">&#934;<!-- &#934; --></mi>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {\\Phi } ^{\\mathrm {T} }\\mathbf {\\Phi } /\\sigma _{\\mathrm {v} }^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/32e4e6c2a419dc9e3660f95094c605c5c785ae99\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:8.871ex; height:3.176ex;\" alt=\"{\\mathbf  {\\Phi }}^{{{\\mathrm  {T}}}}{\\mathbf  {\\Phi }}/\\sigma _{{{\\mathrm  {v}}}}^{{2}}\"></span> are used in the optimization of the regularization parameters <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{\\mathrm {w} }^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">w</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{\\mathrm {w} }^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1ded14e6b8d01f6649c92a6dc29e7aa289db4365\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.746ex; height:2.843ex;\" alt=\"{\\displaystyle \\sigma _{\\mathrm {w} }^{2}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{\\mathrm {v} }^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{\\mathrm {v} }^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2c50fe23f90e6d600c30702943758fe5de571ea9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.428ex; height:2.843ex;\" alt=\"{\\displaystyle \\sigma _{\\mathrm {v} }^{2}}\"></span> determined by the following equations\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{\\mathrm {w} }^{2}={\\frac {|\\mathbf {\\bar {w}} |^{2}}{\\gamma }},}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">w</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mover>\n                    <mi mathvariant=\"bold\">w</mi>\n                    <mo mathvariant=\"bold\" stretchy=\"false\">&#175;<!-- &#175; --></mo>\n                  </mover>\n                </mrow>\n              </mrow>\n              <msup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mi>&#947;<!-- &#947; --></mi>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{\\mathrm {w} }^{2}={\\frac {|\\mathbf {\\bar {w}} |^{2}}{\\gamma }},}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/754963ebdbed05b75d280eb45c5da53fbe950481\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:11.607ex; height:6.509ex;\" alt=\"\\sigma _{{{\\mathrm  {w}}}}^{{2}}={\\frac  {|{\\mathbf  {{\\bar  {w}}}}|^{{2}}}{\\gamma }},\"></span>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{\\mathrm {v} }^{2}={\\frac {|\\mathbf {T} -\\mathbf {\\phi } \\mathbf {\\bar {w}} |^{2}}{M-\\gamma }},}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">v</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">|</mo>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">T</mi>\n              </mrow>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>&#981;<!-- &#981; --></mi>\n              </mrow>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mover>\n                    <mi mathvariant=\"bold\">w</mi>\n                    <mo mathvariant=\"bold\" stretchy=\"false\">&#175;<!-- &#175; --></mo>\n                  </mover>\n                </mrow>\n              </mrow>\n              <msup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <mrow>\n              <mi>M</mi>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>&#947;<!-- &#947; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{\\mathrm {v} }^{2}={\\frac {|\\mathbf {T} -\\mathbf {\\phi } \\mathbf {\\bar {w}} |^{2}}{M-\\gamma }},}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/46aaffeb68ea2da1984001e59df36029ed933781\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.338ex; width:17.373ex; height:6.509ex;\" alt=\"\\sigma _{{{\\mathrm  {v}}}}^{{2}}={\\frac  {|{\\mathbf  {T}}-{\\mathbf  {\\phi }}{\\mathbf  {{\\bar  {w}}}}|^{{2}}}{M-\\gamma }},\"></span>\n</p><p><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\gamma =\\sum \\limits _{k=1}^{N_{\\mathrm {B} }}{\\frac {\\lambda _{k}}{\\lambda _{k}+1/\\sigma _{\\mathrm {w} }^{2}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#947;<!-- &#947; --></mi>\n        <mo>=</mo>\n        <munderover>\n          <mo movablelimits=\"false\">&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>k</mi>\n            <mo>=</mo>\n            <mn>1</mn>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"normal\">B</mi>\n                </mrow>\n              </mrow>\n            </msub>\n          </mrow>\n        </munderover>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <msub>\n              <mi>&#955;<!-- &#955; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>k</mi>\n              </mrow>\n            </msub>\n            <mrow>\n              <msub>\n                <mi>&#955;<!-- &#955; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>k</mi>\n                </mrow>\n              </msub>\n              <mo>+</mo>\n              <mn>1</mn>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo>/</mo>\n              </mrow>\n              <msubsup>\n                <mi>&#963;<!-- &#963; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"normal\">w</mi>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msubsup>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\gamma =\\sum \\limits _{k=1}^{N_{\\mathrm {B} }}{\\frac {\\lambda _{k}}{\\lambda _{k}+1/\\sigma _{\\mathrm {w} }^{2}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/51014562734dcbcdbe11c5ca3b07303c675d9637\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.005ex; width:19.294ex; height:7.509ex;\" alt=\"\\gamma =\\sum \\limits _{{k=1}}^{{N_{{{\\mathrm  {B}}}}}}{\\frac  {\\lambda _{{k}}}{\\lambda _{{k}}+1/\\sigma _{{{\\mathrm  {w}}}}^{{2}}}}\"></span>.\n</p><p>All eigenvalues satisfying <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\lambda _{i}/\\lambda _{\\mathrm {max} }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#955;<!-- &#955; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <msub>\n          <mi>&#955;<!-- &#955; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">m</mi>\n              <mi mathvariant=\"normal\">a</mi>\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\lambda _{i}/\\lambda _{\\mathrm {max} }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/fca5575a01496f2354e1143c970b486bc7b362b2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:7.964ex; height:2.843ex;\" alt=\"{\\displaystyle \\lambda _{i}/\\lambda _{\\mathrm {max} }}\"></span> &gt; <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_EPS_REG\">ML_EPS_REG</a> are included in the above equations, whereas smaller eigenvalues are disregarded (they are anyway potentially inaccurate because of loss of significance).\n</p><p>If at any point during iterating the above equations, the quadratic norm of errors (eight column of <code>REGR/REGRF</code> in <a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a>) becomes too large (more than 1.2 times larger than in previous iterations), the code assumes that numerical issues\n(loss of significance) have occurred, and  then <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_EPS_REG\">ML_EPS_REG</a> is automatically doubled. Furthermore, if the regression does not converge within 10 steps, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_EPS_REG\">ML_EPS_REG</a> is also increased by a factor of 4. The maximum allowed iteration depths is 50 (the iteration number is the second entry of <code>REGR/REGRF</code> in <a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a>). When 50 iterations are reached, no force field is created and there is most likely something seriously wrong in the calculation.\n</p><p>The seventh entry of <code>REGR/REGRF</code> in the <a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a> shows the ratio of the regularization (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\sigma _{v}^{2}/\\sigma _{w}^{2}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>v</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <msubsup>\n          <mi>&#963;<!-- &#963; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>w</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\sigma _{v}^{2}/\\sigma _{w}^{2}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bcb1721232ebdba581333b2a04318dfc0dc130df\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:6.284ex; height:3.009ex;\" alt=\"{\\displaystyle \\sigma _{v}^{2}/\\sigma _{w}^{2}}\"></span>) and the largest eigenvalue. Usually this number is a number with many varying digits. If this number becomes a \"well rounded\" number (e.g. 1.00000000E-14), this is an indication that the cap for the current <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_EPS_REG\">ML_EPS_REG</a> is reached. That means that regularization becomes crucial. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IREG\" title=\"ML IREG\" class=\"tag-link\">ML_IREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SIGV0\" title=\"ML SIGV0\" class=\"tag-link\">ML_SIGV0</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_SIGW0\" title=\"ML SIGW0\" class=\"tag-link\">ML_SIGW0</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ML_EPS_LOW%22_incategory:%22Examples%22\" title='Special:Search/\"ML EPS LOW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-16T08:48:15Z"}, "LIBXC1_Pn": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_Pn</a>, where <math>n=1, 2, \\ldots</math> allows to specify the values of the parameters of the functional implemented in Libxc that is called with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1</a>.</span>", "id": 1289, "info": "<div><p>For many of the functionals implemented in the library of exchange-correlation functionals Libxc<sup id=\"cite_ref-marques:cpc:2012_1-0\" class=\"reference\"><a href=\"#cite_note-marques:cpc:2012-1\">[1]</a></sup><sup id=\"cite_ref-lehtola:sx:2018_2-0\" class=\"reference\"><a href=\"#cite_note-lehtola:sx:2018-2\">[2]</a></sup><sup id=\"cite_ref-libxc_3-0\" class=\"reference\"><a href=\"#cite_note-libxc-3\">[3]</a></sup> it is possible to modify the parameters if one does not want to use the default values. If a functional from Libxc has parameters that can be modified, then they are listed in <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> below \"Parameters of Libxc functionals:\" as P<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>n</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.395ex; height:1.676ex;\" alt=\"n\"></span> (<span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n=1,2,\\ldots }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>n</mi>\n        <mo>=</mo>\n        <mn>1</mn>\n        <mo>,</mo>\n        <mn>2</mn>\n        <mo>,</mo>\n        <mo>&#8230;<!-- &#8230; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n=1,2,\\ldots }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/3e6fe6c942f7596c0d3ade1a83faab2e290d0927\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:11.609ex; height:2.509ex;\" alt=\"{\\displaystyle n=1,2,\\ldots }\"></span>). <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_Pn</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\" title=\"LIBXC2 Pn\">LIBXC2_Pn</a> are for the functionals called with <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a> and <a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>, respectively.\n</p><p>An example is given below for the GGA PBE functional<sup id=\"cite_ref-perdew:prl:1996_4-0\" class=\"reference\"><a href=\"#cite_note-perdew:prl:1996-4\">[4]</a></sup> where the default parameters <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu =0.21951}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#956;<!-- &#956; --></mi>\n        <mo>=</mo>\n        <mn>0.21951</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu =0.21951}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f1bab3bbd981a8418222dfc1e6313a58148836e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:12.122ex; height:2.676ex;\" alt=\"{\\displaystyle \\mu =0.21951}\"></span> in exchange and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta =0.066725}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n        <mo>=</mo>\n        <mn>0.066725</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta =0.066725}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/48d9c5d514f46e3be15114c4fb41a3fcc27ce13a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:13.214ex; height:2.509ex;\" alt=\"{\\displaystyle \\beta =0.066725}\"></span> in correlation are changed to <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu =10/81\\approx 0.12345679}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#956;<!-- &#956; --></mi>\n        <mo>=</mo>\n        <mn>10</mn>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mn>81</mn>\n        <mo>&#8776;<!-- &#8776; --></mo>\n        <mn>0.12345679</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu =10/81\\approx 0.12345679}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/b0e745aed6a372a0dd497010c045f881c375a385\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:24.52ex; height:2.843ex;\" alt=\"{\\displaystyle \\mu =10/81\\approx 0.12345679}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\beta =0.046}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#946;<!-- &#946; --></mi>\n        <mo>=</mo>\n        <mn>0.046</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\beta =0.046}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8680713a5adf1f3c7306c31dcd1f8617890ed338\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:9.727ex; height:2.509ex;\" alt=\"{\\displaystyle \\beta =0.046}\"></span> to get the PBEsol functional<sup id=\"cite_ref-perdew:prl:2008_5-0\" class=\"reference\"><a href=\"#cite_note-perdew:prl:2008-5\">[5]</a></sup> (of course, the simpler way to use PBEsol from Libxc would be to call it directly with <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a>=<span><span class=\"tag-value\">GGA_X_PBE_SOL</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>=<span><span class=\"tag-value\">GGA_C_PBE_SOL)</span>.\n</span></p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>=<span class=\"tag-value\">LIBXC</span>\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a>=<span><span class=\"tag-value\">GGA_X_PBE</span> # or 101\n</span><a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>=<span><span class=\"tag-value\">GGA_C_PBE</span> # or 130\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_P2</a>=<span><span class=\"tag-value\">0</span>.12345679\n</span><a href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\" title=\"LIBXC2 Pn\">LIBXC2_P1</a> = 0.046\n</pre>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> The <a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>, <a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>, and <a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a> tags are ignored if the Libxc functional is an exchange-correlation functional (those with a tag that contains XC)\n</div><p>For Libxc functionals that are the semilocal component of a hybrid functional, i.e. those with a tag that starts with HYB (<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>=<span><span class=\"tag-value\">.TRUE.</span> will be set automatically if such a functional is selected), the following explains how it works for the mixing and screening parameters:\n</span></p>\n<ul><li>Mixing parameter:\n<ul><li>It is usually one of the parameters <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_Pn</a>, and can therefore be modified.</li>\n<li>For HYB_GGA_XC_PBEH, HYB_GGA_XC_B1WC, HYB_GGA_XC_HSE03, HYB_GGA_XC_HSE06, HYB_GGA_XC_HSE12, and HYB_GGA_XC_HSE12S, the value of <a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a> (even if not specified explicitly in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>) will be used and automatically passed to the corresponding parameter in Libxc. On the other hand, if this corresponding parameter (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_Pn</a>) is specified in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>, then it will be used (instead of <a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>), however note that it will be only for the semilocal component of the hybrid functional and not for the exact exchange that will still use <a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>.</li>\n<li>For all hybrid functionals except those listed just above, <a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a> will not be considered for the semilocal component of the hybrid functional, but only for the exact exchange component. Therefore, a particular choice for the mixing parameter has to be done by specifying both <a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a> (for the exact exchange) and the appropriate <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_Pn</a> (for the semilocal component).</li>\n<li>The <a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>, <a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>, <a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>, and <a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a> tags are ignored if the Libxc functional is an hybrid functional (those with a tag that starts with HYB).</li></ul></li>\n<li>Screening parameter:\n<ul><li>It is usually one of the parameters <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_Pn</a> if it is a screened functional, and can therefore be modified.</li>\n<li>For HYB_GGA_XC_HSE03, HYB_GGA_XC_HSE06, HYB_GGA_XC_HSE12, and HYB_GGA_XC_HSE12S, the value of <a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a> (even if not specified explicitly in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>) will be used and automatically passed to the corresponding parameter in Libxc. On the other hand, if this corresponding parameter (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_Pn</a>) is specified in <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>, then it will be used (instead of <a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a>), however note that it will be only for the semilocal component of the hybrid functional and not for the exact exchange that will still use <a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a>.</li>\n<li>For all hybrid functionals except those listed just above, <a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a> will not be considered for the semilocal component of the hybrid functional, but only for the exact exchange component. Therefore, a particular choice for the screening parameter has to be done by specifying both <a href=\"https://www.vasp.at/wiki/index.php/HFSCREEN\" title=\"HFSCREEN\" class=\"tag-link\">HFSCREEN</a> (for the exact exchange) and the appropriate <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\">LIBXC1_Pn</a> (for the semilocal component).</li></ul></li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\" title=\"LIBXC2 Pn\">LIBXC2_Pn</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\" title=\"LTBOUNDLIBXC\" class=\"tag-link\">LTBOUNDLIBXC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LIBXC1_Pn%22_incategory:%22Examples%22\" title='Special:Search/\"LIBXC1 Pn\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-marques:cpc:2012-1\"><a href=\"#cite_ref-marques:cpc:2012_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.cpc.2012.05.007\">M. A. L. Marques, M. J. T. Oliveira, and T. Burnus, Comput. Phys. Commun., <b>183</b>, 2272 (2012).</a></span>\n</li>\n<li id=\"cite_note-lehtola:sx:2018-2\"><a href=\"#cite_ref-lehtola:sx:2018_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1016/j.softx.2017.11.002\">S. Lehtola, C. Steigemann, M. J. T. Oliveira, and M. A. L. Marques, SoftwareX, <b>7</b>, 1 (2018).</a></span>\n</li>\n<li id=\"cite_note-libxc-3\"><a href=\"#cite_ref-libxc_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"https://www.tddft.org/programs/libxc/\">https://www.tddft.org/programs/libxc/</a></span>\n</li>\n<li id=\"cite_note-perdew:prl:1996-4\"><a href=\"#cite_ref-perdew:prl:1996_4-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.77.3865\">J. P. Perdew, K. Burke, and M. Ernzerhof, Phys. Rev. Lett., <b>77</b>, 3865 (1996).</a></span>\n</li>\n<li id=\"cite_note-perdew:prl:2008-5\"><a href=\"#cite_ref-perdew:prl:2008_5-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.100.136406\">J. P. Perdew, A. Ruzsinszky, G. I. Csonka, O. A. Vydrov, G. E. Scuseria, L. A. Constantin, X. Zhou, and K. Burke, Phys. Rev. Lett. <b>100</b>, 136406 (2008).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-02-18T14:12:47Z"}, "LKPOINTS_OPT": {"datatype": "boolean", "default": [[".TRUE.", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPOINTS_OPT\">KPOINTS_OPT</a> file is present."]], "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LKPOINTS_OPT\">LKPOINTS_OPT</a> controlls whether VASP reads the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPOINTS_OPT\">KPOINTS_OPT</a> file.</span>", "id": 1297, "info": "<div><p>To avoid reading the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS_OPT\" title=\"KPOINTS OPT\" class=\"tag-link\">KPOINTS_OPT</a> file without removing it from the working directory, the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LKPOINTS_OPT\">LKPOINTS_OPT</a> tag can be set to <code>.FALSE.</code> in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/KPOINTS_OPT\" title=\"KPOINTS OPT\" class=\"tag-link\">KPOINTS_OPT</a>, <a href=\"https://www.vasp.at/wiki/index.php/PROCAR_OPT\" title=\"PROCAR OPT\" class=\"tag-link\">PROCAR_OPT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LKPOINTS_OPT%22_incategory:%22Examples%22\" title='Special:Search/\"LKPOINTS OPT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-07T06:49:19Z"}, "LTRIPLET": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a> selects a triplet ansatz for <a href=\"https://www.vasp.at/wiki/index.php/%3ACategory%3ABethe-Salpeter_equations\">Bethe-Salpeter-equations</a> (BSE) calculations. This is synonymous to  <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LHARTREE</a>=<span class=\"tag-value\">.FALSE.</span></span>", "id": 1299, "info": "<div><p>For a usual BSE calculation (<a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a>=<span><span class=\"tag-value\">.TRUE.</span>; </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a>=<span><span class=\"tag-value\">.FALSE.</span>), the excited state corresponds to a singlet if the ground state is not spin-polarized (</span><a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">1)</span> or anti-ferromagnetic (</span><a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">2</span>, total magnetic moment 0). This is so because the ansatz for the BSE calculation involves a hole and an electron pair prepared within each spin channel. For instance, an electron with up spin is removed from the ground-state determinant and placed with the same spin into a previously unoccupied orbital. If there are no separate spin channels this ansatz results in a net spin-zero, which corresponds to a singlet state.\n</span></p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a>=<span><span class=\"tag-value\">.TRUE.</span>, VASP assumes that an </span><i>up</i> electron is removed from the ground-state determinant and placed as a <i>down</i> electron into a previously unoccupied orbital (spin flip). This ansatz corresponds to a triplet state as it has a net spin of one. Without spin-orbit coupling (<a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>=<span><span class=\"tag-value\">.FALSE.</span>), the transition probability from the singlet ground state to the triplet solutions will be exactly zero. These excitations correspond to dark, potentially long-lived triplet excitons. However, VASP calculates the transition probabilities incorrectly, by assuming that a spin-flip excitation has the same transition probabilities as a usual singlet excitation.\nThe reported transition probabilities (\"optical transitions\" in </span><a href=\"https://www.vasp.at/wiki/index.php?title=Vasprun.xml&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vasprun.xml (page does not exist)\">vasprun.xml</a>) are hence incorrect; they should be all zero. Likewise, the contributions to the dielectric function are zero for triplet excitations,\nand incorrectly reported in the <a href=\"https://www.vasp.at/wiki/index.php?title=Vasprun.xml&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vasprun.xml (page does not exist)\">vasprun.xml</a> file.\n</p><p>If a non-magnetic material is calculated using <a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">2</span> for both the groundstate and BSE calculation, and a usual BSE calculation is performed (</span><a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a>=<span><span class=\"tag-value\">.TRUE.</span>; </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a>=<span><span class=\"tag-value\">.FALSE.</span>), all\nsinglet transitions as well as one set of the triplet excitations (those with </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle m_{S}=0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>m</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>S</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle m_{S}=0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/320aa3f152646624c1177d99b81fa095d64b0887\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:7.594ex; height:2.509ex;\" alt=\"{\\displaystyle m_{S}=0}\"></span> ) are calculated. All triplet transitions will have zero transition probabilities. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a>=<span><span class=\"tag-value\">.TRUE.</span> is set for the BSE calculation, the other two sets of triplet excitations (those with </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle m_{S}=1}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>m</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>S</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mn>1</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle m_{S}=1}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a3da3237587c316e7e973cb61181546d5127246f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:7.594ex; height:2.509ex;\" alt=\"{\\displaystyle m_{S}=1}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle m_{S}=-1}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>m</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>S</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle m_{S}=-1}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/98181ecac05c586bcbb59a6c1d53fadc372aeed2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:9.402ex; height:2.509ex;\" alt=\"{\\displaystyle m_{S}=-1}\"></span>) are determined. Note that as for <a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">1</span> for </span><a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">2</span> and  </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a>=<span><span class=\"tag-value\">.FALSE.</span>, incorrect non-zero transition probabilities are reported in the </span><a href=\"https://www.vasp.at/wiki/index.php?title=Vasprun.xml&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vasprun.xml (page does not exist)\">vasprun.xml</a> file (they should be all exactly zero, since the underlying pair states fed into the BSE can not be excited by light).\n</p><p>To obtain meaningful transition probabilities for the singlet and triplet excitations, include spin-orbit coupling by setting <a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>=<span><span class=\"tag-value\">.TRUE.</span> in the </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file throughout the calculation, i.e., for the ground-state and BSE calculation.  In this case, the singlet and all three sets of triplet excitations are calculated simultaneously, and proper transition probabilities are assigned to each transition. Small transition probabilities might be observed even for triplet excitations as a result of spin-orbit coupling. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a>=<span><span class=\"tag-value\">.TRUE.</span> should not be used for calculations including spin-orbit coupling.\n</span></p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5>  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a>=<span><span class=\"tag-value\">.TRUE.</span> has not been extensively tested in combination with spin-polarized ground states (</span><a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>=<span><span class=\"tag-value\">2)</span>.\n</span></div><div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5>  We are not sure whether the <a href=\"https://www.vasp.at/wiki/index.php/BSEFATBAND\" title=\"BSEFATBAND\" class=\"tag-link\">BSEFATBAND</a> approach can be combined with the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTRIPLET\">LTRIPLET</a> tag.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LTRIPLET%22_incategory:%22Examples%22\" title='Special:Search/\"LTRIPLET\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n</div>", "last_revised": "2022-04-07T12:21:12Z"}, "LTBOUNDLIBXC": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\">LTBOUNDLIBXC</a> specifies whether or not the lower bound for the Kohn-Sham kinetic-energy density <math>\\tau_{\\sigma}</math> (<math>\\tau_{\\sigma}^{\\textrm{W}}) is enforced before <math>\\tau_{\\sigma}</math> is used in a meta-GGA functional from Libxc.</math></span>", "id": 1300, "info": "<div><p>The KS kinetic-energy density <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau _{\\sigma }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau _{\\sigma }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ea9d51dc2f1ee30df36e314a43ff5584b7df6e8b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.189ex; height:2.009ex;\" alt=\"{\\displaystyle \\tau _{\\sigma }}\"></span> should in principle be larger than the von Weizs&#228;cker kinetic-energy density <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau _{\\sigma }^{\\textrm {W}}=\\left\\vert \\nabla \\rho _{\\sigma }\\right\\vert ^{2}/\\left(8\\rho _{\\sigma }\\right)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mtext>W</mtext>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <msup>\n          <mrow>\n            <mo>|</mo>\n            <mrow>\n              <mi mathvariant=\"normal\">&#8711;<!-- &#8711; --></mi>\n              <msub>\n                <mi>&#961;<!-- &#961; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>&#963;<!-- &#963; --></mi>\n                </mrow>\n              </msub>\n            </mrow>\n            <mo>|</mo>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mn>2</mn>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo>/</mo>\n        </mrow>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mn>8</mn>\n            <msub>\n              <mi>&#961;<!-- &#961; --></mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>&#963;<!-- &#963; --></mi>\n              </mrow>\n            </msub>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau _{\\sigma }^{\\textrm {W}}=\\left\\vert \\nabla \\rho _{\\sigma }\\right\\vert ^{2}/\\left(8\\rho _{\\sigma }\\right)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c9476097871266f27f127c2c7d27972edb07a043\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:19.832ex; height:3.343ex;\" alt=\"{\\displaystyle \\tau _{\\sigma }^{\\textrm {W}}=\\left\\vert \\nabla \\rho _{\\sigma }\\right\\vert ^{2}/\\left(8\\rho _{\\sigma }\\right)}\"></span>. However, for numerical reasons this may not always be the case and can potentially lead to problems depending on the meta-GGA. If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\">LTBOUNDLIBXC</a>=<span><span class=\"tag-value\">.TRUE.</span> in </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a>, then <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mo movablelimits=\"true\" form=\"prefix\">max</mo>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n        <mo>,</mo>\n        <msubsup>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">W</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/15a3a32c8b2b02bc7107f1b267e695e12343e792\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:17.824ex; height:3.009ex;\" alt=\"{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}\"></span> is applied before <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau _{\\sigma }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau _{\\sigma }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ea9d51dc2f1ee30df36e314a43ff5584b7df6e8b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.189ex; height:2.009ex;\" alt=\"{\\displaystyle \\tau _{\\sigma }}\"></span> is used in a meta-GGA functional from Libxc.\n</p><p>However, according to tests, for some of the most common meta-GGA functionals like SCAN<sup id=\"cite_ref-sun:prl:15_1-0\" class=\"reference\"><a href=\"#cite_note-sun:prl:15-1\">[1]</a></sup>, a violation of the lower bound is technically not a problem and, furthermore, applying <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mo movablelimits=\"true\" form=\"prefix\">max</mo>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msub>\n        <mo>,</mo>\n        <msubsup>\n          <mi>&#964;<!-- &#964; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">W</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/15a3a32c8b2b02bc7107f1b267e695e12343e792\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:17.824ex; height:3.009ex;\" alt=\"{\\displaystyle \\tau _{\\sigma }=\\max(\\tau _{\\sigma },\\tau _{\\sigma }^{\\mathrm {W} })}\"></span> leads to very inaccurate forces and stress tensor. Therefore, by default <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\">LTBOUNDLIBXC</a>=<span><span class=\"tag-value\">.FALSE.</span> and Libxc should be compiled  with the option </span><code>--disable-fhc</code> has explained <a href=\"https://www.vasp.at/wiki/index.php/Makefile.include#Libxc_.28optional.29\" title=\"Makefile.include\">here</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LTBOUNDLIBXC%22_incategory:%22Examples%22\" title='Special:Search/\"LTBOUNDLIBXC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-sun:prl:15-1\"><a href=\"#cite_ref-sun:prl:15_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevLett.115.036402\">J. Sun, A. Ruzsinszky, and J. P. Perdew, Phys. Rev. Lett. <b>115</b>, 036402 (2015).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:43:20Z"}, "LIBXC2_Pn": {"datatype": "real", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\">LIBXC2_Pn</a>, where <math>n=1, 2, \\ldots</math> allows to specify the values of the parameters of the functional implemented in Libxc that is called with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\">LIBXC2</a>.</span>", "id": 1315, "info": "<div><p>A detailed explanation on how to use <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\" title=\"LIBXC1 Pn\">LIBXC1_Pn</a> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LIBXC2_Pn\">LIBXC2_Pn</a> and an example can be found at the <a href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\" title=\"LIBXC1 Pn\">LIBXC1_Pn</a> page.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LIBXC1\" title=\"LIBXC1\" class=\"tag-link\">LIBXC1</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC2\" title=\"LIBXC2\" class=\"tag-link\">LIBXC2</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LIBXC1_Pn\" title=\"LIBXC1 Pn\">LIBXC1_Pn</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LTBOUNDLIBXC\" title=\"LTBOUNDLIBXC\" class=\"tag-link\">LTBOUNDLIBXC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LIBXC2_Pn%22_incategory:%22Examples%22\" title='Special:Search/\"LIBXC2 Pn\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-17T14:37:47Z"}, "ZAB_VDW": {"datatype": "real", "default": "-0.8491", "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ZAB_VDW\">ZAB_VDW</a> specifies the value of the parameter <math>Z_{ab}</math> in the kernel of the <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\">nonlocal vdW-DF functional of Dion <i>et al</i>.</a>", "id": 1338, "info": "<div><p>In a revised version of the vdW correlation functional from Lee <i>et al</i>.<sup id=\"cite_ref-lee:prb:2010_2-0\" class=\"reference\"><a href=\"#cite_note-lee:prb:2010-2\">[2]</a></sup>, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle Z_{ab}=-1.8867}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>Z</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>a</mi>\n            <mi>b</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1.8867</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle Z_{ab}=-1.8867}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ebc436a3dba54d5647cf61340c913dae46bf13ac\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:14.76ex; height:2.509ex;\" alt=\"{\\displaystyle Z_{ab}=-1.8867}\"></span>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>, <a href=\"https://www.vasp.at/wiki/index.php/PARAM1\" title=\"PARAM1\" class=\"tag-link\">PARAM1</a>, <a href=\"https://www.vasp.at/wiki/index.php/PARAM2\" title=\"PARAM2\" class=\"tag-link\">PARAM2</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ZAB_VDW%22_incategory:%22Examples%22\" title='Special:Search/\"ZAB VDW\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:44:03Z"}, "BPARAM": {"datatype": "real", "default": "6.3", "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/BPARAM\">BPARAM</a> specifies the value of the parameter <math>b</math> in the kernel of the nonlocal rVV10 correlation functional.", "id": 1345, "info": "<div><p>Note that <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/BPARAM\">BPARAM</a> should be set to 15.7 for the SCAN+rVV10 functional<sup id=\"cite_ref-peng:prx:2016_1-0\" class=\"reference\"><a href=\"#cite_note-peng:prx:2016-1\">[1]</a></sup>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/CPARAM\" title=\"CPARAM\" class=\"tag-link\">CPARAM</a>, <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22BPARAM%22_incategory:%22Examples%22\" title='Special:Search/\"BPARAM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:01:01Z"}, "CPARAM": {"datatype": "real", "default": "0.0093", "options": {}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CPARAM\">CPARAM</a> allows to specify the value of the parameter <math>C</math> in the kernel of the nonlocal rVV10 correlation functional.", "id": 1346, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/BPARAM\" title=\"BPARAM\" class=\"tag-link\">BPARAM</a>, <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CPARAM%22_incategory:%22Examples%22\" title='Special:Search/\"CPARAM\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:01:19Z"}, "LTEMPER": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTEMPER\">LTEMPER</a> specified whether parallel tempering is used. The flag must be used in combination with  <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTEMPER\">IMAGES</a>.</span>", "id": 1353, "info": "<div><p>VASP supports various modes where simultaneous calculations for different INCAR, KPOINTS, POTCAR, or POSCAR files are performed. \nThe parallel tempering mode is explained in this section, however, please read the section <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a> first. Parallel tempering is also known as replica-exchange molecular dynamics.<sup id=\"cite_ref-sugi99_1-0\" class=\"reference\"><a href=\"#cite_note-sugi99-1\">[1]</a></sup> \n</p><p>If the tags <a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>=<span><span class=\"tag-value\">nn</span> and  </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LTEMPER\">LTEMPER</a>=<span><span class=\"tag-value\">.TRUE.</span> are set in the </span><a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, VASP performs parallel tempering calculations. In this case, it is expedient to supply different <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> files in each subdirectory 01, 02, 03, ..., nn. For each subdiretory a different simulation temperature should be supplied using the tags  <a href=\"https://www.vasp.at/wiki/index.php/TEBEG\" title=\"TEBEG\" class=\"tag-link\">TEBEG</a> in the INCAR files 01/INCAR, 02/INCAR ... nn/INCAR.\n</p><p>In the course of the simulations, VASP will attempt to swap the temperatures between the images. Swapping attempts are made every \n<a href=\"https://www.vasp.at/wiki/index.php/NTEMPER\" title=\"NTEMPER\" class=\"tag-link\">NTEMPER</a> MD steps and accepted with a likelyhood of\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle p=\\min \\left(1,{\\frac {\\exp \\left(-{\\frac {E_{j}}{kT_{i}}}-{\\frac {E_{i}}{kT_{j}}}\\right)}{\\exp \\left(-{\\frac {E_{i}}{kT_{i}}}-{\\frac {E_{j}}{kT_{j}}}\\right)}}\\right)=\\min \\left(1,e^{(E_{i}-E_{j})\\left({\\frac {1}{kT_{i}}}-{\\frac {1}{kT_{j}}}\\right)}\\right),}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>p</mi>\n        <mo>=</mo>\n        <mo movablelimits=\"true\" form=\"prefix\">min</mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mn>1</mn>\n            <mo>,</mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mfrac>\n                <mrow>\n                  <mi>exp</mi>\n                  <mo>&#8289;<!-- &#8289; --></mo>\n                  <mrow>\n                    <mo>(</mo>\n                    <mrow>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mfrac>\n                          <msub>\n                            <mi>E</mi>\n                            <mrow class=\"MJX-TeXAtom-ORD\">\n                              <mi>j</mi>\n                            </mrow>\n                          </msub>\n                          <mrow>\n                            <mi>k</mi>\n                            <msub>\n                              <mi>T</mi>\n                              <mrow class=\"MJX-TeXAtom-ORD\">\n                                <mi>i</mi>\n                              </mrow>\n                            </msub>\n                          </mrow>\n                        </mfrac>\n                      </mrow>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mfrac>\n                          <msub>\n                            <mi>E</mi>\n                            <mrow class=\"MJX-TeXAtom-ORD\">\n                              <mi>i</mi>\n                            </mrow>\n                          </msub>\n                          <mrow>\n                            <mi>k</mi>\n                            <msub>\n                              <mi>T</mi>\n                              <mrow class=\"MJX-TeXAtom-ORD\">\n                                <mi>j</mi>\n                              </mrow>\n                            </msub>\n                          </mrow>\n                        </mfrac>\n                      </mrow>\n                    </mrow>\n                    <mo>)</mo>\n                  </mrow>\n                </mrow>\n                <mrow>\n                  <mi>exp</mi>\n                  <mo>&#8289;<!-- &#8289; --></mo>\n                  <mrow>\n                    <mo>(</mo>\n                    <mrow>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mfrac>\n                          <msub>\n                            <mi>E</mi>\n                            <mrow class=\"MJX-TeXAtom-ORD\">\n                              <mi>i</mi>\n                            </mrow>\n                          </msub>\n                          <mrow>\n                            <mi>k</mi>\n                            <msub>\n                              <mi>T</mi>\n                              <mrow class=\"MJX-TeXAtom-ORD\">\n                                <mi>i</mi>\n                              </mrow>\n                            </msub>\n                          </mrow>\n                        </mfrac>\n                      </mrow>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mfrac>\n                          <msub>\n                            <mi>E</mi>\n                            <mrow class=\"MJX-TeXAtom-ORD\">\n                              <mi>j</mi>\n                            </mrow>\n                          </msub>\n                          <mrow>\n                            <mi>k</mi>\n                            <msub>\n                              <mi>T</mi>\n                              <mrow class=\"MJX-TeXAtom-ORD\">\n                                <mi>j</mi>\n                              </mrow>\n                            </msub>\n                          </mrow>\n                        </mfrac>\n                      </mrow>\n                    </mrow>\n                    <mo>)</mo>\n                  </mrow>\n                </mrow>\n              </mfrac>\n            </mrow>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mo movablelimits=\"true\" form=\"prefix\">min</mo>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mn>1</mn>\n            <mo>,</mo>\n            <msup>\n              <mi>e</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo stretchy=\"false\">(</mo>\n                <msub>\n                  <mi>E</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>i</mi>\n                  </mrow>\n                </msub>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <msub>\n                  <mi>E</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>j</mi>\n                  </mrow>\n                </msub>\n                <mo stretchy=\"false\">)</mo>\n                <mrow>\n                  <mo>(</mo>\n                  <mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mfrac>\n                        <mn>1</mn>\n                        <mrow>\n                          <mi>k</mi>\n                          <msub>\n                            <mi>T</mi>\n                            <mrow class=\"MJX-TeXAtom-ORD\">\n                              <mi>i</mi>\n                            </mrow>\n                          </msub>\n                        </mrow>\n                      </mfrac>\n                    </mrow>\n                    <mo>&#8722;<!-- &#8722; --></mo>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mfrac>\n                        <mn>1</mn>\n                        <mrow>\n                          <mi>k</mi>\n                          <msub>\n                            <mi>T</mi>\n                            <mrow class=\"MJX-TeXAtom-ORD\">\n                              <mi>j</mi>\n                            </mrow>\n                          </msub>\n                        </mrow>\n                      </mfrac>\n                    </mrow>\n                  </mrow>\n                  <mo>)</mo>\n                </mrow>\n              </mrow>\n            </msup>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>,</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle p=\\min \\left(1,{\\frac {\\exp \\left(-{\\frac {E_{j}}{kT_{i}}}-{\\frac {E_{i}}{kT_{j}}}\\right)}{\\exp \\left(-{\\frac {E_{i}}{kT_{i}}}-{\\frac {E_{j}}{kT_{j}}}\\right)}}\\right)=\\min \\left(1,e^{(E_{i}-E_{j})\\left({\\frac {1}{kT_{i}}}-{\\frac {1}{kT_{j}}}\\right)}\\right),}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/70ab162a039e036dc0049805f921f59304feef52\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -4.671ex; margin-left: -0.089ex; width:64.847ex; height:10.509ex;\" alt=\"{\\displaystyle p=\\min \\left(1,{\\frac {\\exp \\left(-{\\frac {E_{j}}{kT_{i}}}-{\\frac {E_{i}}{kT_{j}}}\\right)}{\\exp \\left(-{\\frac {E_{i}}{kT_{i}}}-{\\frac {E_{j}}{kT_{j}}}\\right)}}\\right)=\\min \\left(1,e^{(E_{i}-E_{j})\\left({\\frac {1}{kT_{i}}}-{\\frac {1}{kT_{j}}}\\right)}\\right),}\"></span></dd></dl>\n<p><br>\nwhere <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{i},E_{j}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>,</mo>\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{i},E_{j}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2556de8e994f6e2c5712ea8fd5068fd183a832c8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:6.174ex; height:2.843ex;\" alt=\"{\\displaystyle E_{i},E_{j}}\"></span> and <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle T_{i},T_{j}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>T</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>i</mi>\n          </mrow>\n        </msub>\n        <mo>,</mo>\n        <msub>\n          <mi>T</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>j</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle T_{i},T_{j}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/8902d20acdc4a0524b2c0abe685f40cadfa8abbd\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:5.458ex; height:2.843ex;\" alt=\"{\\displaystyle T_{i},T_{j}}\"></span> are the energies and temperatures of the considered two replicas. Note that VASP swaps the temperatures and not the positions between images. This means that the temperatures in each subdirectory change as the MD progresses. Information on the current temperatures for each image can be found in the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> files around the lines (all OUTCAR files will show the same information):\n</p>\n<pre>parallel tempering new\n</pre>\n<p>The average acceptance ratios are also written to the <a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a> file. For efficient parallel tempering the acceptance ratio should not fall much below 0.2-0.3. If the acceptance ratio is too small, one usually needs to increase the number of images. However, too many images can also decrease the probability that all images visit all allowed temperatures. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NTEMPER\" title=\"NTEMPER\" class=\"tag-link\">NTEMPER</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IMAGES%22_incategory:%22Examples%22\" title='Special:Search/\"IMAGES\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-sugi99-1\"><a href=\"#cite_ref-sugi99_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://dx.doi.org/10.1016/S0009-2614(99)01123-9\">Y. Sugita and Y. Okamoto, Chemical Physics Letters. 314, 141 (1999).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-08T14:43:35Z"}, "NTEMPER": {"datatype": "integer", "default": "200", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">NTEMPER</a> specifies how often temperature swaps are attempted during parallel tempering. The flag must be used in combination with  <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">IMAGES</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">LTEMPER</a>. </span>", "id": 1354, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">NTEMPER</a> must be a positive integer. Swaps are on average attempted after <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">NTEMPER</a> molecular dynamics steps.\nSpecifically, a random number <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle r}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>r</mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle r}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0d1ecb613aa2984f0576f70f86650b7c2a132538\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:1.049ex; height:1.676ex;\" alt=\"r\"></span> between [0,1[ is drawn. The next temperature swaps are attempted after \n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">NTEMPER</a> <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\times 2~r-1}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo>&#215;<!-- &#215; --></mo>\n        <mn>2</mn>\n        <mtext>&#160;</mtext>\n        <mi>r</mi>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\times 2~r-1}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9bf9ecf009f29de0c0ae5f861a610ab860010143\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.505ex; width:8.603ex; height:2.343ex;\" alt=\"{\\displaystyle \\times 2~r-1}\"></span>  steps. Obviously, for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">NTEMPER</a>=<span><span class=\"tag-value\">1</span> swaps are attempted at every MD step. In the present code version, temperature swaps are alternatively performed between images 1,2 and 3,4 and 5,6 etc. Upon the next swap attempts, the swaps are attempted between imaged 2,3 and 4,5 and 6,7 etc.\nThis implies that many swaps are attempted at the same time.\n</span></p><p>Furthermore, for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">NTEMPER</a>=<span><span class=\"tag-value\">0</span> no temperature swaps are attempted. This can be useful to perform many independent calculations in the directories 01, 02, 03, ... .\n</span></p><p>A final note is in place. The tag <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">NTEMPER</a>  must be set in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> files of the subdirectories 01, 02, 03, and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NTEMPER\">NTEMPER</a> must be identical in all\nsubdirectories. Failure to observe this rule can lead to unexpected behavior.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IMAGES\" title=\"IMAGES\" class=\"tag-link\">IMAGES</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LTEMPER\" title=\"LTEMPER\" class=\"tag-link\">LTEMPER</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IMAGES%22_incategory:%22Examples%22\" title='Special:Search/\"IMAGES\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n</div>", "last_revised": "2022-04-08T14:51:51Z"}, "VDW_ALPHA": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_ALPHA\">VDW_ALPHA</a> defines the polarizability <math>\\alpha_{0}</math> (bohr<math>^{3}</math>) for each species defined in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_ALPHA\">POSCAR</a> file within the <a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\">Tkatchenko-Scheffler</a> method.</span>", "id": 1355, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler_method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_R0%22_incategory:%22Examples%22\" title='Special:Search/\"VDW R0\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:46:14Z"}, "VDW_C6AU": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_C6AU\">VDW_C6AU</a> defines the <math>C_6</math> parameters (<math>\\mathrm{Hartree}</math> <math>\\mathrm{bohr}^{6}</math>) for each species defined in the <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_C6AU\">POSCAR</a> file within the <a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\">Tkatchenko-Scheffler</a> method.</span>", "id": 1356, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler_method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_C6AU%22_incategory:%22Examples%22\" title='Special:Search/\"VDW C6AU\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:46:45Z"}, "VDW_R0AU": {"datatype": "real array", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/VDW_R0AU\">VDW_R0AU</a> defines the <math>R_0</math> parameters (bohr) for each species defined in the <a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\">Tkatchenko-Scheffler</a> method.</span>", "id": 1357, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler_method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22VDW_R0AU%22_incategory:%22Examples%22\" title='Special:Search/\"VDW R0AU\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T14:47:22Z"}, "LSCALER0": {"datatype": "boolean", "default": ".TRUE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSCALER0\">LSCALER0</a> decides whether to compute SCS contribution to gradients or not.</span>", "id": 1388, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IVDW\" title=\"IVDW\" class=\"tag-link\">IVDW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Self-consistent_screening_in_Tkatchenko-Scheffler_method\" title=\"Self-consistent screening in Tkatchenko-Scheffler method\">Self-consistent screening in Tkatchenko-Scheffler method</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LVDWEXPANSION\" title=\"LVDWEXPANSION\" class=\"tag-link\">LVDWEXPANSION</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LVDWEXPANSION%22_incategory:%22Examples%22\" title='Special:Search/\"LVDWEXPANSION\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-04-08T20:38:29Z"}, "LFXC": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LFXC\">LFXC</a> enables the local exchange-correlation kernel in <a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\">TD-DFT</a> and <a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\">TDHF</a> calculations.</span>", "id": 1420, "info": "<div><p>The local exchange-correlation kernel is determined via <sup id=\"cite_ref-sander:prb:15_1-0\" class=\"reference\"><a href=\"#cite_note-sander:prb:15-1\">[1]</a></sup>\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle f_{\\mathrm {xc} }^{\\rm {loc}}\\left(\\mathbf {r} ,\\mathbf {r} '\\right)={\\frac {\\delta ^{2}\\left\\{E_{\\mathrm {c} }^{\\mathrm {DFT} }+\\left(1-c_{\\rm {x}}\\right)E_{\\mathrm {x} }^{\\mathrm {DFT} }\\right\\}}{\\delta \\rho (\\mathbf {r} )\\delta \\rho \\left(\\mathbf {r} '\\right)}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">x</mi>\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">l</mi>\n              <mi mathvariant=\"normal\">o</mi>\n              <mi mathvariant=\"normal\">c</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mrow>\n          <mo>(</mo>\n          <mrow>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">r</mi>\n            </mrow>\n            <mo>,</mo>\n            <msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n          <mo>)</mo>\n        </mrow>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msup>\n                <mi>&#948;<!-- &#948; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n              <mrow>\n                <mo>{</mo>\n                <mrow>\n                  <msubsup>\n                    <mi>E</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">c</mi>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">D</mi>\n                        <mi mathvariant=\"normal\">F</mi>\n                        <mi mathvariant=\"normal\">T</mi>\n                      </mrow>\n                    </mrow>\n                  </msubsup>\n                  <mo>+</mo>\n                  <mrow>\n                    <mo>(</mo>\n                    <mrow>\n                      <mn>1</mn>\n                      <mo>&#8722;<!-- &#8722; --></mo>\n                      <msub>\n                        <mi>c</mi>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mrow class=\"MJX-TeXAtom-ORD\">\n                            <mi mathvariant=\"normal\">x</mi>\n                          </mrow>\n                        </mrow>\n                      </msub>\n                    </mrow>\n                    <mo>)</mo>\n                  </mrow>\n                  <msubsup>\n                    <mi>E</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">x</mi>\n                      </mrow>\n                    </mrow>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"normal\">D</mi>\n                        <mi mathvariant=\"normal\">F</mi>\n                        <mi mathvariant=\"normal\">T</mi>\n                      </mrow>\n                    </mrow>\n                  </msubsup>\n                </mrow>\n                <mo>}</mo>\n              </mrow>\n            </mrow>\n            <mrow>\n              <mi>&#948;<!-- &#948; --></mi>\n              <mi>&#961;<!-- &#961; --></mi>\n              <mo stretchy=\"false\">(</mo>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n              <mo stretchy=\"false\">)</mo>\n              <mi>&#948;<!-- &#948; --></mi>\n              <mi>&#961;<!-- &#961; --></mi>\n              <mrow>\n                <mo>(</mo>\n                <msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">r</mi>\n                  </mrow>\n                  <mo>&#8242;</mo>\n                </msup>\n                <mo>)</mo>\n              </mrow>\n            </mrow>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle f_{\\mathrm {xc} }^{\\rm {loc}}\\left(\\mathbf {r} ,\\mathbf {r} '\\right)={\\frac {\\delta ^{2}\\left\\{E_{\\mathrm {c} }^{\\mathrm {DFT} }+\\left(1-c_{\\rm {x}}\\right)E_{\\mathrm {x} }^{\\mathrm {DFT} }\\right\\}}{\\delta \\rho (\\mathbf {r} )\\delta \\rho \\left(\\mathbf {r} '\\right)}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/c1302a98e9ec31104acccb65b5c77d6e7732d831\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.671ex; width:41.051ex; height:6.843ex;\" alt=\"{\\displaystyle f_{\\mathrm {xc} }^{\\rm {loc}}\\left(\\mathbf {r} ,\\mathbf {r} '\\right)={\\frac {\\delta ^{2}\\left\\{E_{\\mathrm {c} }^{\\mathrm {DFT} }+\\left(1-c_{\\rm {x}}\\right)E_{\\mathrm {x} }^{\\mathrm {DFT} }\\right\\}}{\\delta \\rho (\\mathbf {r} )\\delta \\rho \\left(\\mathbf {r} '\\right)}}}\"></span>,</dd></dl></dd></dl>\n<p>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle c_{\\rm {x}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>c</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">x</mi>\n            </mrow>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle c_{\\rm {x}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ea7bce901620390bbc92b31bbd84748065dd7316\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.107ex; height:2.009ex;\" alt=\"{\\displaystyle c_{\\rm {x}}}\"></span> is the fraction of the exchange interaction set by <a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>.\n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LHARTREE\" title=\"LHARTREE\" class=\"tag-link\">LHARTREE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ISPIN\" title=\"ISPIN\" class=\"tag-link\">ISPIN</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSORBIT\" title=\"LSORBIT\" class=\"tag-link\">LSORBIT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/BSE_calculations\" class=\"mw-redirect\" title=\"BSE calculations\">BSE calculations</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-sander:prb:15-1\"><a href=\"#cite_ref-sander:prb:15_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.92.045209\">T. Sander, E. Maggio, and G. Kresse, Phys. Rev. B <b>92</b>, 045209 (2015).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-04-20T15:01:40Z"}, "ICORELEVEL": {"datatype": "integer", "default": "0", "options": {"0": null, "1": null, "2": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\">ICORELEVEL</a> controls whether the core energies are explicitly calculated or not and how they are calculated.</span>", "id": 1427, "info": "<div><p>The binding energy of core electrons <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{CL}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>C</mi>\n            <mi>L</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{CL}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/abfe4d569159efa5ce56681aab5f32556e7e7dae\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:4.316ex; height:2.509ex;\" alt=\"{\\displaystyle E_{CL}}\"></span> is given as \n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{CL}=E(n_{c}-1)-E(n_{c})}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>C</mi>\n            <mi>L</mi>\n          </mrow>\n        </msub>\n        <mo>=</mo>\n        <mi>E</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mi>E</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{CL}=E(n_{c}-1)-E(n_{c})}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ecd08699c16203ac05b4935dd0458fae90b0ad49\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:26.105ex; height:2.843ex;\" alt=\"{\\displaystyle E_{CL}=E(n_{c}-1)-E(n_{c})}\"></span>.</dd></dl>\n<p>Here, <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E(n_{c})}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>E</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E(n_{c})}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/4f2a11e8b90ac99fdba8d055dc532f6085f7e43b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:5.924ex; height:2.843ex;\" alt=\"{\\displaystyle E(n_{c})}\"></span> is the energy from a standard density-functional calculation in which the number of core electrons corresponds to the unexcited ground state. <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E(n_{c}-1)}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>E</mi>\n        <mo stretchy=\"false\">(</mo>\n        <msub>\n          <mi>n</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mn>1</mn>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E(n_{c}-1)}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0615ef53e4e572c7af878daf214f274bead46470\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:9.927ex; height:2.843ex;\" alt=\"{\\displaystyle E(n_{c}-1)}\"></span> is the energy of a calculation where one electron is removed from the core of one particular atom and added to the valence or conduction band.\n</p><p>The core-level binding energies can be calculated either in the initial-state approximation or the final-state approximation. In the initial-state approximation, a core electron is removed from the core states and added to the valence/conduction bands but no change of the potential (by e.g. relaxation of the valence electrons) is allowed. The core-level binding energy can then be directly calculated by the Kohn-Sham eigenvalues<sup id=\"cite_ref-koehler:prb:04_1-0\" class=\"reference\"><a href=\"#cite_note-koehler:prb:04-1\">[1]</a></sup><sup id=\"cite_ref-lizzit:prb:2001_2-0\" class=\"reference\"><a href=\"#cite_note-lizzit:prb:2001-2\">[2]</a></sup> of the core level <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon _{c}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon _{c}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/fe67c2388c8b37e4ff410444827b41f0877c6ed9\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.888ex; height:2.009ex;\" alt=\"{\\displaystyle \\epsilon _{c}}\"></span> and the Fermi energy <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\epsilon _{F}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>F</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\epsilon _{F}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9577888ef778a0bf205a7df5647d6953873a0561\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:2.407ex; height:2.009ex;\" alt=\"{\\displaystyle \\epsilon _{F}}\"></span>\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle E_{CL}^{\\mathrm {i} }=\\epsilon _{c}-\\epsilon _{F}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mi>E</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>C</mi>\n            <mi>L</mi>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"normal\">i</mi>\n            </mrow>\n          </mrow>\n        </msubsup>\n        <mo>=</mo>\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>c</mi>\n          </mrow>\n        </msub>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msub>\n          <mi>&#1013;<!-- &#1013; --></mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>F</mi>\n          </mrow>\n        </msub>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle E_{CL}^{\\mathrm {i} }=\\epsilon _{c}-\\epsilon _{F}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/bd9591fb04f2f2247e55145ebbe147aac8e3a4ec\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:14.55ex; height:3.176ex;\" alt=\"{\\displaystyle E_{CL}^{\\mathrm {i} }=\\epsilon _{c}-\\epsilon _{F}}\"></span>.</dd></dl>\n<p>In the final-state approximation, the electrons (valence electrons in the frozen-core approximation) are allowed to relax, so that the local hole is screened. In other words, a fully self-consistent electronic calculation is carried out with a core hole and an additional electron in the valence/conduction bands.\n</p><p>The following options are available in VASP:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\">ICORELEVEL</a>=<span><span class=\"tag-value\">0</span>: The core energies are not calculated (default).</span></li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\">ICORELEVEL</a>=<span><span class=\"tag-value\">1</span>: The initial-state approximation is used. This just involves recalculating the KS eigenvalues of the core states</span></li></ul>\n<p>after a self-consistent calculation of the valence charge density. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\">ICORELEVEL</a>=<span><span class=\"tag-value\">1</span> is a little bit more involved than the calculations using\n</span><a href=\"https://www.vasp.at/wiki/index.php/LVTOT\" title=\"LVTOT\" class=\"tag-link\">LVTOT</a>=<i>.TRUE.</i>, since the Kohn-Sham energy of each core state is recalculated. This adds very little extra cost to the calculations. Usually,\nthe shifts correspond very closely to the change of the electrostatic potential at the lattice sites (calculated using <a href=\"https://www.vasp.at/wiki/index.php/LVTOT\" title=\"LVTOT\" class=\"tag-link\">LVTOT</a>=<i>.TRUE.</i>).\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\">ICORELEVEL</a>=<span><span class=\"tag-value\">2</span>: The final-state approximation is used. Electrons are removed from the core and placed into the valence (effectively increasing </span><a href=\"https://www.vasp.at/wiki/index.php/NELECT\" title=\"NELECT\" class=\"tag-link\">NELECT</a>). The VASP implementation excites all selected core electrons for</li></ul>\n<p>all atoms of one species. The species, as well as the selected electrons, are specified using\n</p>\n<pre><a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\"><span style=\"color:black\">CLNT</span></a>=<span class=\"tag-value\">species</span> \n<a href=\"https://www.vasp.at/wiki/index.php/CLN\" title=\"CLN\" class=\"tag-link\"><span style=\"color:black\">CLN</span></a>=<span><span class=\"tag-value\">main</span> quantum number of excited core electron \n</span><a href=\"https://www.vasp.at/wiki/index.php/CLL\" title=\"CLL\" class=\"tag-link\"><span style=\"color:black\">CLL</span></a>=<span><span class=\"tag-value\">l</span> quantum number of excited core electron\n</span><a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\"><span style=\"color:black\">CLZ</span></a>=<span><span class=\"tag-value\">electron</span> count\n</span></pre>\n<p>The electron count <a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\"><span style=\"color:black\">CLZ</span></a> specifies how many electrons are excited\nfrom the core. Usually, 1 or 0.5 (Slater's transition state) are sensible choices.\n<a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\">CLNT</a> selects for which species in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file the electrons\nare excited. Usually one would like to excite the electrons for\nonly one atom, this requires changing the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> and <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file,\nsuch that the selected atom corresponds to one species in the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file.\ni.e. if the calculation invokes a supercell with 64 atoms of one type,\nthe selected atom needs to be singled out, and the <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file will\nthen contain 63 \"standard\"  atoms as well as one special  species,\nat which the excited core hole will be placed\n(the <a href=\"https://www.vasp.at/wiki/index.php/POTCAR\" title=\"POTCAR\" class=\"tag-link\">POTCAR</a> file will hold two identical PAW datasets in this case).\n</p><p>Several caveats apply to this mode.\nFirst, the excited electron is always spherical and multipole splittings\nare not available. Second, the other core electrons are not allowed\nto relax, which might cause a slight error in the calculated\nenergies.\nThird, absolute energies are not meaningful, since VASP usually\nreports valence energies only. Only relative\nshifts of the core electron binding energies are relevant\n(in some cases, the VASP total energies might become even positive).\n</p>\n<h2><span class=\"mw-headline\" id=\"Super-cell_core-hole_method\">Super-cell core-hole method</span></h2>\n<p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ICORELEVEL\">ICORELEVEL</a>=<span><span class=\"tag-value\">2</span> and itss related tags are necessary for the calculation of </span><a href=\"https://www.vasp.at/wiki/index.php/XAS_theory\" title=\"XAS theory\">X-ray absorption spectra</a> (XAS) using the super-cell core-hole method.\n</p><p>A description of how to set up super-cell core-hole calculations is given <a href=\"https://www.vasp.at/wiki/index.php/SCH_calculations\" title=\"SCH calculations\">here</a>.\n</p><p>A tutorial for the calculation of XAS is given <a href=\"https://www.vasp.at/wiki/index.php/XAS_-_Tutorial\" title=\"XAS - Tutorial\">here</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/CLNT\" title=\"CLNT\" class=\"tag-link\">CLNT</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLN\" title=\"CLN\" class=\"tag-link\">CLN</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLL\" title=\"CLL\" class=\"tag-link\">CLL</a>, <a href=\"https://www.vasp.at/wiki/index.php/CLZ\" title=\"CLZ\" class=\"tag-link\">CLZ</a>, <a href=\"https://www.vasp.at/wiki/index.php/CH_LSPEC\" title=\"CH LSPEC\" class=\"tag-link\">CH_LSPEC</a>, <a href=\"https://www.vasp.at/wiki/index.php/CH_SIGMA\" title=\"CH SIGMA\" class=\"tag-link\">CH_SIGMA</a>, <a href=\"https://www.vasp.at/wiki/index.php/CH_NEDOS\" title=\"CH NEDOS\" class=\"tag-link\">CH_NEDOS</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ICORELEVEL%22_incategory:%22Examples%22\" title='Special:Search/\"ICORELEVEL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-koehler:prb:04-1\"><a href=\"#cite_ref-koehler:prb:04_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.70.165405\">L. K&#246;hler and G. Kresse, Phys. Rev. B <b>70</b>, 165405 (2004).</a></span>\n</li>\n<li id=\"cite_note-lizzit:prb:2001-2\"><a href=\"#cite_ref-lizzit:prb:2001_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.63.205419\">S. Lizzit, A. Baraldi, A. Groso, K. Reuter, M. V. Ganduglia-Pirovano, C. Stampfl, M. Scheffler, M. Stichler, C. Keller, W. Wurth, and D. Menzel, Phys. Rev. B <b>63</b>, 205419 (2001).</a></span>\n</li>\n</ol></div>\n<p><br>\n</p>\n</div>", "last_revised": "2022-07-19T07:57:47Z"}, "LWEIGHTED": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWEIGHTED\">LWEIGHTED</a> selects the <a href=\"https://www.vasp.at/wiki/index.php/Constrained%E2%80%93random-phase%E2%80%93approximation_formalism%23Weighted_method\">weighted cRPA method</a>. </span>", "id": 1449, "info": "<div><p>Selects the cRPA method of Sasioglu, Friedrich and Bl&#252;gel<sup id=\"cite_ref-sasioglu:prb:83_1-0\" class=\"reference\"><a href=\"#cite_note-sasioglu:prb:83-1\">[1]</a></sup> where following screening are subtracted from the full RPA polarizability:\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {\\chi }}_{{\\bf {G,G}}'}^{\\sigma }({\\bf {q}},i\\omega )\\approx {\\frac {1}{N_{k}}}\\sum _{nn'{\\bf {k}}}{\\frac {f_{n{\\bf {k}}}-f_{n'{\\bf {k-q}}}}{\\epsilon _{n{\\bf {k}}}-\\epsilon _{n'{\\bf {k-q}}}-i\\omega }}p_{n{\\bf {k}}}^{\\sigma }p_{n'{\\bf {k-p}}}^{\\sigma '}\\langle u_{n{\\bf {k}}}^{\\sigma }|e^{-i{\\bf {(G+q)r}}}|u_{n'{\\bf {k-q}}}^{\\sigma '}\\rangle \\langle u_{n'{\\bf {k-q}}}^{\\sigma '}|e^{-i{\\bf {(G'-q)r'}}}|u_{n'{\\bf {k}}}^{\\sigma }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#967;<!-- &#967; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                  <mo mathvariant=\"bold\">,</mo>\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n              </mrow>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">q</mi>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <mi>i</mi>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>&#8776;<!-- &#8776; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>k</mi>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>f</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>f</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                      <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n            </mrow>\n            <mrow>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                      <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>i</mi>\n              <mi>&#969;<!-- &#969; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <msubsup>\n          <mi>p</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msubsup>\n        <msubsup>\n          <mi>p</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n                <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                <mi mathvariant=\"bold\">p</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>&#963;<!-- &#963; --></mi>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mi>i</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo mathvariant=\"bold\" stretchy=\"false\">(</mo>\n                <mi mathvariant=\"bold\">G</mi>\n                <mo mathvariant=\"bold\">+</mo>\n                <mi mathvariant=\"bold\">q</mi>\n                <mo mathvariant=\"bold\" stretchy=\"false\">)</mo>\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n                <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                <mi mathvariant=\"bold\">q</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>&#963;<!-- &#963; --></mi>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n                <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                <mi mathvariant=\"bold\">q</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>&#963;<!-- &#963; --></mi>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mi>i</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo mathvariant=\"bold\" stretchy=\"false\">(</mo>\n                <msup>\n                  <mi mathvariant=\"bold\">G</mi>\n                  <mo>&#8242;</mo>\n                </msup>\n                <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                <mi mathvariant=\"bold\">q</mi>\n                <mo mathvariant=\"bold\" stretchy=\"false\">)</mo>\n                <msup>\n                  <mi mathvariant=\"bold\">r</mi>\n                  <mo>&#8242;</mo>\n                </msup>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mi>u</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {\\chi }}_{{\\bf {G,G}}'}^{\\sigma }({\\bf {q}},i\\omega )\\approx {\\frac {1}{N_{k}}}\\sum _{nn'{\\bf {k}}}{\\frac {f_{n{\\bf {k}}}-f_{n'{\\bf {k-q}}}}{\\epsilon _{n{\\bf {k}}}-\\epsilon _{n'{\\bf {k-q}}}-i\\omega }}p_{n{\\bf {k}}}^{\\sigma }p_{n'{\\bf {k-p}}}^{\\sigma '}\\langle u_{n{\\bf {k}}}^{\\sigma }|e^{-i{\\bf {(G+q)r}}}|u_{n'{\\bf {k-q}}}^{\\sigma '}\\rangle \\langle u_{n'{\\bf {k-q}}}^{\\sigma '}|e^{-i{\\bf {(G'-q)r'}}}|u_{n'{\\bf {k}}}^{\\sigma }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d214f7302b6b98eb43728495841b9e6a821c22c8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:98.017ex; height:7.176ex;\" alt=\"{\\displaystyle {\\tilde {\\chi }}_{{\\bf {G,G}}'}^{\\sigma }({\\bf {q}},i\\omega )\\approx {\\frac {1}{N_{k}}}\\sum _{nn'{\\bf {k}}}{\\frac {f_{n{\\bf {k}}}-f_{n'{\\bf {k-q}}}}{\\epsilon _{n{\\bf {k}}}-\\epsilon _{n'{\\bf {k-q}}}-i\\omega }}p_{n{\\bf {k}}}^{\\sigma }p_{n'{\\bf {k-p}}}^{\\sigma '}\\langle u_{n{\\bf {k}}}^{\\sigma }|e^{-i{\\bf {(G+q)r}}}|u_{n'{\\bf {k-q}}}^{\\sigma '}\\rangle \\langle u_{n'{\\bf {k-q}}}^{\\sigma '}|e^{-i{\\bf {(G'-q)r'}}}|u_{n'{\\bf {k}}}^{\\sigma }\\rangle }\"></span></dd></dl></dd></dl>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LDISENTANGLE\" title=\"LDISENTANGLE\" class=\"tag-link\">LDISENTANGLE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LWEIGHTED%22_incategory:%22Examples%22\" title='Special:Search/\"LWEIGHTED\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-sasioglu:prb:83-1\"><a href=\"#cite_ref-sasioglu:prb:83_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.83.121101\">E. Sasioglu, C. Friedrich, and S. Bl&#252;gel, Phys. Rev. B <b>83</b>, 121101 (2011).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-08-16T08:58:48Z"}, "LDISENTANGLE": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LDISENTANGLE\">LDISENTANGLE</a> selects the <a href=\"https://www.vasp.at/wiki/index.php/Constrained%E2%80%93random-phase%E2%80%93approximation_formalism%23Disentangled_method\">disentangled cRPA method</a>. </span>", "id": 1451, "info": "<div><p>Selects the cRPA method of Miyake, Aryasetiawan and Imada<sup id=\"cite_ref-miyake:prb:80_1-0\" class=\"reference\"><a href=\"#cite_note-miyake:prb:80-1\">[1]</a></sup>. Following screening are subtracted from the full RPA polarizability:\n</p>\n<dl><dd><dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {\\chi }}_{{\\bf {G,G}}'}^{\\sigma }({\\bf {q}},i\\omega )={\\frac {1}{N_{k}}}\\sum _{\\bf {k}}\\sum _{nn'\\in {\\cal {T}}}{\\frac {f_{n{\\bf {k}}}-f_{n'{\\bf {k-q}}}}{{\\tilde {\\epsilon }}_{n{\\bf {k}}}-{\\tilde {\\epsilon }}_{n'{\\bf {k-q}}}-i\\omega }}\\langle {\\tilde {u}}_{n{\\bf {k}}}^{\\sigma }|e^{-i{\\bf {(G+q)r}}}|{\\tilde {u}}_{n'{\\bf {k-q}}}^{\\sigma '}\\rangle \\langle {\\tilde {u}}_{n'{\\bf {k-q}}}^{\\sigma '}|e^{-i{\\bf {(G'-q)r'}}}|{\\tilde {u}}_{n{\\bf {k}}}^{\\sigma }\\rangle }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#967;<!-- &#967; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                  <mo mathvariant=\"bold\">,</mo>\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n              </mrow>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">q</mi>\n          </mrow>\n        </mrow>\n        <mo>,</mo>\n        <mi>i</mi>\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mn>1</mn>\n            <msub>\n              <mi>N</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi>k</mi>\n              </mrow>\n            </msub>\n          </mfrac>\n        </mrow>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">k</mi>\n            </mrow>\n          </mrow>\n        </munder>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mo>&#8712;<!-- &#8712; --></mo>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">T</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </munder>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <msub>\n                <mi>f</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mi>f</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                      <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n            </mrow>\n            <mrow>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mover>\n                      <mi>&#1013;<!-- &#1013; --></mi>\n                      <mo stretchy=\"false\">~<!-- ~ --></mo>\n                    </mover>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi>n</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <msub>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mover>\n                      <mi>&#1013;<!-- &#1013; --></mi>\n                      <mo stretchy=\"false\">~<!-- ~ --></mo>\n                    </mover>\n                  </mrow>\n                </mrow>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <msup>\n                    <mi>n</mi>\n                    <mo>&#8242;</mo>\n                  </msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                      <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </mrow>\n              </msub>\n              <mo>&#8722;<!-- &#8722; --></mo>\n              <mi>i</mi>\n              <mi>&#969;<!-- &#969; --></mi>\n            </mrow>\n          </mfrac>\n        </mrow>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>u</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mi>i</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo mathvariant=\"bold\" stretchy=\"false\">(</mo>\n                <mi mathvariant=\"bold\">G</mi>\n                <mo mathvariant=\"bold\">+</mo>\n                <mi mathvariant=\"bold\">q</mi>\n                <mo mathvariant=\"bold\" stretchy=\"false\">)</mo>\n                <mi mathvariant=\"bold\">r</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>u</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n                <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                <mi mathvariant=\"bold\">q</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>&#963;<!-- &#963; --></mi>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>u</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>n</mi>\n              <mo>&#8242;</mo>\n            </msup>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n                <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                <mi mathvariant=\"bold\">q</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mi>&#963;<!-- &#963; --></mi>\n              <mo>&#8242;</mo>\n            </msup>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msup>\n          <mi>e</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8722;<!-- &#8722; --></mo>\n            <mi>i</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mo mathvariant=\"bold\" stretchy=\"false\">(</mo>\n                <msup>\n                  <mi mathvariant=\"bold\">G</mi>\n                  <mo>&#8242;</mo>\n                </msup>\n                <mo mathvariant=\"bold\">&#8722;<!-- &#8722; --></mo>\n                <mi mathvariant=\"bold\">q</mi>\n                <mo mathvariant=\"bold\" stretchy=\"false\">)</mo>\n                <msup>\n                  <mi mathvariant=\"bold\">r</mi>\n                  <mo>&#8242;</mo>\n                </msup>\n              </mrow>\n            </mrow>\n          </mrow>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>u</mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msubsup>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {\\chi }}_{{\\bf {G,G}}'}^{\\sigma }({\\bf {q}},i\\omega )={\\frac {1}{N_{k}}}\\sum _{\\bf {k}}\\sum _{nn'\\in {\\cal {T}}}{\\frac {f_{n{\\bf {k}}}-f_{n'{\\bf {k-q}}}}{{\\tilde {\\epsilon }}_{n{\\bf {k}}}-{\\tilde {\\epsilon }}_{n'{\\bf {k-q}}}-i\\omega }}\\langle {\\tilde {u}}_{n{\\bf {k}}}^{\\sigma }|e^{-i{\\bf {(G+q)r}}}|{\\tilde {u}}_{n'{\\bf {k-q}}}^{\\sigma '}\\rangle \\langle {\\tilde {u}}_{n'{\\bf {k-q}}}^{\\sigma '}|e^{-i{\\bf {(G'-q)r'}}}|{\\tilde {u}}_{n{\\bf {k}}}^{\\sigma }\\rangle }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/1e1b51619ac4ae29921579251f5e25b76cc36ac2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:93.568ex; height:7.176ex;\" alt=\"{\\displaystyle {\\tilde {\\chi }}_{{\\bf {G,G}}'}^{\\sigma }({\\bf {q}},i\\omega )={\\frac {1}{N_{k}}}\\sum _{\\bf {k}}\\sum _{nn'\\in {\\cal {T}}}{\\frac {f_{n{\\bf {k}}}-f_{n'{\\bf {k-q}}}}{{\\tilde {\\epsilon }}_{n{\\bf {k}}}-{\\tilde {\\epsilon }}_{n'{\\bf {k-q}}}-i\\omega }}\\langle {\\tilde {u}}_{n{\\bf {k}}}^{\\sigma }|e^{-i{\\bf {(G+q)r}}}|{\\tilde {u}}_{n'{\\bf {k-q}}}^{\\sigma '}\\rangle \\langle {\\tilde {u}}_{n'{\\bf {k-q}}}^{\\sigma '}|e^{-i{\\bf {(G'-q)r'}}}|{\\tilde {u}}_{n{\\bf {k}}}^{\\sigma }\\rangle }\"></span>,</dd></dl></dd></dl>\n<p>where <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\tilde {\\epsilon }}_{n{\\bf {k}}}^{\\sigma }}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <msubsup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mover>\n                <mi>&#1013;<!-- &#1013; --></mi>\n                <mo stretchy=\"false\">~<!-- ~ --></mo>\n              </mover>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>n</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">k</mi>\n              </mrow>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>&#963;<!-- &#963; --></mi>\n          </mrow>\n        </msubsup>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\tilde {\\epsilon }}_{n{\\bf {k}}}^{\\sigma }}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/114892dfbaa91f28ad425fd461d838d5b7a44fb3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -1.005ex; width:3.508ex; height:2.843ex;\" alt=\"{\\displaystyle {\\tilde {\\epsilon }}_{n{\\bf {k}}}^{\\sigma }}\"></span> is the disentangled band structure. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWEIGHTED\" title=\"LWEIGHTED\" class=\"tag-link\">LWEIGHTED</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LDISENTANGLE%22_incategory:%22Examples%22\" title='Special:Search/\"LDISENTANGLE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-miyake:prb:80-1\"><a href=\"#cite_ref-miyake:prb:80_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1103/PhysRevB.80.155134\">T. Miyake, F. Aryasetiawan, and M. Imada, Phys. Rev. B <b>80</b>, 155134 (2009).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2022-08-16T08:58:37Z"}, "FOCKCORR": {"datatype": "integer", "default": [["2", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LMAXFOCKAE\">LMAXFOCKAE</a>&gt;<span class=\"tag-value\">0</span>"], ["1", "else"]], "options": {"2": null, "1": null}, "summary": "The tag <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a> determines how the Coulomb convergence corrections are applied.", "id": 1468, "info": "<div><p>The Coulomb potential in reciprocal space \n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle V(G)={\\frac {4\\pi e^{2}}{G^{2}}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>V</mi>\n        <mo stretchy=\"false\">(</mo>\n        <mi>G</mi>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mfrac>\n            <mrow>\n              <mn>4</mn>\n              <mi>&#960;<!-- &#960; --></mi>\n              <msup>\n                <mi>e</mi>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mn>2</mn>\n                </mrow>\n              </msup>\n            </mrow>\n            <msup>\n              <mi>G</mi>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mn>2</mn>\n              </mrow>\n            </msup>\n          </mfrac>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle V(G)={\\frac {4\\pi e^{2}}{G^{2}}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/777f857a4302e9120c1aa2686fca084813531e86\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -2.171ex; width:13.99ex; height:6.009ex;\" alt=\"{\\displaystyle V(G)={\\frac {4\\pi e^{2}}{G^{2}}}}\"></span></dd></dl>\n<p>diverges for small G vectors.\nTo alleviate this issue and improve the convergence of the exact exchange integral with respect to supercell size (or k-point mesh density) different methods have been proposed: the auxiliary function methods<sup id=\"cite_ref-gygi:prb:86_1-0\" class=\"reference\"><a href=\"#cite_note-gygi:prb:86-1\">[1]</a></sup>, probe-charge Ewald <sup id=\"cite_ref-massidda:prb:93_2-0\" class=\"reference\"><a href=\"#cite_note-massidda:prb:93-2\">[2]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/HFALPHA\" title=\"HFALPHA\" class=\"tag-link\">HFALPHA</a>), and Coulomb truncation methods<sup id=\"cite_ref-spenceralavi:prb:08_3-0\" class=\"reference\"><a href=\"#cite_note-spenceralavi:prb:08-3\">[3]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/HFRCUT\" title=\"HFRCUT\" class=\"tag-link\">HFRCUT</a>).\nThese mostly involve modifying the Coulomb Kernel in a way that yields the same result as the unmodified kernel within the limit of large supercell sizes.\n</p><p>These corrections are implemented in VASP either by changing the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G} =0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G} =0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/d4e29b7b5ec5f69bd248f8679816013c7a6e2e01\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.362ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G} =0}\"></span> component of the Coulomb kernel when <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span class=\"tag-value\">1</span> \n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\Phi (\\mathbf {G} )=\\left\\{{\\begin{array}{lr}{\\frac {4\\pi e^{2}}{\\Omega }}{\\frac {1}{G^{2}}}&amp;\\mathbf {G} \\neq 0\\\\\\chi &amp;\\mathbf {G} =0\\end{array}}\\right.}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi mathvariant=\"normal\">&#934;<!-- &#934; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mo stretchy=\"false\">)</mo>\n        <mo>=</mo>\n        <mrow>\n          <mo>{</mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtable columnalign=\"left right\" rowspacing=\"4pt\" columnspacing=\"1em\">\n              <mtr>\n                <mtd>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mfrac>\n                      <mrow>\n                        <mn>4</mn>\n                        <mi>&#960;<!-- &#960; --></mi>\n                        <msup>\n                          <mi>e</mi>\n                          <mrow class=\"MJX-TeXAtom-ORD\">\n                            <mn>2</mn>\n                          </mrow>\n                        </msup>\n                      </mrow>\n                      <mi mathvariant=\"normal\">&#937;<!-- &#937; --></mi>\n                    </mfrac>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mfrac>\n                      <mn>1</mn>\n                      <msup>\n                        <mi>G</mi>\n                        <mrow class=\"MJX-TeXAtom-ORD\">\n                          <mn>2</mn>\n                        </mrow>\n                      </msup>\n                    </mfrac>\n                  </mrow>\n                </mtd>\n                <mtd>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">G</mi>\n                  </mrow>\n                  <mo>&#8800;<!-- &#8800; --></mo>\n                  <mn>0</mn>\n                </mtd>\n              </mtr>\n              <mtr>\n                <mtd>\n                  <mi>&#967;<!-- &#967; --></mi>\n                </mtd>\n                <mtd>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">G</mi>\n                  </mrow>\n                  <mo>=</mo>\n                  <mn>0</mn>\n                </mtd>\n              </mtr>\n            </mtable>\n          </mrow>\n          <mo fence=\"true\" stretchy=\"true\" symmetric=\"true\"></mo>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\Phi (\\mathbf {G} )=\\left\\{{\\begin{array}{lr}{\\frac {4\\pi e^{2}}{\\Omega }}{\\frac {1}{G^{2}}}&amp;\\mathbf {G} \\neq 0\\\\\\chi &amp;\\mathbf {G} =0\\end{array}}\\right.}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a60586d4c7b38900b448f2683e62f5e3ae83ef3c\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:27.153ex; height:7.843ex;\" alt=\"{\\displaystyle \\Phi (\\mathbf {G} )=\\left\\{{\\begin{array}{lr}{\\frac {4\\pi e^{2}}{\\Omega }}{\\frac {1}{G^{2}}}&amp;\\mathbf {G} \\neq 0\\\\\\chi &amp;\\mathbf {G} =0\\end{array}}\\right.}\"></span></dd></dl>\n<p>with <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\chi }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#967;<!-- &#967; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\chi }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/656111758322ace96d80a9371771aa6d3de25437\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.455ex; height:2.009ex;\" alt=\"\\chi \"></span> being the value of the correction and depends on whether <a href=\"https://www.vasp.at/wiki/index.php/HFALPHA\" title=\"HFALPHA\" class=\"tag-link\">HFALPHA</a> or <a href=\"https://www.vasp.at/wiki/index.php/HFRCUT\" title=\"HFRCUT\" class=\"tag-link\">HFRCUT</a> are set,\nor by including the original orbital scaled by the convergence correction when <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span class=\"tag-value\">2</span>\n</p>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\langle \\mathbf {k} +\\mathbf {G} '|V_{\\text{x}}^{\\text{HF}}|\\mathbf {k} +\\mathbf {G} \\rangle =-\\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }\\sum _{\\mathbf {G} ''}C_{m\\mathbf {q} }^{*}(\\mathbf {G} '-\\mathbf {G} '')\\Phi (\\mathbf {k} -\\mathbf {q} +\\mathbf {G} '')C_{m\\mathbf {q} }(\\mathbf {G} -\\mathbf {G} '')}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n        <mo>+</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <msubsup>\n          <mi>V</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>x</mtext>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mtext>HF</mtext>\n          </mrow>\n        </msubsup>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mo stretchy=\"false\">|</mo>\n        </mrow>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n        <mo>+</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n        <mo>=</mo>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n        </munder>\n        <msub>\n          <mi>f</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <munder>\n          <mo>&#8721;<!-- &#8721; --></mo>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <msup>\n              <mrow class=\"MJX-TeXAtom-ORD\">\n                <mi mathvariant=\"bold\">G</mi>\n              </mrow>\n              <mo>&#8243;</mo>\n            </msup>\n          </mrow>\n        </munder>\n        <msubsup>\n          <mi>C</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mo>&#8727;<!-- &#8727; --></mo>\n          </mrow>\n        </msubsup>\n        <mo stretchy=\"false\">(</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mo>&#8242;</mo>\n        </msup>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mo>&#8243;</mo>\n        </msup>\n        <mo stretchy=\"false\">)</mo>\n        <mi mathvariant=\"normal\">&#934;<!-- &#934; --></mi>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n        <mo>+</mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mo>&#8243;</mo>\n        </msup>\n        <mo stretchy=\"false\">)</mo>\n        <msub>\n          <mi>C</mi>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi>m</mi>\n            <mrow class=\"MJX-TeXAtom-ORD\">\n              <mi mathvariant=\"bold\">q</mi>\n            </mrow>\n          </mrow>\n        </msub>\n        <mo stretchy=\"false\">(</mo>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n        <mo>&#8722;<!-- &#8722; --></mo>\n        <msup>\n          <mrow class=\"MJX-TeXAtom-ORD\">\n            <mi mathvariant=\"bold\">G</mi>\n          </mrow>\n          <mo>&#8243;</mo>\n        </msup>\n        <mo stretchy=\"false\">)</mo>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\langle \\mathbf {k} +\\mathbf {G} '|V_{\\text{x}}^{\\text{HF}}|\\mathbf {k} +\\mathbf {G} \\rangle =-\\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }\\sum _{\\mathbf {G} ''}C_{m\\mathbf {q} }^{*}(\\mathbf {G} '-\\mathbf {G} '')\\Phi (\\mathbf {k} -\\mathbf {q} +\\mathbf {G} '')C_{m\\mathbf {q} }(\\mathbf {G} -\\mathbf {G} '')}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/6553c477f7d681c563f3995d0778d3395e5d621a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -3.338ex; width:82.497ex; height:5.843ex;\" alt=\"{\\displaystyle \\langle \\mathbf {k} +\\mathbf {G} '|V_{\\text{x}}^{\\text{HF}}|\\mathbf {k} +\\mathbf {G} \\rangle =-\\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }\\sum _{\\mathbf {G} ''}C_{m\\mathbf {q} }^{*}(\\mathbf {G} '-\\mathbf {G} '')\\Phi (\\mathbf {k} -\\mathbf {q} +\\mathbf {G} '')C_{m\\mathbf {q} }(\\mathbf {G} -\\mathbf {G} '')}\"></span></dd></dl>\n<dl><dd><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle {\\begin{aligned}\\langle \\mathbf {k} +\\mathbf {G} '|{\\hat {V}}_{\\text{x}}^{\\text{HF}}|\\psi _{\\mathbf {k} n}\\rangle &amp;=-\\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }\\sum _{\\mathbf {G} ''}C_{m\\mathbf {q} }^{*}(\\mathbf {G} '-\\mathbf {G} '')\\Phi (\\mathbf {k} -\\mathbf {q} +\\mathbf {G} '')C_{m\\mathbf {q} }(\\mathbf {G} -\\mathbf {G} '')C_{n\\mathbf {k} }(\\mathbf {G} )\\\\&amp;=-\\chi \\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }C_{m\\mathbf {q} }(\\mathbf {G} )\\end{aligned}}}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mtable columnalign=\"right left right left right left right left right left right left\" rowspacing=\"3pt\" columnspacing=\"0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em\" displaystyle=\"true\">\n            <mtr>\n              <mtd>\n                <mo fence=\"false\" stretchy=\"false\">&#10216;<!-- &#10216; --></mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n                <mo>+</mo>\n                <msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">G</mi>\n                  </mrow>\n                  <mo>&#8242;</mo>\n                </msup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <msubsup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mover>\n                        <mi>V</mi>\n                        <mo stretchy=\"false\">^<!-- ^ --></mo>\n                      </mover>\n                    </mrow>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mtext>x</mtext>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mtext>HF</mtext>\n                  </mrow>\n                </msubsup>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mo stretchy=\"false\">|</mo>\n                </mrow>\n                <msub>\n                  <mi>&#968;<!-- &#968; --></mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                    <mi>n</mi>\n                  </mrow>\n                </msub>\n                <mo fence=\"false\" stretchy=\"false\">&#10217;<!-- &#10217; --></mo>\n              </mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <munder>\n                  <mo>&#8721;<!-- &#8721; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>m</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </munder>\n                <msub>\n                  <mi>f</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>m</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <munder>\n                  <mo>&#8721;<!-- &#8721; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <msup>\n                      <mrow class=\"MJX-TeXAtom-ORD\">\n                        <mi mathvariant=\"bold\">G</mi>\n                      </mrow>\n                      <mo>&#8243;</mo>\n                    </msup>\n                  </mrow>\n                </munder>\n                <msubsup>\n                  <mi>C</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>m</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mo>&#8727;<!-- &#8727; --></mo>\n                  </mrow>\n                </msubsup>\n                <mo stretchy=\"false\">(</mo>\n                <msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">G</mi>\n                  </mrow>\n                  <mo>&#8242;</mo>\n                </msup>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">G</mi>\n                  </mrow>\n                  <mo>&#8243;</mo>\n                </msup>\n                <mo stretchy=\"false\">)</mo>\n                <mi mathvariant=\"normal\">&#934;<!-- &#934; --></mi>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">k</mi>\n                </mrow>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">q</mi>\n                </mrow>\n                <mo>+</mo>\n                <msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">G</mi>\n                  </mrow>\n                  <mo>&#8243;</mo>\n                </msup>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>C</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>m</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <msup>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi mathvariant=\"bold\">G</mi>\n                  </mrow>\n                  <mo>&#8243;</mo>\n                </msup>\n                <mo stretchy=\"false\">)</mo>\n                <msub>\n                  <mi>C</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>n</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">k</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n              </mtd>\n            </mtr>\n            <mtr>\n              <mtd></mtd>\n              <mtd>\n                <mi></mi>\n                <mo>=</mo>\n                <mo>&#8722;<!-- &#8722; --></mo>\n                <mi>&#967;<!-- &#967; --></mi>\n                <munder>\n                  <mo>&#8721;<!-- &#8721; --></mo>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>m</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </munder>\n                <msub>\n                  <mi>f</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>m</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <msub>\n                  <mi>C</mi>\n                  <mrow class=\"MJX-TeXAtom-ORD\">\n                    <mi>m</mi>\n                    <mrow class=\"MJX-TeXAtom-ORD\">\n                      <mi mathvariant=\"bold\">q</mi>\n                    </mrow>\n                  </mrow>\n                </msub>\n                <mo stretchy=\"false\">(</mo>\n                <mrow class=\"MJX-TeXAtom-ORD\">\n                  <mi mathvariant=\"bold\">G</mi>\n                </mrow>\n                <mo stretchy=\"false\">)</mo>\n              </mtd>\n            </mtr>\n          </mtable>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle {\\begin{aligned}\\langle \\mathbf {k} +\\mathbf {G} '|{\\hat {V}}_{\\text{x}}^{\\text{HF}}|\\psi _{\\mathbf {k} n}\\rangle &amp;=-\\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }\\sum _{\\mathbf {G} ''}C_{m\\mathbf {q} }^{*}(\\mathbf {G} '-\\mathbf {G} '')\\Phi (\\mathbf {k} -\\mathbf {q} +\\mathbf {G} '')C_{m\\mathbf {q} }(\\mathbf {G} -\\mathbf {G} '')C_{n\\mathbf {k} }(\\mathbf {G} )\\\\&amp;=-\\chi \\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }C_{m\\mathbf {q} }(\\mathbf {G} )\\end{aligned}}}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/50884befed918ab83ad46dcb2e2289c50032680f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -5.505ex; width:88.284ex; height:12.176ex;\" alt=\"{\\displaystyle {\\begin{aligned}\\langle \\mathbf {k} +\\mathbf {G} '|{\\hat {V}}_{\\text{x}}^{\\text{HF}}|\\psi _{\\mathbf {k} n}\\rangle &amp;=-\\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }\\sum _{\\mathbf {G} ''}C_{m\\mathbf {q} }^{*}(\\mathbf {G} '-\\mathbf {G} '')\\Phi (\\mathbf {k} -\\mathbf {q} +\\mathbf {G} '')C_{m\\mathbf {q} }(\\mathbf {G} -\\mathbf {G} '')C_{n\\mathbf {k} }(\\mathbf {G} )\\\\&amp;=-\\chi \\sum _{m\\mathbf {q} }f_{m\\mathbf {q} }C_{m\\mathbf {q} }(\\mathbf {G} )\\end{aligned}}}\"></span></dd></dl>\n<p>For Hartree-Fock or hybrid functional calculations, either <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span><span class=\"tag-value\">1</span> or </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span><span class=\"tag-value\">2</span> can be used and should yield the same results when </span><a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"LMAXFOCKAE\">LMAXFOCKAE</a>=<span><span class=\"tag-value\">-1</span> and there are no aliasing errors in the exact exchange (see </span><a href=\"https://www.vasp.at/wiki/index.php/PRECFOCK\" title=\"PRECFOCK\" class=\"tag-link\">PRECFOCK</a> for more details).\nFor post-DFT methods such as ACDFT, GW, and BSE the <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span><span class=\"tag-value\">2</span> should be used because the overlap densities are reconstructed in the plane-wave grid (see </span><a href=\"https://www.vasp.at/wiki/index.php/LMAXFOCKAE\" class=\"mw-redirect tag-link\" title=\"LMAXFOCKAE\">LMAXFOCKAE</a> tag).\n</p><p>Note that in the case <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span><span class=\"tag-value\">2</span> the corrections are only applied to orbitals in the </span><span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {q} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {q} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7be005a326b7ac3fe4c24bca391369f44c4c2876\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:1.416ex; height:2.009ex;\" alt=\"{\\displaystyle \\mathbf {q} }\"></span> regular grid used to describe the exact exchange potential so this method cannot be used to compute band structures where this potential is applied to orbitals <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle n\\mathbf {k} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>n</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">k</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle n\\mathbf {k} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/ff9d344786693a837c2be5ff1a449c737eb201d0\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.806ex; height:2.176ex;\" alt=\"{\\displaystyle n\\mathbf {k} }\"></span> not in the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle m\\mathbf {q} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>m</mi>\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">q</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle m\\mathbf {q} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/fbbe7b686859dac4526569774e9339ddb1161aed\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.671ex; width:3.456ex; height:2.009ex;\" alt=\"{\\displaystyle m\\mathbf {q} }\"></span> set.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5>  <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span><span class=\"tag-value\">2</span> should </span><b>not</b> be used when computing the band structure along a path with the <a href=\"https://www.vasp.at/wiki/index.php/Si_HSE_bandstructure\" title=\"Si HSE bandstructure\">0-weight scheme</a> or <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS_OPT\" title=\"KPOINTS OPT\" class=\"tag-link\">KPOINTS_OPT</a>\n</div><p>In previous versions of VASP, \n<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span><span class=\"tag-value\">1</span> was used when </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span class=\"tag-value\">Normal;</span> <a href=\"https://www.vasp.at/wiki/index.php/LFOCKACE\" title=\"LFOCKACE\" class=\"tag-link\">LFOCKACE</a>=<span><span class=\"tag-value\">.FALSE.</span> and\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/FOCKCORR\">FOCKCORR</a>=<span><span class=\"tag-value\">2</span> when </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">All</span> or </span><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span class=\"tag-value\">Normal;</span> <a href=\"https://www.vasp.at/wiki/index.php/LFOCKACE\" title=\"LFOCKACE\" class=\"tag-link\">LFOCKACE</a>=<span><span class=\"tag-value\">.TRUE.</span> .\n</span></p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  Only available as of VASP 6.3.1.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/HFRCUT\" title=\"HFRCUT\" class=\"tag-link\">HFRCUT</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/HFALPHA\" title=\"HFALPHA\" class=\"tag-link\">HFALPHA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22HFRCUT%22_incategory:%22Examples%22\" title='Special:Search/\"HFRCUT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-11T14:17:00Z"}, "ML_SCLC_CTIFOR": {"datatype": "real", "default": "0.6", "options": {}, "summary": "Sets fraction by which the Bayesian threshold for the maximum forces is lowered in the selection of local reference calculations.", "id": 1470, "info": "<div><p>At every sampling step each atom with it's environment is chosen as a local reaference configuration is chosen if it's predicted error in the force is larger than the Bayesian threshold for the maximum forces (<a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>). <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_SCLC_CTIFOR\">ML_SCLC_CTIFOR</a> lowers the threshold by multiplying it to <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, but it doesn't effect the decision whether a sampling step (ab-initio calculation) is carried out or not, since the decision for sampling is done previously in a separate step. \n</p><p>The default value of 0.8 was set by us empirically in dependence of default values for other input parameters.\n</p><p>If this value is decreased, often the initial learning efficiency is much improved. This applies in particular to liquid and polymeric system, with a large configurational space. Good values are around 0.5 for such systems.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CX\" title=\"ML CX\" class=\"tag-link\">ML_CX</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_EPS_LOW\" title=\"ML EPS LOW\" class=\"tag-link\">ML_EPS_LOW</a>\n</p>\n</div>", "last_revised": "2023-03-31T13:56:40Z"}, "KPOINTS_OPT_NKBATCH": {"datatype": "number of k-points in the irreducible brillouin zone of the self-consistent calculation.", "default": null, "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPOINTS_OPT_NKBATCH\">KPOINTS_OPT_NKBATCH</a> determines the size of the batch of k-points for the KPOINTS_OPT driver.</span>", "id": 1475, "info": "<div><p>When the <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS_OPT\" title=\"KPOINTS OPT\" class=\"tag-link\">KPOINTS_OPT</a> is present an additional non-self-consistent calculation is performed after self-consistency is reached.\nThis one-shot calculation is done in batches of N k-points to reduce memory usage.\nIncreasing the size of the batch leads to faster calculation times but higher memory usage in the non-self-consistent calculation.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LKPOINTS_OPT\" title=\"LKPOINTS OPT\" class=\"tag-link\">LKPOINTS_OPT</a>, <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS_OPT\" title=\"KPOINTS OPT\" class=\"tag-link\">KPOINTS_OPT</a>, <a href=\"https://www.vasp.at/wiki/index.php/PROCAR_OPT\" title=\"PROCAR OPT\" class=\"tag-link\">PROCAR_OPT</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LKPOINTS_OPT%22_incategory:%22Examples%22\" title='Special:Search/\"LKPOINTS OPT\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-05-25T09:07:34Z"}, "LCHARGH5": {"datatype": "boolean", "default": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LH5\">LH5</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCHARGH5\">LCHARGH5</a> determines whether the charge densities are written to {{FILE|vaspwave.h5}}.</span>", "id": 1487, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCHARGH5\">LCHARGH5</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>LCHARGH5</b> = <a href=\"https://www.vasp.at/wiki/index.php/LH5\" title=\"LH5\" class=\"tag-link\">LH5</a>&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LCHARGH5\">LCHARGH5</a> determines whether the charge densities are written to <a href=\"https://www.vasp.at/wiki/index.php?title=Vaspwave.h5&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vaspwave.h5 (page does not exist)\">vaspwave.h5</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWAVE\" title=\"LWAVE\" class=\"tag-link\">LWAVE</a>, <a href=\"https://www.vasp.at/wiki/index.php/LWAVEH5\" title=\"LWAVEH5\" class=\"tag-link\">LWAVEH5</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCHARG\" title=\"LCHARG\" class=\"tag-link\">LCHARG</a>, <a href=\"https://www.vasp.at/wiki/index.php/LH5\" title=\"LH5\" class=\"tag-link\">LH5</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LCHARGH5%22_incategory:%22Examples%22\" title='Special:Search/\"LCHARGH5\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-02T07:47:00Z"}, "LWAVEH5": {"datatype": "boolean", "default": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LH5\">LH5</a>", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWAVEH5\">LWAVEH5</a> determines whether the wavefunctions are written to {{FILE|vaspwave.h5}} file at the end of a run.</span>", "id": 1488, "info": "<div class=\"mw-parser-output\"><p><a href=\"https://www.vasp.at/wiki/index.php/LWAVE\" title=\"LWAVE\" class=\"tag-link\">LWAVE</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>LWAVE</b> = <a href=\"https://www.vasp.at/wiki/index.php/LH5\" title=\"LH5\" class=\"tag-link\">LH5</a>&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LWAVEH5\">LWAVEH5</a> determines whether the wavefunctions are written to <a href=\"https://www.vasp.at/wiki/index.php?title=Vaspwave.h5&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vaspwave.h5 (page does not exist)\">vaspwave.h5</a> file at the end of a run.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHARG\" title=\"LCHARG\" class=\"tag-link\">LCHARG</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCHARGH5\" title=\"LCHARGH5\" class=\"tag-link\">LCHARGH5</a>, <a href=\"https://www.vasp.at/wiki/index.php/LWAVE\" title=\"LWAVE\" class=\"tag-link\">LWAVE</a>, <a href=\"https://www.vasp.at/wiki/index.php/LH5\" title=\"LH5\" class=\"tag-link\">LH5</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LWAVEH5%22_incategory:%22Examples%22\" title='Special:Search/\"LWAVEH5\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-02T07:46:36Z"}, "LH5": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LH5\">LH5</a> determines whether the output is written to the legacy files (<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CHGCAR\">CHGCAR</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CHGCAR\">CHG</a>, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CHGCAR\">WAVECAR</a>) or the {{FILE|vaspwave.h5}} file.</span>", "id": 1489, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LH5\">LH5</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>LH5</b> = .FALSE.&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LH5\">LH5</a> determines whether the output is written to the legacy files (<a href=\"https://www.vasp.at/wiki/index.php/CHGCAR\" title=\"CHGCAR\" class=\"tag-link\">CHGCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/CHG\" title=\"CHG\" class=\"tag-link\">CHG</a>, <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>) or the <a href=\"https://www.vasp.at/wiki/index.php?title=Vaspwave.h5&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vaspwave.h5 (page does not exist)\">vaspwave.h5</a> file.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LWAVE\" title=\"LWAVE\" class=\"tag-link\">LWAVE</a>, <a href=\"https://www.vasp.at/wiki/index.php/LWAVEH5\" title=\"LWAVEH5\" class=\"tag-link\">LWAVEH5</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCHARG\" title=\"LCHARG\" class=\"tag-link\">LCHARG</a>, <a href=\"https://www.vasp.at/wiki/index.php/LCHARGH5\" title=\"LCHARGH5\" class=\"tag-link\">LCHARGH5</a>\n</p><p><br>\n<a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LH5%22_incategory:%22Examples%22\" title='Special:Search/\"LH5\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-06-02T07:54:53Z"}, "CUTOFF_TYPE": {"datatype": "string", "default": "erfc", "options": {"erfc": null, "gaussian": null, "fermi": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_TYPE\">CUTOFF_TYPE</a> chooses the type of cutoff function to be used before performing the singular-value decomposition (SVD) of the initial projections matrix.</span>", "id": 1493, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_TYPE\">CUTOFF_TYPE</a>=<span><span class=\"tag-value\">erfc</span> | gaussian | fermi&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>CUTOFF_TYPE</b>\n</td>\n<td>= erfc\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_TYPE\">CUTOFF_TYPE</a> chooses the type of cutoff function to be used before performing the singular-value decomposition (SVD) of the initial projections matrix.\n</p>\n</div>", "last_revised": "2022-07-20T08:27:49Z"}, "CUTOFF_SIGMA": {"datatype": "real", "default": "0.1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_SIGMA\">CUTOFF_SIGMA</a> specifies the broadening <math>\\sigma</math> in eV for the cutoff function specified by <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_SIGMA\">CUTOFF_TYPE</a>.</span>", "id": 1494, "info": "<div><p>Corresponds to a broadening of the cutoff function to be used in the\n<a href=\"https://www.vasp.at/wiki/index.php/Wannier_functions#One-shot_single_value_decomposition_.28SVD.29\" class=\"mw-redirect\" title=\"Wannier functions\"> one-shot method</a> to obtain Wannier functions.\nThe meaning depends on the <a href=\"https://www.vasp.at/wiki/index.php/CUTOFF_TYPE\" title=\"CUTOFF TYPE\" class=\"tag-link\">CUTOFF_TYPE</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/CUTOFF_TYPE\" title=\"CUTOFF TYPE\" class=\"tag-link\">CUTOFF_TYPE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CUTOFF_MU\" title=\"CUTOFF MU\" class=\"tag-link\">CUTOFF_MU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LSCDM\" title=\"LSCDM\" class=\"tag-link\">LSCDM</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LOCPROJ\" title=\"LOCPROJ\" class=\"tag-link\">LOCPROJ</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CUTOFF_SIGMA%22_incategory:%22Examples%22\" title='Special:Search/\"CUTOFF SIGMA\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-20T10:00:46Z"}, "CUTOFF_MU": {"datatype": "real", "default": "0.8 * Fermi level of a system with <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\">NUM_WANN</a> orbitals occupied", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_MU\">CUTOFF_MU</a> specifies the cutoff energy <math>\\mu</math> in eV for the function specified by <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_MU\">CUTOFF_MU</a>.</span>", "id": 1495, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_MU\">CUTOFF_MU</a>=<span class=\"tag-value\">[real]</span>&#160;\n</p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>CUTOFF_MU</b>\n</td>\n<td>=  0.8 * Fermi level of a system with <a href=\"https://www.vasp.at/wiki/index.php/NUM_WANN\" title=\"NUM WANN\" class=\"tag-link\">NUM_WANN</a> orbitals occupied\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_MU\">CUTOFF_MU</a> specifies the cutoff energy <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mu }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#956;<!-- &#956; --></mi>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mu }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/9fd47b2a39f7a7856952afec1f1db72c67af6161\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.838ex; width:1.402ex; height:2.176ex;\" alt=\"\\mu \"></span> in eV for the function specified by <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/CUTOFF_MU\">CUTOFF_MU</a>.\n</p>\n</div>", "last_revised": "2022-07-20T10:06:34Z"}, "LPHON_DISPERSION": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_DISPERSION\">LPHON_DISPERSION</a> requests the calculation of the phonon dispersion along the q-point path supplied in file <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_DISPERSION\">QPOINTS</a> (same format as <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/KPOINTS\">KPOINTS</a>).</span>", "id": 1501, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_DISPERSION\">LPHON_DISPERSION</a>=<span><span class=\"tag-value\">.TRUE.</span> | .FALSE.&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>LPHON_DISPERSION</b>\n</td>\n<td>= .FALSE.\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_DISPERSION\">LPHON_DISPERSION</a> requests the calculation of the phonon dispersion along the q-point path supplied in file <a href=\"https://www.vasp.at/wiki/index.php/QPOINTS\" title=\"QPOINTS\" class=\"tag-link\">QPOINTS</a> (same format as <a href=\"https://www.vasp.at/wiki/index.php/KPOINTS\" title=\"KPOINTS\" class=\"tag-link\">KPOINTS</a>).\n</p>\n</div>", "last_revised": "2022-07-20T09:16:37Z"}, "PHON_NWRITE": {"datatype": "integer", "default": "1", "options": {}, "summary": "<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_NWRITE\">PHON_NWRITE</a>", "id": 1502, "info": "<div><p>Positive numbers mean human-readable output, and negative numbers mean one-line format. The available options are:\n</p>\n<table class=\"table table-striped table-hover\">\n\n<tbody><tr>\n<th>PHON_NWRITE</th>\n<th>Description\n</th></tr>\n<tr>\n<td>2</td>\n<td>For each q point, write the same as 1 and then the phonon modes with the displacement of each atom in the three cartesian directions per line.\n</td></tr>\n<tr>\n<td>1</td>\n<td>For each q point, q-point coordinates are written in one line and the phonon frequencies are written one branch per line in different units.\n</td></tr>\n<tr>\n<td>0</td>\n<td>No phonon output is written to OUTCAR.\n</td></tr>\n<tr>\n<td>-1</td>\n<td>For each q point, only a single line is written containing q-point coordinates and frequencies.\n</td></tr>\n<tr>\n<td>-2</td>\n<td>For each q point, q-point coordinates and frequencies are written in separate blocks and frequencies are reported in different units.\n</td></tr>\n<tr>\n<td>-3</td>\n<td>Like -2, but in addition, the phonon eigenvectors are written for each q point.\n</td></tr></tbody></table>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  Only available as of VASP 6.3.2.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/QPOINTS\" title=\"QPOINTS\" class=\"tag-link\">QPOINTS</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPHON_DISPERSION\" title=\"LPHON DISPERSION\" class=\"tag-link\">LPHON_DISPERSION</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LPHON_POLAR\" title=\"LPHON POLAR\" class=\"tag-link\">LPHON_POLAR</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PHON_DIELECTRIC\" title=\"PHON DIELECTRIC\" class=\"tag-link\">PHON_DIELECTRIC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PHON_BORN_CHARGES\" title=\"PHON BORN CHARGES\" class=\"tag-link\">PHON_BORN_CHARGES</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/PHON_G_CUTOFF\" title=\"PHON G CUTOFF\" class=\"tag-link\">PHON_G_CUTOFF</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LPHON_DISPERSION%22_incategory:%22Examples%22\" title='Special:Search/\"LPHON DISPERSION\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-08-30T13:29:59Z"}, "LPHON_POLAR": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_POLAR\">LPHON_POLAR</a> includes dipole-dipole corrections in the computation of the phonon dispersion. For this mode, <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_POLAR\">PHON_DIELECTRIC</a> and <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_POLAR\">PHON_BORN_CHARGES</a> must also be set.</span>", "id": 1504, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_POLAR\">LPHON_POLAR</a>=<span><span class=\"tag-value\">.TRUE.</span> | .FALSE.&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>LPHON_POLAR</b>\n</td>\n<td>= .FALSE.\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_POLAR\">LPHON_POLAR</a> includes dipole-dipole corrections in the computation of the phonon dispersion. For this mode, <a href=\"https://www.vasp.at/wiki/index.php/PHON_DIELECTRIC\" title=\"PHON DIELECTRIC\" class=\"tag-link\">PHON_DIELECTRIC</a> and <a href=\"https://www.vasp.at/wiki/index.php/PHON_BORN_CHARGES\" title=\"PHON BORN CHARGES\" class=\"tag-link\">PHON_BORN_CHARGES</a> must also be set.\n</p>\n</div>", "last_revised": "2022-07-20T10:10:14Z"}, "PHON_DIELECTRIC": {"datatype": "3x3 real", "default": "None", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_DIELECTRIC\">PHON_DIELECTRIC</a> sets the static dielectric tensor to be used for the dipole-dipole corrections in the computation of the phonon dispersion. This is only used when <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_DIELECTRIC\">LPHON_POLAR</a>=<span class=\"tag-value\">.TRUE.</span></span>", "id": 1505, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_DIELECTRIC\">PHON_DIELECTRIC</a>=<span><span class=\"tag-value\">[3x3</span> real]&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>PHON_DIELECTRIC</b>\n</td>\n<td>= None\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_DIELECTRIC\">PHON_DIELECTRIC</a> sets the static dielectric tensor to be used for the dipole-dipole corrections in the computation of the phonon dispersion. This is only used when <a href=\"https://www.vasp.at/wiki/index.php/LPHON_POLAR\" title=\"LPHON POLAR\" class=\"tag-link\">LPHON_POLAR</a>=<span class=\"tag-value\">.TRUE.</span>\n</p>\n</div>", "last_revised": "2022-07-20T10:11:06Z"}, "PHON_BORN_CHARGES": {"datatype": "3x3xnions real", "default": "None", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_BORN_CHARGES\">PHON_BORN_CHARGES</a> sets the Born effective charges to be used for the dipole-dipole corrections in the computation of the phonon dispersion. This is only used when <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_BORN_CHARGES\">LPHON_POLAR</a>=<span class=\"tag-value\">.TRUE.</span></span>", "id": 1506, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_BORN_CHARGES\">PHON_BORN_CHARGES</a>=<span><span class=\"tag-value\">[3x3xNIONS</span> real]&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>PHON_BORN_CHARGES</b>\n</td>\n<td>= None\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_BORN_CHARGES\">PHON_BORN_CHARGES</a> sets the Born effective charges to be used for the dipole-dipole corrections in the computation of the phonon dispersion. This is only used when <a href=\"https://www.vasp.at/wiki/index.php/LPHON_POLAR\" title=\"LPHON POLAR\" class=\"tag-link\">LPHON_POLAR</a>=<span class=\"tag-value\">.TRUE.</span>\n</p>\n</div>", "last_revised": "2022-07-20T10:10:44Z"}, "LUSENCCL": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LUSENCCL\">LUSENCCL</a> allows deactivating the NVIDIA Collective Communications Library (NCCL) during runtime when the code was compiled with the <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options%23-DUSENCCL\">-DUSENCCL</a> option.</span>", "id": 1509, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LUSENCCL\">LUSENCCL</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>LUSENCCL</b> = .TRUE.&#160;\n</p><p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LUSENCCL\">LUSENCCL</a> allows deactivating the NVIDIA Collective Communications Library (NCCL) during runtime when the code was compiled with the <a href=\"https://www.vasp.at/wiki/index.php/Precompiler_options#-DUSENCCL\" title=\"Precompiler options\">-DUSENCCL</a> option.\n</p>\n<!-- \nNewPP limit report\nCached time: 20230614035702\nCache expiry: 86400\nDynamic content: false\nComplications: []\nCPU time usage: 0.008 seconds\nReal time usage: 0.014 seconds\nPreprocessor visited node count: 28/1000000\nPost&#8208;expand include size: 181/2097152 bytes\nTemplate argument size: 75/2097152 bytes\nHighest expansion depth: 5/40\nExpensive parser function count: 0/100\nUnstrip recursion depth: 0/20\nUnstrip post&#8208;expand size: 0/5000000 bytes\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%    7.505      1 -total\n 53.48%    4.014      1 Template:TAGDEF\n 45.08%    3.383      1 Template:TAG\n-->\n\n<!-- Saved in parser cache with key mediawiki-vw:pcache:idhash:1509-1!canonical and timestamp 20230614035701 and revision id 18490\n -->\n</div>", "last_revised": "2022-07-20T14:25:58Z"}, "LVDWSCS": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVDWSCS\">LVDWSCS</a> activates the {{TAG|self-consistent screening in Tkatchenko-Scheffler method}}.</span>", "id": 1510, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/IVDW\" title=\"IVDW\" class=\"tag-link\">IVDW</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Tkatchenko-Scheffler_method\" title=\"Tkatchenko-Scheffler method\">Tkatchenko-Scheffler method</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/Self-consistent_screening_in_Tkatchenko-Scheffler_method\" title=\"Self-consistent screening in Tkatchenko-Scheffler method\">Self-consistent screening in Tkatchenko-Scheffler method</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22LVDWSCS%22_incategory:%22Examples%22\" title='Special:Search/\"LVDWSCS\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2022-07-19T15:59:31Z"}, "PHON_G_CUTOFF": {"datatype": "real", "default": "None", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_G_CUTOFF\">PHON_G_CUTOFF</a> sets the cutoff radius in reciprocal space used to determine the number of <math>\\mathbf{G}</math> vectors involved in the Ewald sum in polar phonon calculations.</span>", "id": 1511, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_G_CUTOFF\">PHON_G_CUTOFF</a>=<span class=\"tag-value\">[real]</span>&#160;\n</p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>PHON_G_CUTOFF</b>\n</td>\n<td>= None\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_G_CUTOFF\">PHON_G_CUTOFF</a> sets the cutoff radius in reciprocal space used to determine the number of <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f6d9c60d3cf462a9812e9a9d021d17c7bc272a5a\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:2.101ex; height:2.176ex;\" alt=\"{\\mathbf  {G}}\"></span> vectors involved in the Ewald sum in polar phonon calculations.\n</p>\n</div>", "last_revised": "2022-08-10T14:49:08Z"}, "ML_LBASIS_DISCARD": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "Controls whether calculation is continued or stopped after the maximum number of local reference configurations <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MB\">ML_MB</a> for a given species is reached.", "id": 1514, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LBASIS_DISCARD\">ML_LBASIS_DISCARD</a>=<span class=\"tag-value\">[logical]</span><br> Default: <b>ML_LBASIS_DISCARD</b> = .TRUE.&#160;\n</p><p>Description: Controls whether calculation is continued or stopped after the maximum number of local reference configurations <a href=\"https://www.vasp.at/wiki/index.php/ML_MB\" title=\"ML MB\" class=\"tag-link\">ML_MB</a> for a given species is reached.\n</p>\n</div>", "last_revised": "2023-04-25T07:51:06Z"}, "PHON_NEDOS": {"datatype": "integer", "default": "2000", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_NEDOS\">PHON_NEDOS</a> sets the number of frequency points to use in the computation of the phonon density of states.</span>", "id": 1532, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_NEDOS\">PHON_NEDOS</a>=<span class=\"tag-value\">[integer]</span>&#160;\n</p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>PHON_NEDOS</b>\n</td>\n<td>= 2000\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_NEDOS\">PHON_NEDOS</a> sets the number of frequency points to use in the computation of the phonon density of states.\n</p>\n</div>", "last_revised": "2022-08-11T10:00:07Z"}, "PHON_SIGMA": {"datatype": "real", "default": "0.0005 eV", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_SIGMA\">PHON_SIGMA</a> sets the width of the gaussian function in units of eV to use in the computation of the phonon density of states.</span>", "id": 1533, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_SIGMA\">PHON_SIGMA</a>=<span class=\"tag-value\">[real]</span>&#160;\n</p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>PHON_SIGMA</b>\n</td>\n<td>= 0.0005 eV\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_SIGMA\">PHON_SIGMA</a> sets the width of the gaussian function in units of eV to use in the computation of the phonon density of states.\n</p>\n</div>", "last_revised": "2022-08-11T11:46:43Z"}, "PHON_DOS": {"datatype": "integer", "default": "0", "options": {"0": null, "1": null, "2": null}, "summary": "Select the approach to use when computing the phonon density-of-states (DOS).", "id": 1534, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/PHON_DOS\">PHON_DOS</a>=<span><span class=\"tag-value\">0</span> | 1 | 2&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>PHON_DOS</b>\n</td>\n<td>= 0\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: Select the approach to use when computing the phonon density-of-states (DOS).\n</p>\n</div>", "last_revised": "2022-08-11T12:31:40Z"}, "LPHON_READ_FORCE_CONSTANTS": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_READ_FORCE_CONSTANTS\">LPHON_READ_FORCE_CONSTANTS</a> read the force constants from a vaspin.h5 file containing the force constants computed with a previous VASP run.</span>", "id": 1540, "info": "<div class=\"mw-parser-output\"><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_READ_FORCE_CONSTANTS\">LPHON_READ_FORCE_CONSTANTS</a>=<span><span class=\"tag-value\">.TRUE.</span> | .FALSE.&#160;\n</span></p>\n<table class=\"table table-striped table-hover\">\n<tbody><tr>\n<td>Default: <b>LPHON_READ_FORCE_CONSTANTS</b>\n</td>\n<td>= .FALSE.\n</td>\n<td>\n</td></tr>\n\n\n\n\n\n</tbody></table>\n<p>Description: <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LPHON_READ_FORCE_CONSTANTS\">LPHON_READ_FORCE_CONSTANTS</a> read the force constants from a vaspin.h5 file containing the force constants computed with a previous VASP run.\n</p>\n</div>", "last_revised": "2022-09-01T09:49:45Z"}, "ML_LFAST": {"datatype": "boolean", "default": [[".TRUE.", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span class=\"tag-value\">REFIT</span>"], [".FALSE.", "else"]], "options": {}, "summary": "This tag switches on the descriptors for refitting in the fast execution mode within machine learning force fields. This tag is usually switched on by <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a> = <i>REFIT</i> and doesn't need to be set explicitely.", "id": 1550, "info": "<div><p>This tag switches on the descriptors for the fast execution mode. To use the fast execution mode the force field first has to be refit with the fast descriptors. This is done by setting <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>REFIT</i>, which will automatically set <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\">ML_LFAST</a> = <i>.TRUE.</i>. As usual, the resulting <a href=\"https://www.vasp.at/wiki/index.php/ML_FFN\" title=\"ML FFN\" class=\"tag-link\">ML_FFN</a> has to be copied to <a href=\"https://www.vasp.at/wiki/index.php/ML_FF\" title=\"ML FF\" class=\"tag-link\">ML_FF</a> and the fast code will be automatically run in production mode runs by setting <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> = <i>RUN</i>.\n</p><p>The speedup of the fast method compared to the regular method is increasing with increasing number of local reference configurations.\n</p><p>It should be noted that in the fast version no Bayesian error estimation is available. \n</p><p>Since the calculation time of the fast version is of the same order of magnitude as the timing for the output of the molecular-dynamics results, we advise decreasing the output frequency for molecular dynamics by the tag <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTBLOCK\" title=\"ML OUTBLOCK\" class=\"tag-link\">ML_OUTBLOCK</a>. Additionally, the calculation and output of the pair-correlation function can be suppressed by <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTPUT_MODE\" title=\"ML OUTPUT MODE\" class=\"tag-link\">ML_OUTPUT_MODE</a>=<span><span class=\"tag-value\">0</span> as default.\n</span></p><p>If <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\">ML_LFAST</a> = <i>.TRUE.</i> is explicitely used without the <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a> tag then it can only be used with <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span><span class=\"tag-value\">4</span> and </span><a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>&amp;gt;<span><span class=\"tag-value\">1</span>.\n</span></p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IERR\" title=\"ML IERR\" class=\"tag-link\">ML_IERR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTBLOCK\" title=\"ML OUTBLOCK\" class=\"tag-link\">ML_OUTBLOCK</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTPUT_MODE\" title=\"ML OUTPUT MODE\" class=\"tag-link\">ML_OUTPUT_MODE</a>\n</p>\n</div>", "last_revised": "2023-04-25T12:10:24Z"}, "ML_IERR": {"datatype": null, "default": [["0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span class=\"tag-value\">RUN</span>"], ["1", "otherwise"]], "options": {}, "summary": "Calculation and output frequency of Bayesian error estimate.", "id": 1551, "info": "<div><p>This tag sets the distance in units of molecular-dynamics steps at which the energies, forces, stresses, etc. are written to the corresponding files (<a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/OSZICAR\" title=\"OSZICAR\" class=\"tag-link\">OSZICAR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a>, etc.). If learning is activated (<a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<i>TRAIN</i>, <i>SELECT</i>, <i>REFIT</i> or <i>REFITBAYESIAN</i>) the only allowed option is that Bayesian error estimation is \"on\" at every molecular-dynamics step (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IERR\">ML_IERR</a>=<span><span class=\"tag-value\">1</span> is required).\n</span></p><p>The interval can only be freely chosen via <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IERR\">ML_IERR</a> for <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<i>RUN</i>, if an <a href=\"https://www.vasp.at/wiki/index.php/ML_FF\" title=\"ML FF\" class=\"tag-link\">ML_FF</a> file, that was previously trained using <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<i>REFITBAYESIAN</i>, is used. The Bayesian error estimates are written to the logfile with the entry <i>BEEF</i>. For <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IERR\">ML_IERR</a>=<span><span class=\"tag-value\">0</span> the Bayesian error is never calculated (and also no corresponding log file line is written out. This is the default since for </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<i>RUN</i> the Bayesian error estimation takes up a significant amount of the total calculation time.\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_IERR\">ML_IERR</a>&amp;gt;<span><span class=\"tag-value\">0</span> can never be used with the fast execution mode (force field refitted with </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<i>REFIT</i> or <a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a>=<i>.TRUE.</i>).\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTBLOCK\" title=\"ML OUTBLOCK\" class=\"tag-link\">ML_OUTBLOCK</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTPUT_MODE\" title=\"ML OUTPUT MODE\" class=\"tag-link\">ML_OUTPUT_MODE</a>\n</p>\n</div>", "last_revised": "2023-03-31T14:25:36Z"}, "ML_OUTBLOCK": {"datatype": "integer", "default": "1", "options": {}, "summary": "Output distance in number of steps of the molecular-dynamics results for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<i>RUN</i> within the machine learning force fields.", "id": 1552, "info": "<div><p>By default the code writes all results at every molecular-dynamics step (<a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_OUTBLOCK\">ML_OUTBLOCK</a>=<span><span class=\"tag-value\">1)</span>.\n</span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_OUTBLOCK\">ML_OUTBLOCK</a>&amp;gt;<span><span class=\"tag-value\">1</span> becomes only relevant for the fast force fields (refitting with </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>=<i>REFIT</i>), because then the calculation time of the force field is of the same order as the time required for the output to all necessary files. \n</p><p>To additionally increase the efficiency, calculation and output of pair-correlation functions can be completely switched off by setting <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTPUT_MODE\" title=\"ML OUTPUT MODE\" class=\"tag-link\">ML_OUTPUT_MODE</a>=<span><span class=\"tag-value\">0</span>.\n</span></p><p>This tag will also possibly change the default for <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a> since it is calculated as the maximum of <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_OUTBLOCK\">ML_OUTBLOCK</a> and <a href=\"https://www.vasp.at/wiki/index.php/NBLOCK\" title=\"NBLOCK\" class=\"tag-link\">NBLOCK</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IERR\" title=\"ML IERR\" class=\"tag-link\">ML_IERR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTPUT_MODE\" title=\"ML OUTPUT MODE\" class=\"tag-link\">ML_OUTPUT_MODE</a>\n</p>\n</div>", "last_revised": "2023-03-31T14:25:45Z"}, "ML_OUTPUT_MODE": {"datatype": "integer", "default": "1", "options": {}, "summary": "This tag decides the output verbosity of the molecular-dynamics calculation using machine learning.", "id": 1553, "info": "<div><p>The following options exist for this tag:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_OUTPUT_MODE\">ML_OUTPUT_MODE</a>=<span><span class=\"tag-value\">1</span>: Everything as in usual ab-initio molecular dynamics calculations is written to the files (</span><a href=\"https://www.vasp.at/wiki/index.php/OUTCAR\" title=\"OUTCAR\" class=\"tag-link\">OUTCAR</a>, <a href=\"https://www.vasp.at/wiki/index.php?title=Vasprun.xml&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vasprun.xml (page does not exist)\">vasprun.xml</a>, <a href=\"https://www.vasp.at/wiki/index.php?title=Vaspout.h5&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Vaspout.h5 (page does not exist)\">vaspout.h5</a>, etc.).</li>\n<li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_OUTPUT_MODE\">ML_OUTPUT_MODE</a>=<span><span class=\"tag-value\">0</span>: Same as above, except the pair-correlation function, is never calculated and written out.</span></li></ul>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MODE\" title=\"ML MODE\" class=\"tag-link\">ML_MODE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IERR\" title=\"ML IERR\" class=\"tag-link\">ML_IERR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTBLOCK\" title=\"ML OUTBLOCK\" class=\"tag-link\">ML_OUTBLOCK</a>\n</p>\n</div>", "last_revised": "2023-03-31T14:25:55Z"}, "NBANDSEXACT": {"datatype": "integer", "default": [["-1", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span class=\"tag-value\">.FALSE.</span>"], ["maximum number of plane waves", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span class=\"tag-value\">.TRUE.</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\">NBANDSEXACT</a> specifies the number of bands used in the all-in-one mode of <a href=\"https://www.vasp.at/wiki/index.php/Many-body_perturbation_theory\">many-body perturbation theory</a> calculations.  </span>", "id": 1555, "info": "<div><p>In the all-in-one mode, VASP automatically performs the necessary DFT steps prior to the many-body perturbation theory (MBPT) calculation, i.e. a DFT calculation with <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>, followed by an exact diagonalization of the Kohn-Sham Hamiltonian with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\">NBANDSEXACT</a> bands. \nNote, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\">NBANDSEXACT</a> is set by default to the maximum number of plane-waves given by the chosen energy cutoff for the orbitals <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>. \nIn the all-in-one mode, the actual GW/RPA calculation is also performed with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\">NBANDSEXACT</a> bands. \nIf <a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a> is not set, all orbitals are written to <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>, which potentially becomes huge in file size.\n</p>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> The <a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a> tag can be used to limit the number of bands written to <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> if <a href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\" title=\"LALL IN ONE\" class=\"tag-link\">LALL_IN_ONE</a>=<span class=\"tag-value\">.TRUE.</span>\n</div></dd></dl>\n<p>The all-in-one mode is automatically enabled for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">[EV]GW[0]R</span>, RPA[R],ACFDT[R] if </span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is not set.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>\n<a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a>\n<a href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\" title=\"LALL IN ONE\" class=\"tag-link\">LALL_IN_ONE</a>\n<a href=\"https://www.vasp.at/wiki/index.php/IALL_IN_ONE\" title=\"IALL IN ONE\" class=\"tag-link\">IALL_IN_ONE</a>\n</p>\n</div>", "last_revised": "2022-11-23T14:42:53Z"}, "LALL_IN_ONE": {"datatype": "boolean", "default": [[".FALSE.", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a>&gt;<span class=\"tag-value\">0</span>"], [".TRUE.", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a>"]], "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span><span class=\"tag-value\">.TRUE.</span> enables the all-in-one mode for </span><a href=\"https://www.vasp.at/wiki/index.php/Many-body_perturbation_theory\">many-body perturbation theory</a> calculations,</span>", "id": 1556, "info": "<div><p>In the all-in-one mode, VASP automatically performs the necessary DFT steps prior to the many-body perturbation theory (MBPT) calculation, i.e. a DFT calculation with <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>, followed by an exact diagonalization of the Kohn-Sham Hamiltonian with <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> bands. \nNote, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> is set by default to the maximum number of plane-waves given by the chosen energy cutoff for the orbitals <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>. \nIn the all-in-one mode, the actual GW/RPA calculation is also performed with <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> bands. \nIf <a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a> is not set, all orbitals are written to <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>, which potentially becomes huge in file size.\n</p>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> The <a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a> tag can be used to limit the number of bands written to <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span class=\"tag-value\">.TRUE.</span>\n</div></dd></dl>\n<p>The all-in-one mode is automatically enabled for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">[EV]GW[0]R</span>, RPA[R],ACFDT[R] if </span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is not set.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>\n<a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a>\n<a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a>\n<a href=\"https://www.vasp.at/wiki/index.php/IALL_IN_ONE\" title=\"IALL IN ONE\" class=\"tag-link\">IALL_IN_ONE</a>\n</p>\n</div>", "last_revised": "2022-11-23T14:44:03Z"}, "IALL_IN_ONE": {"datatype": "integer", "default": [["1", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span><span class=\"tag-value\">.TRUE.</span> or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">NBANDS</a>"], ["-1", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span class=\"tag-value\">.FALSE.</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALL_IN_ONE\">IALL_IN_ONE</a>&gt;<span><span class=\"tag-value\">0</span> enables the all-in-one mode for </span><a href=\"https://www.vasp.at/wiki/index.php/Many-body_perturbation_theory\">many-body perturbation theory</a> calculations,</span>", "id": 1557, "info": "<div><p>In the all-in-one mode, VASP automatically performs the necessary DFT steps prior to the many-body perturbation theory (MBPT) calculation, i.e. a DFT calculation with <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>, followed by an exact diagonalization of the Kohn-Sham Hamiltonian with <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> bands. \nNote, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> is set by default to the maximum number of plane-waves given by the chosen energy cutoff for the orbitals <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>. \nIn the all-in-one mode, the actual GW/RPA calculation is also performed with <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> bands. \nIf <a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a> is not set, all orbitals are written to <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>, which potentially becomes huge in file size.\n</p>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> The <a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a> tag can be used to limit the number of bands written to <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> if <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IALL_IN_ONE\">IALL_IN_ONE</a>&amp;gt;<span><span class=\"tag-value\">0</span>.\n</span></div></dd></dl>\n<p>The all-in-one mode is automatically enabled for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">[EV]GW[0]R</span>, RPA[R],ACFDT[R] if </span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is not set.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>\n<a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a>\n<a href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\" title=\"NBANDS WAVE\" class=\"tag-link\">NBANDS_WAVE</a>\n<a href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\" title=\"LALL IN ONE\" class=\"tag-link\">LALL_IN_ONE</a>\n</p>\n</div>", "last_revised": "2022-11-23T14:44:55Z"}, "NBANDS_WAVE": {"datatype": "integer", "default": [["<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSGW\">NBANDSGW</a>", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span><span class=\"tag-value\">.TRUE.</span>  and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">NBANDS</a>"], ["<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a>", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span><span class=\"tag-value\">.TRUE.</span>  and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">NBANDS</a>&gt;<span class=\"tag-value\">0</span>"], ["<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\">NBANDSEXACT</a>", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span><span class=\"tag-value\">.FALSE.</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">NBANDS</a>"], ["<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS\">NBANDS</a>", "for <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">LALL_IN_ONE</a>=<span><span class=\"tag-value\">.FALSE.</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\">NBANDS</a>&gt;<span class=\"tag-value\">0</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\">NBANDS_WAVE</a> specifies the number of bands written to <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/WAVECAR\">WAVECAR</a> in the all-in-one mode of <a href=\"https://www.vasp.at/wiki/index.php/Many-body_perturbation_theory\">many-body perturbation theory</a> calculations,</span>", "id": 1558, "info": "<div><p>In the all-in-one mode, VASP automatically performs the necessary DFT steps prior to the many-body perturbation theory (MBPT) calculation, i.e. a DFT calculation with <a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>, followed by an exact diagonalization of the Kohn-Sham Hamiltonian with <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> bands. \nNote, <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> is set by default to the maximum number of plane-waves given by the chosen energy cutoff for the orbitals <a href=\"https://www.vasp.at/wiki/index.php/ENCUT\" title=\"ENCUT\" class=\"tag-link\">ENCUT</a>. \nIn the all-in-one mode, the actual GW/RPA calculation is also performed with <a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a> bands. \nIf <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\">NBANDS_WAVE</a> is not set, all orbitals are written to <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a>, which potentially becomes huge in file size.\n</p>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> The <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NBANDS_WAVE\">NBANDS_WAVE</a> tag can be used to limit the number of bands written to <a href=\"https://www.vasp.at/wiki/index.php/WAVECAR\" title=\"WAVECAR\" class=\"tag-link\">WAVECAR</a> if <a href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\" title=\"LALL IN ONE\" class=\"tag-link\">LALL_IN_ONE</a>=<span class=\"tag-value\">.TRUE.</span>\n</div></dd></dl>\n<p>The all-in-one mode is automatically enabled for <a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>=<span><span class=\"tag-value\">[EV]GW[0]R</span>, RPA[R],ACFDT[R] if </span><a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a> is not set.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>, \n<a href=\"https://www.vasp.at/wiki/index.php/NBANDS\" title=\"NBANDS\" class=\"tag-link\">NBANDS</a>\n<a href=\"https://www.vasp.at/wiki/index.php/NBANDSEXACT\" title=\"NBANDSEXACT\" class=\"tag-link\">NBANDSEXACT</a>\n<a href=\"https://www.vasp.at/wiki/index.php/IALL_IN_ONE\" title=\"IALL IN ONE\" class=\"tag-link\">IALL_IN_ONE</a>\n<a href=\"https://www.vasp.at/wiki/index.php/LALL_IN_ONE\" title=\"LALL IN ONE\" class=\"tag-link\">LALL_IN_ONE</a>\n</p>\n</div>", "last_revised": "2022-11-23T14:45:23Z"}, "NOMEGA_DUMP": {"datatype": "integer", "default": "-1", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA_DUMP\">NOMEGA_DUMP</a> selects the imaginary frequency point of screened potential in <a href=\"https://www.vasp.at/wiki/index.php/Practical_guide_to_GW_calculations%23Low_scaling_GW_algorithms\">low-scaling GW calculations</a> that is written to file. </span>", "id": 1559, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NOMEGA_DUMP\">NOMEGA_DUMP</a> selects the imaginary frequency point of the screened Coulomb kernel that is written to <a href=\"https://www.vasp.at/wiki/index.php/WFULLxxxx.tmp\" title=\"WFULLxxxx.tmp\">WFULLxxxx.tmp</a> in <a href=\"https://www.vasp.at/wiki/index.php/Practical_guide_to_GW_calculations#Low_scaling_GW_algorithms\" title=\"Practical guide to GW calculations\">low-scaling GW calculations</a>. \nIf set to 0, <a href=\"https://www.vasp.at/wiki/index.php/WFULLxxxx.tmp\" title=\"WFULLxxxx.tmp\">WFULLxxxx.tmp</a> contains the screened Coulomb interaction W at <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\omega =0}\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mi>&#969;<!-- &#969; --></mi>\n        <mo>=</mo>\n        <mn>0</mn>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\omega =0}</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f2bb95bb72b12e6b52d1e87c670c3f423041bccc\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:5.707ex; height:2.176ex;\" alt=\"\\omega =0\"></span>.\nFor positive values, these files contain the screened Coulomb interaction at the corresponding imaginary frequency point. \nFor negative values, <a href=\"https://www.vasp.at/wiki/index.php/WFULLxxxx.tmp\" title=\"WFULLxxxx.tmp\">WFULLxxxx.tmp</a> is not written.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ALGO\" title=\"ALGO\" class=\"tag-link\">ALGO</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/NOMEGA\" title=\"NOMEGA\" class=\"tag-link\">NOMEGA</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22NOMEGA_DUMP%22_incategory:%22Examples%22\" title='Special:Search/\"NOMEGA DUMP\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n</div>", "last_revised": "2022-11-23T14:47:30Z"}, "ML_LERR": {"datatype": "boolean", "default": ".TRUE.", "options": {}, "summary": "Decides whether the Bayesian error estimates are calculated and written out or not.", "id": 1561, "info": "<div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IERR\" title=\"ML IERR\" class=\"tag-link\">ML_IERR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>\n</p>\n</div>", "last_revised": "2023-03-29T08:19:17Z"}, "ML_MODE": {"datatype": "string", "default": "none", "options": {"train": null, "select": null, "refit": null, "refitbayesian": null, "run": null, "none": null}, "summary": "String-based tag selecting operation mode for machine learning force fields.", "id": 1562, "info": "<div><p>This tag acts as a \"super tag\" and selects the operation mode by selecting the defaults for all other tags. Every tag that is affected by this \"super tag\" can be overwritten by the user by simply specifying the value for that tag.\nThe following options are available for this tag:\n</p>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">train</span>&#160;: On-the-fly training.</span></li></ul>\n<dl><dd>Force predictions from the machine learning force field are used to drive the molecular dynamics (MD) simulation. However, if the error estimation performed in each time step indicates a high force error an ab initio calculation is performed instead and the collected energy, forces, and stress are used to improve the machine learning force field.</dd></dl>\n<dl><dd>There are two possible cases depending on, whether an <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> is present in the calculation folder or not:</dd></dl>\n<ul><li><ul><li>No <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file: On-the-fly training, starting from scratch.</li></ul></li></ul>\n<dl><dd><dl><dd>Sets: <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span class=\"tag-value\">0</span></dd>\n<dd>Note that at the beginning of the MD run, when there is no force field available or it is still poorly trained, <i>ab initio</i> calculations will happen frequently.</dd></dl></dd></dl>\n<ul><li><ul><li><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file present: Restart on-the-fly training.</li></ul></li></ul>\n<dl><dd><dl><dd>Sets: <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span class=\"tag-value\">1</span></dd>\n<dd>Before the MD run starts the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file (a copy of the <a href=\"https://www.vasp.at/wiki/index.php/ML_ABN\" title=\"ML ABN\" class=\"tag-link\">ML_ABN</a> from a previous training run!) is read and the <i>ab initio</i> data (energies, forces, and stresses) and local reference configurations it contains are used to generate an initial force field. Subsequently, the on-the-fly training MD is started.</dd></dl></dd></dl>\n<dl><dd><dl><dd><b>N.B.I</b>: None of the structures in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file need to match he <a href=\"https://www.vasp.at/wiki/index.php/POSCAR\" title=\"POSCAR\" class=\"tag-link\">POSCAR</a> file for the current MD training run in terms of the simulation box, elements, or number of atoms. However, if the same elements appear the initial force field is used for predictions in the current MD run.</dd>\n<dd><b>N.B.II</b>: The training data contained in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file is included in the final machine learning force field, <i>i.e.</i> the <a href=\"https://www.vasp.at/wiki/index.php/ML_FFN\" title=\"ML FFN\" class=\"tag-link\">ML_FFN</a> file will define a force field applicable to both the structures on the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file as well as to the current MD simulation. This means that by restarting repeatedly with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">train</span>, and copying the </span><a href=\"https://www.vasp.at/wiki/index.php/ML_ABN\" title=\"ML ABN\" class=\"tag-link\">ML_ABN</a> file from the previous run to <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a>(!), it is possible to iteratively extend the applicability of the a machine learning force field, <i>e.g.</i> by exploring different temperature ranges or element compositions.</dd></dl></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">select</span>&#160;: Train a force field by re-selection of local reference configurations from an existing </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file.</li></ul>\n<dl><dd>Sets: <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span><span class=\"tag-value\">3</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>=<span><span class=\"tag-value\">1</span>, and </span><a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a>=<span class=\"tag-value\">4</span></dd></dl>\n<dl><dd>A new machine learning force field is generated from the <i>ab initio</i> data provided in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file. The structures are read and processed one by one as if harvested in an MD simulation. In other words, the same steps are performed as in on-the-fly training but the source of the data are not actual <i>ab initio</i> calculations in an MD run but the series of structures available in the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file.</dd></dl>\n<ul><li><ul><li>The list of local reference configurations on the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file will be ignored. Instead a new collection of local reference configurations is determined and written to the resulting <a href=\"https://www.vasp.at/wiki/index.php/ML_ABN\" title=\"ML ABN\" class=\"tag-link\">ML_ABN</a> file.</li></ul></li></ul>\n<ul><li><ul><li>A new iteration through the training structures can lead to a frequent update of the force field. This is quite time-consuming. Increasing <a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a> from 2 to 4 for this mode will result in a much less frequent update of the force field. This leads to much more efficient calculations while practically not changing the results.</li></ul></li></ul>\n<ul><li><ul><li>The <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file may contain values for <tt>CTIFOR</tt> for each training structure. These are the thresholds used to sample that structure from the previous training. The thresholds found on the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> will be re-used unless a threshold is explicitly specified in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, by means of the <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> tag. In the latter case the thresholds from the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file are ignored. In case the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> contains <b>no</b> <tt>CTIFOR</tt> information and <b>no</b> threshold is specified in the <a href=\"https://www.vasp.at/wiki/index.php/INCAR\" title=\"INCAR\" class=\"tag-link\">INCAR</a> file, the default value for <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a> is used.</li></ul></li></ul>\n<dl><dd><div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> If calculations for <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">SELECT</span> are too time-consuming, it is useful to increase </span><a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a> to values around 10-16. Together with <a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a>=<span><span class=\"tag-value\">4</span>, this often accelerates the calculations by a factor of 2-4.\n</span></div></dd></dl>\n<dl><dd><div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> This operation mode needs to be used to generate VASP machine learning force fields from pre-computed or external ab initio data sets.\n</div></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">refit</span>&#160;: Construct a force field from an existing </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file, suited for \"fast\" evaluation (<a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a><tt>=.TRUE.</tt>).</li></ul>\n<dl><dd>Sets: <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span><span class=\"tag-value\">4</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a>=<span><span class=\"tag-value\">.TRUE.</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>=<span><span class=\"tag-value\">1</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">4</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ML_SIGW0\" title=\"ML SIGW0\" class=\"tag-link\">ML_SIGW0</a>=<span><span class=\"tag-value\">1E-7</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ML_SIGV0\" title=\"ML SIGV0\" class=\"tag-link\">ML_SIGV0</a>=<span><span class=\"tag-value\">1</span>, and </span><a href=\"https://www.vasp.at/wiki/index.php/ML_EPS_LOW\" title=\"ML EPS LOW\" class=\"tag-link\">ML_EPS_LOW</a>=<span><span class=\"tag-value\">1E-11</span>.</span></dd></dl>\n<dl><dd>Similar to <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">SELECT</span>, refitting is done based on an existing </span><a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file, but the number of local reference configurations for each species is taken from the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file. Sparsification is performed on the local reference configurations, so the resulting <a href=\"https://www.vasp.at/wiki/index.php/ML_ABN\" title=\"ML ABN\" class=\"tag-link\">ML_ABN</a> file will contain the same number or fewer local reference configurations than the <a href=\"https://www.vasp.at/wiki/index.php/ML_AB\" title=\"ML AB\" class=\"tag-link\">ML_AB</a> file.</dd></dl>\n<dl><dd>By default the resulting force field is geared towards \"fast\" evaluation to speed up production runs (<a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a>=<span><span class=\"tag-value\">.TRUE.</span>). This comes at the cost of not being able to evaluate Bayesian error estimates.</span></dd></dl>\n<dl><dd><div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> We strongly advise to use <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">refit</span> if no error estimates are required during production runs.\n</span></div></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">refitbayesian</span> (deprecated): Same as </span><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">refit</span>, but Bayesian regression is employed.</span></li></ul>\n<dl><dd>Sets: <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span><span class=\"tag-value\">4</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/NSW\" title=\"NSW\" class=\"tag-link\">NSW</a>=<span><span class=\"tag-value\">1</span>, </span><a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>=<span><span class=\"tag-value\">1</span>, and </span><a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a>=<span class=\"tag-value\">.FALSE.</span></dd></dl>\n<dl><dd>This results in lower accuracy and much slower force fields than using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">refit</span> and should be used with caution. On the other hand, this mode allows the generation of </span><a href=\"https://www.vasp.at/wiki/index.php/ML_FFN\" title=\"ML FFN\" class=\"tag-link\">ML_FFN</a> files that can calculate Bayesian error estimates.</dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">run</span>&#160;: Force-field evaluation only.</span></li></ul>\n<dl><dd>Sets: <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>=<span class=\"tag-value\">2</span></dd></dl>\n<dl><dd>A previously trained machine learning force field is read from the <a href=\"https://www.vasp.at/wiki/index.php/ML_FF\" title=\"ML FF\" class=\"tag-link\">ML_FF</a> file, and the MD simulation is driven with predictions from the force field only, <b>no</b> <i>ab initio</i> calculations are performed and <b>no</b> learning is executed. This setting is typically used when the machine learning force field is considered mature and ready for production runs.</dd>\n<dd>Optionally if the force field was refitted using <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">refitbayesian</span>, the Bayesian error estimate of the energies, forces, and stress can be computed and logged in the </span><a href=\"https://www.vasp.at/wiki/index.php/ML_LOGFILE\" title=\"ML LOGFILE\" class=\"tag-link\">ML_LOGFILE</a> by setting the output frequency of the Bayesian errors by means of the <a href=\"https://www.vasp.at/wiki/index.php/ML_IERR\" title=\"ML IERR\" class=\"tag-link\">ML_IERR</a> tag. The default is <a href=\"https://www.vasp.at/wiki/index.php/ML_IERR\" title=\"ML IERR\" class=\"tag-link\">ML_IERR</a>=<span><span class=\"tag-value\">0</span>.</span></dd></dl>\n<ul><li><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ML_MODE\">ML_MODE</a>=<span><span class=\"tag-value\">none</span> (default): The tag is ignored.</span></li></ul>\n<p><br>\n</p>\n<div class=\"alert alert-warning\" role=\"alert\"><h5 class=\"alert-heading\">Warning:</h5> If any option other than the above is chosen or any of them is misspelled (be careful to write everything in upper case or lower case letters) the code will exit with an error.\n</div><p><br>\n</p>\n<div class=\"alert alert-success\" role=\"alert\"><h5 class=\"alert-heading\">Tip:</h5> The user may overwrite the default by specifying any of the machine learning tags in the INCAR file.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/ML_LMLFF\" title=\"ML LMLFF\" class=\"tag-link\">ML_LMLFF</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_ISTART\" title=\"ML ISTART\" class=\"tag-link\">ML_ISTART</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_LFAST\" title=\"ML LFAST\" class=\"tag-link\">ML_LFAST</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IERR\" title=\"ML IERR\" class=\"tag-link\">ML_IERR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTBLOCK\" title=\"ML OUTBLOCK\" class=\"tag-link\">ML_OUTBLOCK</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_OUTPUT_MODE\" title=\"ML OUTPUT MODE\" class=\"tag-link\">ML_OUTPUT_MODE</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IALGO_LINREG\" title=\"ML IALGO LINREG\" class=\"tag-link\">ML_IALGO_LINREG</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_MCONF_NEW\" title=\"ML MCONF NEW\" class=\"tag-link\">ML_MCONF_NEW</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CDOUB\" title=\"ML CDOUB\" class=\"tag-link\">ML_CDOUB</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_CTIFOR\" title=\"ML CTIFOR\" class=\"tag-link\">ML_CTIFOR</a>, <a href=\"https://www.vasp.at/wiki/index.php/ML_IERR\" title=\"ML IERR\" class=\"tag-link\">ML_IERR</a>\n</p>\n</div>", "last_revised": "2023-04-17T12:44:12Z"}, "IVDW_NL": {"datatype": "integer", "default": [["1", "for a <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/GGA\">GGA</a>"], ["2", "for a <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/METAGGA\">METAGGA</a>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW_NL\">IVDW_NL</a> allows to select the kernel of the nonlocal van der Waals part of a functional (available as of VASP.6.4.0).</span>", "id": 1564, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW_NL\">IVDW_NL</a>=<span><span class=\"tag-value\">1</span> corresponds to the kernel of Dion </span><i>et al.</i><sup id=\"cite_ref-dion:prl:2004_1-0\" class=\"reference\"><a href=\"#cite_note-dion:prl:2004-1\">[1]</a></sup> and <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/IVDW_NL\">IVDW_NL</a>=<span><span class=\"tag-value\">2</span> to the kernel rVV10</span><sup id=\"cite_ref-sabatini:prb:2013_2-0\" class=\"reference\"><a href=\"#cite_note-sabatini:prb:2013-2\">[2]</a></sup>. Note that the kernel of Dion <i>et al.</i> contains one adjustable parameter (<a href=\"https://www.vasp.at/wiki/index.php/ZAB_VDW\" title=\"ZAB VDW\" class=\"tag-link\">ZAB_VDW</a>), while the rVV10 kernel contains two such parameters (<a href=\"https://www.vasp.at/wiki/index.php/BPARAM\" title=\"BPARAM\" class=\"tag-link\">BPARAM</a> and <a href=\"https://www.vasp.at/wiki/index.php/CPARAM\" title=\"CPARAM\" class=\"tag-link\">CPARAM</a>).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a>, <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>, <a href=\"https://www.vasp.at/wiki/index.php/LUSE_VDW\" title=\"LUSE VDW\" class=\"tag-link\">LUSE_VDW</a>, <a href=\"https://www.vasp.at/wiki/index.php/ZAB_VDW\" title=\"ZAB VDW\" class=\"tag-link\">ZAB_VDW</a>, <a href=\"https://www.vasp.at/wiki/index.php/BPARAM\" title=\"BPARAM\" class=\"tag-link\">BPARAM</a>, <a href=\"https://www.vasp.at/wiki/index.php/CPARAM\" title=\"CPARAM\" class=\"tag-link\">CPARAM</a>, <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22IVDW_NL%22_incategory:%22Examples%22\" title='Special:Search/\"IVDW NL\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-16T12:28:24Z"}, "LSPIN_VDW": {"datatype": "boolean", "default": ".FALSE.", "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPIN_VDW\">LSPIN_VDW</a>=<span><span class=\"tag-value\">.TRUE.</span> switches on the use of the spin-polarized formulation for the nonlocal part of a van der Waals functional (available as of VASP.6.4.0).</span></span>", "id": 1565, "info": "<div><p><br>\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5> <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LSPIN_VDW\">LSPIN_VDW</a>=<span><span class=\"tag-value\">.TRUE.</span> is possible only for van der Waals functionals that consist of a </span><a href=\"https://www.vasp.at/wiki/index.php/GGA\" title=\"GGA\" class=\"tag-link\">GGA</a> for the semilocal part and the kernel type of Dion <i>et al.</i><sup id=\"cite_ref-dion:prl:2004_2-0\" class=\"reference\"><a href=\"#cite_note-dion:prl:2004-2\">[2]</a></sup> (<a href=\"https://www.vasp.at/wiki/index.php/IVDW_NL\" title=\"IVDW NL\" class=\"tag-link\">IVDW_NL</a>=<span><span class=\"tag-value\">1)</span> for the nonlocal part.\n</span></div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LUSE_VDW\" title=\"LUSE VDW\" class=\"tag-link\">LUSE_VDW</a>, <a href=\"https://www.vasp.at/wiki/index.php/IVDW_NL\" title=\"IVDW NL\" class=\"tag-link\">IVDW_NL</a>, <a href=\"https://www.vasp.at/wiki/index.php/Nonlocal_vdW-DF_functionals\" title=\"Nonlocal vdW-DF functionals\">Nonlocal vdW-DF functionals</a>\n</p>\n</div>", "last_revised": "2023-02-16T09:26:23Z"}, "CMBJE": {"datatype": "real", "default": "0.5", "options": {}, "summary": "sets the <math>e</math> parameter in the MBJ and local MBJ potentials.", "id": 1566, "info": "<div><p>See the description of the <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJ\" title=\"CMBJ\" class=\"tag-link\">CMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMBJ\" title=\"SMBJ\" class=\"tag-link\">SMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RSMBJ\" title=\"RSMBJ\" class=\"tag-link\">RSMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22CMBJE%22_incategory:%22Examples%22\" title='Special:Search/\"CMBJE\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-04-10T15:55:12Z"}, "SMBJ": {"datatype": "real", "default": "2", "options": {}, "summary": "sets the <math>\\sigma</math> parameter (in <math>\\AA</math>) in the LMBJ potential.", "id": 1567, "info": "<div><p>See the description of the <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJ\" title=\"CMBJ\" class=\"tag-link\">CMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJE\" title=\"CMBJE\" class=\"tag-link\">CMBJE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/RSMBJ\" title=\"RSMBJ\" class=\"tag-link\">RSMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22RSMBJ%22_incategory:%22Examples%22\" title='Special:Search/\"RSMBJ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-15T10:39:10Z"}, "RSMBJ": {"datatype": "real", "default": "7", "options": {}, "summary": "sets the <math>r_{s}^{\\mathrm{th}}</math> parameter (in bohr) in the LMBJ potential.", "id": 1568, "info": "<div><p>See the description of the <a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a> tag.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/METAGGA\" title=\"METAGGA\" class=\"tag-link\">METAGGA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJ\" title=\"CMBJ\" class=\"tag-link\">CMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJA\" title=\"CMBJA\" class=\"tag-link\">CMBJA</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJB\" title=\"CMBJB\" class=\"tag-link\">CMBJB</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/CMBJE\" title=\"CMBJE\" class=\"tag-link\">CMBJE</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/SMBJ\" title=\"SMBJ\" class=\"tag-link\">SMBJ</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LASPH\" title=\"LASPH\" class=\"tag-link\">LASPH</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMAXTAU\" title=\"LMAXTAU\" class=\"tag-link\">LMAXTAU</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LMIXTAU\" title=\"LMIXTAU\" class=\"tag-link\">LMIXTAU</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22RSMBJ%22_incategory:%22Examples%22\" title='Special:Search/\"RSMBJ\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-15T10:36:52Z"}, "AMGGAX": {"datatype": "real", "default": [["1.0-<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AEXX\">AEXX</a>", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>"], ["1.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.FALSE.</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMGGAX\">AMGGAX</a> is a parameter that multiplies the meta-GGA exchange functional (available as of VASP.6.4.0).</span>", "id": 1569, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMGGAX\">AMGGAX</a> can be used as the fraction of meta-GGA exchange in a Hartree-Fock/DFT hybrid functional (possible since VASP.6.4.0).\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22AMGGAX%22_incategory:%22Examples%22\" title='Special:Search/\"AMGGAX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-15T21:37:46Z"}, "AMGGAC": {"datatype": "real", "default": [["1.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a><math>=</math><span><span class=\"tag-value\">.FALSE.</span> or </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">AEXX</a><math>\\neq</math>1.0"], ["0.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a><math>=</math><span><span class=\"tag-value\">.TRUE.</span> and </span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">AEXX</a><math>=</math><span><span class=\"tag-value\">1</span>.0</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMGGAC\">AMGGAC</a> is a parameter that multiplies the meta-GGA correlation functional (available as of VASP.6.4.0).</span>", "id": 1570, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/AMGGAC\">AMGGAC</a> can be used as the fraction of  meta-GGA correlation in a Hartree-Fock/DFT hybrid functional. \n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAX\" title=\"ALDAX\" class=\"tag-link\">ALDAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22AMGGAC%22_incategory:%22Examples%22\" title='Special:Search/\"AMGGAC\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-15T21:34:17Z"}, "ALDAX": {"datatype": "real", "default": [["1.0-<a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/AEXX\">AEXX</a>", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.TRUE.</span>"], ["1.0", "if <a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LHFCALC\">LHFCALC</a>=<span class=\"tag-value\">.FALSE.</span>"]], "options": {}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALDAX\">ALDAX</a> is a parameter that multiplies the LDA exchange functional or the LDA part of the GGA exchange functional.</span>", "id": 1571, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALDAX\">ALDAX</a> can be used as the fraction of LDA exchange in a Hartree-Fock/DFT hybrid functional.\n</p><p><br>\n</p>\n<div class=\"alert alert-info\" role=\"alert\"><h5 class=\"alert-heading\">Mind:</h5>  For versions of VASP prior to 6.4.0, <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/ALDAX\">ALDAX</a> was constrained to be equal to 1.0-<a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>. This constraint is lifted since VASP.6.4.0.\n</div><h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/AEXX\" title=\"AEXX\" class=\"tag-link\">AEXX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/ALDAC\" title=\"ALDAC\" class=\"tag-link\">ALDAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAX\" title=\"AGGAX\" class=\"tag-link\">AGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AGGAC\" title=\"AGGAC\" class=\"tag-link\">AGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAX\" title=\"AMGGAX\" class=\"tag-link\">AMGGAX</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/AMGGAC\" title=\"AMGGAC\" class=\"tag-link\">AMGGAC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/LHFCALC\" title=\"LHFCALC\" class=\"tag-link\">LHFCALC</a>,\n<a href=\"https://www.vasp.at/wiki/index.php/List_of_hybrid_functionals\" title=\"List of hybrid functionals\">List of hybrid functionals</a>\n</p><p><a href=\"https://www.vasp.at/wiki/index.php/Special:Search/%22ALDAX%22_incategory:%22Examples%22\" title='Special:Search/\"ALDAX\" incategory:\"Examples\"'>Examples that use this tag</a>\n</p>\n</div>", "last_revised": "2023-02-16T10:04:55Z"}, "LVGVCALC": {"datatype": "boolean", "default": ".TRUE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVGVCALC\">LVGVCALC</a> switches on calculation of the <i>vGv</i> expression for the orbital magnetic susceptibility.</span>", "id": 1572, "info": "<div><p>When performing a chemical shift calculation the standard <i>pGv</i> susceptibility<sup id=\"cite_ref-yates:prb:07_1-0\" class=\"reference\"><a href=\"#cite_note-yates:prb:07-1\">[1]</a></sup> is calculated and used in the calculation of the CSA tensor. When <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVGVCALC\">LVGVCALC</a> is true, the magnetic susceptibility is also calculated with the <i>vGv</i> approximation. <a href=\"https://www.vasp.at/wiki/index.php/LVGVAPPL\" title=\"LVGVAPPL\" class=\"tag-link\">LVGVAPPL</a> determines whether the <i>vGv</i> or <i>pGv</i> result is applied in the calculation of the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> contribution to the CSA tensor.\n</p><p>The <i>vGv</i> expression for the orbital susceptibility was introduced by d'Avezac <i>et al.</i><sup id=\"cite_ref-avezac:prb:01_2-0\" class=\"reference\"><a href=\"#cite_note-avezac:prb:01-2\">[2]</a></sup>\nIn VASP its ultra-soft generalization is used.<sup id=\"cite_ref-dewijs:jcp:18_3-0\" class=\"reference\"><a href=\"#cite_note-dewijs:jcp:18-3\">[3]</a></sup>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>\n</p>\n<h2><span class=\"mw-headline\" id=\"References\">References</span></h2>\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-yates:prb:07-1\"><a href=\"#cite_ref-yates:prb:07_1-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.76.024401\">J. R. Yates, C. J. Pickard, F. Mauri, Phys. Rev. B 76, 024401 (2007).</a></span>\n</li>\n<li id=\"cite_note-avezac:prb:01-2\"><a href=\"#cite_ref-avezac:prb:01_2-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text\" href=\"http://link.aps.org/doi/10.1103/PhysRevB.76.165122\">M. d'Avezac, N. Marzari, F. Mauri, Phys. Rev. B 76, 165122 (2007).</a></span>\n</li>\n<li id=\"cite_note-dewijs:jcp:18-3\"><a href=\"#cite_ref-dewijs:jcp:18_3-0\">&#8593;</a> <span class=\"reference-text\"><a rel=\"nofollow\" class=\"external text tag-link\" href=\"http://aip.scitation.org/doi/10.1063/5.0069637\">G.A. de Wijs, G. Kresse, R. W. A. Havenith, M. Marsman, J. Chem. Phys. 155, 234101 (2021).</a></span>\n</li>\n</ol></div>\n</div>", "last_revised": "2023-02-16T14:50:48Z"}, "LVGVAPPL": {"datatype": "boolean", "default": ".FALSE.", "options": {".TRUE.": null, ".FALSE.": null}, "summary": "<span><a class=\"tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVGVAPPL\">LVGVAPPL</a> determines whether the <i>vGv</i> orbital magnetic susceptibility is applied in the calculation of the CSA tensor.</span>", "id": 1573, "info": "<div><p>When performing a chemical shift calculation the standard <i>pGv</i> susceptibility is used to calculate the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> contribution to the CSA tensor by default.\nThis can be overruled with <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVGVAPPL\">LVGVAPPL</a>.\nIn case <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/LVGVAPPL\">LVGVAPPL</a> is true, the <i>vGv</i> susceptibility is applied for the calculation of the <span class=\"mwe-math-element\"><span class=\"mwe-math-mathml-inline mwe-math-mathml-a11y\" style=\"display: none;\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" alttext=\"{\\displaystyle \\mathbf {G=0} }\">\n  <semantics>\n    <mrow class=\"MJX-TeXAtom-ORD\">\n      <mstyle displaystyle=\"true\" scriptlevel=\"0\">\n        <mrow class=\"MJX-TeXAtom-ORD\">\n          <mi mathvariant=\"bold\">G</mi>\n          <mo mathvariant=\"bold\">=</mo>\n          <mn mathvariant=\"bold\">0</mn>\n        </mrow>\n      </mstyle>\n    </mrow>\n    <annotation encoding=\"application/x-tex\">{\\displaystyle \\mathbf {G=0} }</annotation>\n  </semantics>\n</math></span><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/583589c975a188b8ebc8431bc172bb6a8f5bdda2\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" style=\"vertical-align: -0.338ex; width:6.805ex; height:2.176ex;\" alt=\"{\\displaystyle \\mathbf {G=0} }\"></span> contribution to the CSA tensor. For details see <a href=\"https://www.vasp.at/wiki/index.php/LVGVCALC\" title=\"LVGVCALC\" class=\"tag-link\">LVGVCALC</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/LCHIMAG\" title=\"LCHIMAG\" class=\"tag-link\">LCHIMAG</a>\n</p>\n</div>", "last_revised": "2023-02-16T13:47:24Z"}, "NHC_NCHAINS": {"datatype": "integer", "default": "0", "options": {}, "summary": "Length of the Nos\u00e9-Hoover chain.", "id": 1591, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NHC_NCHAINS\">NHC_NCHAINS</a> sets the length of the chain for the  <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover-chain_thermostat\" title=\"Nose-Hoover-chain thermostat\">Nos&#233;-Hoover&#8211;chain (NHC) thermostat</a>. Typically, this tag is set to a value between 1 and 5. The maximal allowed value is 20. \n</p><p>In case <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NHC_NCHAINS\">NHC_NCHAINS</a>=<span><span class=\"tag-value\">0</span>, the thermostat is switched off and the underlying dynamics generate a </span><a href=\"https://www.vasp.at/wiki/index.php/NVE_ensemble\" title=\"NVE ensemble\">microcanonical (NVE) ensemble</a>. <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NHC_NCHAINS\">NHC_NCHAINS</a>=<span><span class=\"tag-value\">1</span> corresponds to the </span><a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover_thermostat\" title=\"Nose-Hoover thermostat\">standard Nos&#233;-Hoover thermostat</a>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NHC_PERIOD\" title=\"NHC PERIOD\" class=\"tag-link\">NHC_PERIOD</a>, <a href=\"https://www.vasp.at/wiki/index.php/NHC_thermostat\" class=\"mw-redirect\" title=\"NHC thermostat\">NHC thermostat</a>\n</p>\n</div>", "last_revised": "2023-04-24T10:04:17Z"}, "NHC_NRESPA": {"datatype": "integer", "default": "1", "options": {}, "summary": "The number of subdivisions of the integration step used in propagation of thermostat variables in <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover-chain_thermostat\">Nos\u00e9-Hoover\u2013chain (NHC) thermostat</a>.", "id": 1600, "info": "<div><p><a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NHC_NRESPA\">NHC_NRESPA</a> sets the number of subdivisions of the integration step used in propagation of thermostat variables in  <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover-chain_thermostat\" title=\"Nose-Hoover-chain thermostat\">Nos&#233;-Hoover&#8211;chain (NHC) thermostat</a>. This might be needed in accurate calculations where, due to rapidly varying terms appearing in thermostat variables propagators could cause significant drifts of total energy (including energy contributions due to thermostat), which is a conserved quantity. \n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NHC_PERIOD\" title=\"NHC PERIOD\" class=\"tag-link\">NHC_PERIOD</a>, <a href=\"https://www.vasp.at/wiki/index.php/NHC_NS\" title=\"NHC NS\" class=\"tag-link\">NHC_NS</a>, <a href=\"https://www.vasp.at/wiki/index.php/NHC_thermostat\" class=\"mw-redirect\" title=\"NHC thermostat\">NHC thermostat</a>\n</p>\n</div>", "last_revised": "2023-05-17T13:32:09Z"}, "NHC_NS": {"datatype": "integer", "default": "1 {{!}} 3 {{!}} 7", "options": {}, "summary": "The number of subdivisions of each RESPA step used in the integration step used in propagation of thermostat variables in <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover-chain_thermostat\">Nos\u00e9-Hoover\u2013chain (NHC) thermostat</a>.", "id": 1601, "info": "<div><p>The RESPA steps used in in propagation of thermostat variables in  <a href=\"https://www.vasp.at/wiki/index.php/Nose-Hoover-chain_thermostat\" title=\"Nose-Hoover-chain thermostat\">Nos&#233;-Hoover&#8211;chain (NHC) thermostat</a> are treated by Suzuki-Yoshida scheme<sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\">[1]</a></sup><sup id=\"cite_ref-2\" class=\"reference\"><a href=\"#cite_note-2\">[2]</a></sup>, whereby each step is subdivided further into <a class=\"selflink tag-link\" href=\"https://www.vasp.at/wiki/index.php/NHC_NS\">NHC_NS</a> parts. First, fourth, and sixth order schemes with, 1, 3, and 7 steps, respectively, are supported. \n</p><p><br>\n</p>\n<h2><span class=\"mw-headline\" id=\"Related_tags_and_articles\">Related tags and articles</span></h2>\n<p><a href=\"https://www.vasp.at/wiki/index.php/NHC_PERIOD\" title=\"NHC PERIOD\" class=\"tag-link\">NHC_PERIOD</a>, <a href=\"https://www.vasp.at/wiki/index.php/NHC_NRESPA\" title=\"NHC NRESPA\" class=\"tag-link\">NHC_NRESPA</a>, <a href=\"https://www.vasp.at/wiki/index.php/NHC_thermostat\" class=\"mw-redirect\" title=\"NHC thermostat\">NHC thermostat</a>\n</p>\n</div>", "last_revised": "2023-05-17T13:54:55Z"}}}